(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["fusioncharts.maps"],{"0a7a":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r,a=n(o("3c96")),i=n(o("55b5")),l=o("a506"),s=o("3388"),c=function(e,t){return+e.minvalue===+t.minvalue?e.maxvalue-t.maxvalue:e.minvalue-t.minvalue},d=function(e,t,o){var n=e[0],r=e[1],a=e[2],i=n+(t[0]-n)*o,s=r+(t[1]-r)*o,c=a+(t[2]-a)*o;return{hex:(l.COLOR_BLACK+(i<<16|s<<8|c).toString(16)).slice(-6),rgb:[i,s,c]}},h=function(e){function t(){var t;t=e.call(this)||this;var o=(0,a.default)(t);return o.mapByCategory=!1,o.colorArr=[],o.noValidRange=!0,o.sortLegend=!1,t}(0,i.default)(t,e);var o=t.prototype;return o.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this),this.config.defaultObj={code:"CCCCCC",alpha:"100"}},o.getType=function(){return"colorComponent"},o.getName=function(){return"colorBucket"},o.configure=function(e){if(e){var t,o,n,a,i,s,d,h,g,u,p,f=this,m=f.mapByCategory,b=e.numberFormatter,v=e.colorRange||{},y=(0,l.extend2)([],v.color),k=this.getLinkedParent(),C=Math.min(Math.max((0,l.pluckNumber)(f.getFromEnv("dataSource").chart.palette,0)-1,0),4),w=k.defaultPaletteOptions&&k.defaultPaletteOptions.paletteColors[C],x=(0,l.pluckNumber)(b.getCleanValue(v.maxvalue),1/0),S=(0,l.pluckNumber)(b.getCleanValue(v.minvalue),-1/0),L=f.colorArr;if(e.mapByCategory!==r&&(m=f.mapByCategory=!!Number(e.mapByCategory)),y=m?y.filter((function(e){return e.code||e.color})):y.filter((function(e){return e.minvalue||e.maxvalue})),y.forEach((function(e){e.minvalue&&e.maxvalue&&+e.maxvalue<+e.minvalue&&(h=e.maxvalue,e.maxvalue=e.minvalue,e.minvalue=h),e.minvalue?e.maxvalue?(u=b.getCleanValue(e.minvalue),g=b.getCleanValue(e.maxvalue),e.rangeLabel=b.dataLabels(u)+"-"+b.dataLabels(g)):(u=b.getCleanValue(e.minvalue),e.maxvalue=g=x,e.rangeLabel=g===1/0?">"+b.dataLabels(u):b.dataLabels(u)+"-"+b.dataLabels(g)):(e.minvalue=u=S,g=b.getCleanValue(e.maxvalue),e.rangeLabel=u===-1/0?"<"+b.dataLabels(g):b.dataLabels(u)+"-"+b.dataLabels(g))})),y.sort(c),y&&(t=y.length)){for(L.length=0,o=0;o<t;o+=1)d=y[o],n=(0,l.pluck)(d.color,d.code,w&&w[o]),a=(0,l.pluck)(d.alpha),s=(0,l.pluck)(d.bordercolor),i=(0,l.pluck)(d.borderalpha,100),g=(0,l.pluckNumber)(d.maxvalue),u=(0,l.pluckNumber)(d.minvalue),p=(0,l.pluck)(d.label,d.displayvalue,d.rangeLabel),(n&&g>=u||m&&p)&&L.push({code:n,alpha:a||"100",oriAlpha:a,maxvalue:g,minvalue:u,label:(0,l.parseUnsafeString)(p),labelId:p.toLowerCase(),bordercolor:s,borderAlpha:i,name:d.name});f.sortedColorArr=f.colorArr.slice(0)}else f.noValidRange=!0,f.colorArr=[],f.sortedColorArr=[]}},o.getColorObj=function(e){if(e===r)return{outOfRange:!0};var t,o,n=this,a=n.sortedColorArr,i=n.gradient?1:0,s=a[i],c=e;if(n.mapByCategory){c=(0,l.parseUnsafeString)(c).toLowerCase()||c.toString().toLowerCase();while(s){if(s.labelId===c||s.maxvalue>=c&&s.minvalue<=c)return{code:s.code,alpha:s.alpha||"100",oriAlpha:s.oriAlpha,seriesIndex:i,legendItemId:s.legendItemId};i+=1,s=a[i]}return{outOfRange:!0}}if(n.gradient){if(n.scaleMin<=c&&n.scaleMax>=c){while(s&&s.maxvalue<c)i+=1,s=a[i];return o=(c-s.minvalue)/s.range,{code:d(a[i-1].codeRGB,s.codeRGB,o).hex}}return{outOfRange:!0}}while(s){if(c<s.minvalue&&!t)return 0===i?{code:s.code,alpha:s.alpha||"100",oriAlpha:s.oriAlpha,seriesIndex:i,name:s.name,label:s.label,outOfRange:!0,bordercolor:s.bordercolor,borderalpha:s.borderAlpha}:{code:a[i-1].code,alpha:a[i-1].alpha||"100",oriAlpha:a[i-1].oriAlpha,seriesIndex:i,name:a[i-1].name,label:a[i-1].label,outOfRange:!0,bordercolor:a[i-1].bordercolor,borderalpha:a[i-1].borderAlpha};if(c>s.maxvalue&&i===a.length-1)return{code:s.code,alpha:s.alpha||"100",oriAlpha:s.oriAlpha,seriesIndex:i,name:s.name,label:s.label,outOfRange:!0,bordercolor:s.bordercolor,borderalpha:s.borderAlpha};if(s.maxvalue>c&&s.minvalue<=c)return{code:s.code,alpha:s.alpha||"100",oriAlpha:s.oriAlpha,seriesIndex:i,name:s.name,label:s.label,bordercolor:s.bordercolor,borderalpha:s.borderAlpha};if(c===s.maxvalue&&(t={code:s.code,alpha:s.alpha||"100",oriAlpha:s.oriAlpha,seriesIndex:i,name:s.name,label:s.label,bordercolor:s.bordercolor,borderalpha:s.borderAlpha}),i===a.length-1&&t)return t;i+=1,s=a[i]}return a.length?void 0:{outOfRange:!0}},o.getColorRangeArr=function(e,t){var o,n,r,a,i,s,c,d,h=[],g=e,u=t;if(!this.defaultAsigned&&(g>u&&(o=g,g=u,u=o),g<u&&(a=this.getColorObj(g),s=this.getColorObj(u),a&&s))){for(i=g,n=a.seriesIndex,r=s.seriesIndex;n<=r;n+=1)c=(0,l.extend2)({},this.colorArr[n]),c.minvalue!==i&&(c.minvalue=i),h.push(c),d=c,i=c.maxvalue;d&&(d.maxvalue=u)}return h},t}(s.ComponentInterface),g=h;t.default=g},"0abb":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r=n(o("55b5")),a=o("3388"),i=o("a506"),l=",",s=function(e,t,o){var n,r=e.value,a=(0,i.HEXtoRGB)(e.code),l=(0,i.HEXtoRGB)(t.code);return n=t.value-r,(0,i.RGBtoHex)([Math.round(a[0]+(l[0]-a[0])/n*(o-r)),Math.round(a[1]+(l[1]-a[1])/n*(o-r)),Math.round(a[2]+(l[2]-a[2])/n*(o-r))])},c=function(e){function t(){var t;return t=e.call(this)||this,t.colorRange={},t.valueRatio={},t.data={},t.mapByPercent=i.UNDEF,t}(0,r.default)(t,e);var o=t.prototype;return o.getType=function(){return"colorComponent"},o.getName=function(){return"gradientColorRange"},o.configure=function(e){if(e){var t,o,n,r=this;for(r.data=e,r.appender=i.BLANKSTRING,n=r.colorRange=e.colorRange.sort((function(e,t){return e.value-t.value})),r.valueRatio=i.UNDEF,r.values=[],t=0,o=n.length;t<o;t++)r.values.push(n[t].value)}},o.getValueRatio=function(){var e,t,o,n=this.colorRange,r=n.length,a=this.valueRatio,i=n[r-1].value,l=n[0].value,s=i-l,c=0;if(a)return a;for(a=this.valueRatio=[],t=0;t<r;t++)e=n[t],o=(e.value-l)/s,a.push(100*(o-c)),c=o;return a},o.getCumulativeValueRatio=function(){var e,t,o=this.colorRange,n=o.length,r=o[0].value,a=o[n-1].value,i=[];for(t=0;t<n;t++)e=o[t],i.push((e.value-r)/(a-r)*100);return i},o.getBoxFill=function(e){var t,o,n,r=this.colorRange,a=r.length,s=[];for(n=e?90:0,o=0;o<a;o++)t=r[o],s.push(t.code);return(0,i.toRaphaelColor)({FCcolor:{alpha:"100,100,100",angle:n,color:s.join(l),ratio:this.getValueRatio().join(l)}})},o.getColorByValue=function(e){var t,o,n,r,a=this.values,l=this.colorRange;if(e!==i.UNDEF&&null!==e){for(o=0,t=a.length;o<t;o++){if(e===a[o]){r=l[o].code;break}if(!o&&e<a[o]){n=!0;break}if(o===t-1&&e>a[o]){n=!0;break}if(e>a[o]&&e<a[o+1]){r=s(l[o],l[o+1],e);break}}if(!n)return r}},o.getLabelByValue=function(e){var t,o,n,r,a=this.values,l=this.colorRange;if(e!==i.UNDEF&&null!==e){for(o=0,t=a.length;o<t;o++){if(e===a[o]){r=l[o].label;break}if(!o&&e<a[o]){n=!0;break}if(o===t-1&&e>a[o]){n=!0;break}if(e>a[o]&&e<a[o+1]){r=l[o].label;break}}if(!n)return r}},t}(a.ComponentInterface),d=c;t.default=d},1612:function(e,t,o){"use strict";t.__esModule=!0,t.ATOMIC_DATA_TYPE=t.STRETCH=t.END=t.START=t.CENTER=t.DISPLAY_FLEX=t.DISPLAY_GRID=void 0;var n="grid",r="flex",a="center",i="start",l="end",s="stretch",c=["string","number","function","boolean","undefined"];t.ATOMIC_DATA_TYPE=c,t.STRETCH=s,t.END=l,t.START=i,t.CENTER=a,t.DISPLAY_FLEX=r,t.DISPLAY_GRID=n},2611:function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=i;var r=n(o("f36a"));function a(e){var t=e.getChildren("colorManager");return e.getFromEnv("dataSource").colorrange?t?(e.addToEnv("colorManager",t[0]),void t[0].configure()):(t=new r.default,e.attachChild(t,"colorManager"),e.addToEnv("colorManager",t),void t.configure()):(t&&(t[0].config.legendItemIds=[]),void e.deleteFromEnv("colorManager"))}function i(e){a(e)}},"2e61":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=h;var r=o("a506"),a=n(o("9b58")),i=n(o("4e14")),l="none",s="gradient",c="icon";function d(e){var t,o=e.getFromEnv("dataSource").colorrange,n=e.getFromEnv("dataSource").chart.mapbycategory,d="maps"===e.defaultDatasetType,h="TreeMap"===e.getName(),g=e.getFromEnv("legend"),u=e.getFromEnv("gLegend");switch(t=o&&e.config.showLegend?d?o.gradient&&Number(o.gradient)?s:o.color?c:l:h?o.gradient&&"0"!==o.gradient?s:l:o.gradient&&"0"!==o.gradient&&!Number(n)?s:c:l,t){case"gradient":e.deleteFromEnv("legend"),g&&g.remove(),(0,r.componentFactory)(e,a.default,"gLegend",1),u=e.getChildren("gLegend")[0],u.configure(),e.addToEnv("gLegend",u);break;case"icon":e.deleteFromEnv("gLegend"),u&&u.remove(),(0,r.componentFactory)(e,i.default,"legend",1,{showLegend:!0}),g=e.getChildren("legend")[0],g.configure(),e.addToEnv("legend",g);break;case"none":e.deleteFromEnv("gLegend"),e.deleteFromEnv("legend"),u&&u.remove(),g&&g.remove()}}function h(e){d(e)}},"322b":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r=n(o("9523"));function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){(0,r.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var l=function(e){return+e.replace(/fr/,"")},s=function e(t,o,n){var r,a,i,l=0;if(t.length){if(t.forEach((function(e){return l+=e.multiplier})),r=n-o,a=r/l,i=t.filter((function(e){return e.baseSize<=e.multiplier*a})),i.length<t.length)return t.filter((function(e){return e.baseSize>e.multiplier*a})).forEach((function(e){return o+=e.baseSize})),e(i,o,n);i.forEach((function(e){return e.baseSize=e.multiplier*a}))}},c=function(e,t,o){var n,r,a,i,l,s,c,d=0;if(e.length){l=e.filter((function(e){return"minmax"===e.type&&e.growthLimit!==1/0})),n=o-t,l.sort((function(e,t){var o=e.growthLimit-e.baseSize,n=t.growthLimit-t.baseSize;return o-n})),i=l.length;while(d<i&&n)for(r=n/(l.length-d||1),a=0,i=l.length;a<i;a++)s=l[a].growthLimit,c=Math.min(r+l[a].baseSize,s),n-=c-l[a].baseSize,l[a].baseSize=c,s!==c||l[a].frozen||(l[a].frozen=!0,d++);e=e.filter((function(e){return"minmax"===e.type&&e.growthLimit===1/0||"minmax"!==e.type})),r=n/e.length,e.forEach((function(e){return e.baseSize+=r}))}},d=function(){function e(e,t,o){return void 0===e&&(e=[]),void 0===t&&(t=[]),void 0===o&&(o=600),this.clear(),this.set("tracks",e),this.set("items",t),this.set("containerSize",o),this}var t=e.prototype;return t.set=function(e,t){switch(this.props[e]=t,e){case"tracks":this._initTrackSize();break;case"items":this._initItems();break;case"containerSize":this.props[e]=isNaN(+t)?0:+t}return this},t.get=function(e){return this.props[e]},t._initTrackSize=function(e){var t,o,n,r,a,s,c,d=e||this.props.tracks||[],h=this._config,g=[{}];for(h.frTracks=[],h.intrinsicTracks=[],t=1,o=d.length;t<o;t++)n=d[t].size,a=1,Array.isArray(n)?(s=+n[0]||0,n[1].indexOf("fr")>0||n[0].indexOf("fr")>0?(c=1/0,h.frTracks.push(t),r="minmax"):"auto"===n[1]||"auto"===n[0]?(c=1/0,h.intrinsicTracks.push(t),r="minmax"):isNaN(+n[0])||isNaN(+n[1])||(c=Math.max(+n[0],+n[1]),s=Math.min(+n[0],+n[1]),h.intrinsicTracks.push(t),r="minmax")):isNaN(+n)?n.indexOf("fr")>0?(s=0,c=1/0,h.frTracks.push(t),r="flex",a=l(n)):(s=0,c=1/0,r="intrinsic",h.intrinsicTracks.push(t)):(s=c=+n,r="fixed"),g.push(i(i({},d[t]),{},{type:r,multiplier:a,baseSize:s,growthLimit:c}));return h.sanitizedTracks=g},t._initItems=function(e){var t,o,n,r,a=e||this.props.items||[],l=this._config,s=[],c=0;for(n=0,r=a.length;n<r;n++)isNaN(a[n].start)||isNaN(a[n].end)?l.autoFlow.push(a[n]):(s.push(i({},a[n])),o=s[c],c++,o.size=isNaN(o.size)?this._getParentSize(o):+o.size);for(s.sort((function(e,t){var o=e.end-e.start,n=t.end-t.start;return o===n?e.start-t.start:o-n})),n=0,t=r=s.length;n<r;n++)if(s[n].end-s[n].start>1){t=n;break}return this._config.nonSpanningItemStartIndex=t,this._config.sanitizedItems=s},t._getParentSize=function(e){var t,o=this._config.sanitizedTracks,n=0;return t=o.filter((function(t){return t.start>=e.start&&t.end<=e.end})),t.forEach((function(e){return n+=e.baseSize})),n||0},t.resolveTracks=function(){return this._placeNonSpanningItems()._placeSpanningItems()._distributeFreeSpace(),this._config.sanitizedTracks},t._placeNonSpanningItems=function(){var e,t,o=this._config,n=o.sanitizedItems,r=o.sanitizedTracks,a=o.nonSpanningItemStartIndex,i=n.slice(0,a);return i.forEach((function(o){t=o.start,e=r[t],"fixed"!==e.type&&(e.baseSize=Math.max(e.baseSize,o.size),e.growthLimit=Math.max(e.growthLimit,e.baseSize))})),this},t._placeSpanningItems=function(){var e,t,o,n,r,a,i,l=this._config,s=l.sanitizedItems,c=l.sanitizedTracks,d=l.nonSpanningItemStartIndex,h=l.frTracks,g=s.slice(d),u=[0];if(!g.length)return this;for(a=1,i=c.length;a<i;a++)u[a]=u[a-1]+(c[a].baseSize||0);return g.forEach((function(i){if(e=u[i.end-1]-u[i.start-1],t=Math.max(0,i.size-e),t){for(a=i.start,r=!1,n=0;a<i.end;a++)h.indexOf(a)>=0&&(r=!0),"fixed"!==c[a].type&&n++;if(n&&!r)for(o=t/n,a=i.start;a<i.end;a++)"fixed"!==c[a].type&&(c[a].baseSize+=o)}})),this},t._distributeFreeSpace=function(){var e=this._config,t=e.frTracks,o=e.intrinsicTracks,n=e.sanitizedTracks,r=this.props.containerSize,a=0;return n.forEach((function(e){return a+=e.baseSize||0})),a<r&&(t.length?(t.forEach((function(e,o){t[o]=n[e]})),t.forEach((function(e){return a-=e.baseSize})),s(t,a,r)):o.length&&(o.forEach((function(e,t){o[t]=n[e]})),c(o,a,r))),this},t.clear=function(){return this.props={},this._config={frTracks:[],intrinsicTracks:[],autoFlow:[]},this},e}(),h=d;t.default=h},"3d3f":function(e,t,o){"use strict";t.__esModule=!0,t.pluckNumber=t.getDisplayProperty=t.attachLayoutInformation=t.cloneObject=void 0;var n,r=o("1612"),a=function(e){return e.style&&e.style.display},i=function e(t){if(r.ATOMIC_DATA_TYPE.indexOf(typeof t)>-1||null===t)return t;if(Array.isArray(t)){var o,n,a=[];for(o=0,n=t.length;o<n;o++)a.push(e(t[o]));return a}if("object"===typeof t){var i,l={};for(i in t)l[i]=e(t[i]);return l}},l=function e(t,o){var n,r;for(void 0===t&&(t={}),void 0===o&&(o={}),t.layout=o.layout,n=0,r=(t.children||[]).length;n<r;n++)e(t.children[n],o.children[n])},s=function(){var e,t,o;for(t=0,o=arguments.length;t<o;t+=1)if(e=arguments[t],(e||!1===e||0===e)&&!isNaN(e=Number(e)))return e;return n};t.pluckNumber=s,t.attachLayoutInformation=l,t.cloneObject=i,t.getDisplayProperty=a},"42a1":function(e,t,o){"use strict";t.__esModule=!0,t.default=void 0;var n="plot",r="final",a=[{initialAttr:function(){return{opacity:0}},finalAttr:function(){return{opacity:1}}}],i=function(){return a[0].slot=n,a},l=function(e){return[{finalAttr:function(){return e.finalAttr}}]},s=function(){return a[0].slot=r,a},c=function(){return[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"final"}]},d=function(){return a[0].slot=r,a},h=function(e){return[{finalAttr:function(){return e.finalAttr}}]},g=function(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]},u=function(e){return[{initialAttr:function(){return Object.assign({opacity:0},e.attr)},finalAttr:function(){return e.attr},slot:"plot"}]},p={"initial.dataset.entities":function(){return{"path.appearing":i,"path.updating":l,"labelConnectors.appearing":s,"labelConnectors.updating":null,"entityLabel.appearing":c,"*":null}},"initial.dataset.markers":function(){return{markers:null,"markerItem.appearing":d,"markerItem.updating":h}},"initial.group.mapGroup":function(){return{"group.appearing":g,"group.updating":u,"*":null}}};t.default=p},"4e14":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r=n(o("9523")),a=n(o("3c96")),i=n(o("55b5")),l=o("a506"),s=o("3388"),c=n(o("b0ea")),d=o("2813"),h=o("74a7"),g=n(o("aff6")),u=o("8a8b"),p=o("9fc2");function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(Object(o),!0).forEach((function(t){(0,r.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var b,v={left:l.POSITION_START,right:l.POSITION_END,center:l.POSITION_MIDDLE},y=Math,k=y.min,C=y.max,w=y.floor,x=y.ceil,S="inherit",L=",",T="none",E="#ffffff",F="px",_="0,",N=l.preDefStr.NORMAL,A=l.preDefStr.BOLD,I=l.preDefStr.noneStr,P={fontWeight:{1:A,0:N},fontStyle:{1:"italic",0:N},textDecoration:{1:"underline",0:I}},O=function(e){var t,o;return{dragstart:function(){t=e.config.xL||e.config.xPos,o=e.config.yL||e.config.yPos},dragmove:function(n){var r,a,i=n.originalEvent.data[0],l=n.originalEvent.data[1],s=e.config,c=e.getFromEnv("chartConfig"),d=(s.borderWidth||0)+2;r=k(C(t+i,d),c.width-s.width-d),a=k(C(o+l,d),c.height-s.height-d),s.xPos=s.xL=r,s.yPos=s.yL=a,e.addJob("draw",e.dragDraw,u.priorityList&&u.priorityList.draw)}}};(0,d.addDep)({name:"legendAnimation",type:"animationRule",extension:g.default});var M=function(e){return Array(e).fill()},R=function(e){function t(){var t;t=e.call(this)||this;var o=(0,a.default)(t);return o._stateCosmetics={},o._legendState=[],o.dragDraw=function(){o.draw()},o.drawScroll=function(){o.createItemGroup(),o.createCaptionGroup()},o.config.handlers=O(o),t}(0,i.default)(t,e);var o=t.prototype;return o.createItem=function(e){var t,o=this;return t=new c.default,o.attachChild(t,"legendItem"),t.setLinkedItem("owner",e),t.addEventListener("mouseover",(function(){t.setLegendState("hover",!0)})),t.addEventListener("mouseout",(function(){t.removeLegendState("hover")})),t.getId()},o.getItem=function(e){var t=this,o=t.getChildren().legendItem;if(e===b)return!1;if(o)for(var n=0;n<o.length;n++)if(o[n].getId()===e)return o[n]},o.getSortedLegendItems=function(){var e,t,o=this,n=o.getChildren("legendItem")||[],r=o.config.reverselegend,a={},i=[];for(e=0,t=n.length;e<t;e++)n[e].config.index===b?a[t+e]=n[e]:a[n[e].config.index]=n[e];return Object.keys(a).sort((function(e,t){return r?t-e:e-t})).forEach((function(e){i.push(a[e])})),i},o.disposeItem=function(e){var t=this,o=t.getItem(e);o&&o.remove()},o.getName=function(){return"legend"},o.getType=function(){return"legend"},o.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this);var t=this.config;t.enabled=!0,t.symbolWidth=12,t.borderRadius=1,t.lastScrollPos=0,t.oriSymbolPadding=3,t.textPadding=4,t.scrollY=0,t.scrollX=0,t.backgroundColor=E,t.initialItemX=0,t.title={text:l.BLANKSTRING,x:0,y:0,padding:2},t.scroll={},t.horizontalScroll={},t.itemStyle={}},o.createLegendGroup=function(){var e,t=this,o=t.config,n=t.getFromEnv("chart"),r=n.config,a=t.getFromEnv("animationManager"),i=.5*(o.borderWidth||0)+2,l=t.getContainer("legendGroup");o.xL&&(o.xL=k(C(o.xL,i),r.width-o.width-i)),o.yL&&(o.yL=k(C(o.yL,i),r.height-o.height-i)),e=a.setAnimation({el:l||"group",attr:{name:"legendGroup",transform:["T",o.xL||o.xPos,o.yL||o.yPos]},container:n.getChildContainer("legendGroup"),component:t}),l||t.addContainer("legendGroup",e)},o.drawDualScrollRect=function(){var e=this.getGraphicalElement("dualScrollRect"),t=this.getGraphicalElement("scrollbarContainer"),o=this.getFromEnv("animationManager");this.config.scroll.enabled&&this.config.horizontalScroll.enabled?(e=o.setAnimation({el:e||"rect",attr:{x:this.config.width-12,y:this.config.height-12,height:12,width:12,fill:this.config.legendScrollBgColor,stroke:"none"},component:this,container:t}),e=this.addGraphicalElement("dualScrollRect",e)):e&&e.remove()},o.draw=function(){this.createLegendGroup(),this.drawLegendBox(),this.createItemGroup(),this.createCaptionGroup(),this.drawCaption(),this.createScrollGroup(),this.decideScroll(),this.drawDualScrollRect()},o.decideScroll=function(){var e=this,t=e.config,o=t.scroll.enabled,n=t.horizontalScroll.enabled;o?this.createScrollBar():t.hasScroll&&(e.getChildren("legendScrollBar")[0].remove(),t.hasScroll=!1),n?this.createScrollBar(n):t.hasHorizontalScroll&&(e.getChildren("legendHorizontalScrollBar")[0].remove(),t.hasHorizontalScroll=!1)},o.createCaptionGroup=function(){var e,t=this.getChildContainer("captionGroup"),o=this.getFromEnv("animationManager"),n=this.getContainer("legendGroup"),r=(0,l.pluckNumber)(this.config.padding,4),a=.5*r,i=_,s=C(this.config.height-r,0),c=C(this.config.width-r,0),d=L+(this.config.horizontalScroll.enabled?c:this.config.width)+L+(this.config.scroll.enabled?s:this.config.height);this.config.horizontalScroll.enabled?(e=this.addChildContainer("captionGroup",o.setAnimation({el:t&&null!==t[0]?t:"group",attr:{name:"captionGroup",transform:["T",0,this.config.scrollY||0]},container:n,component:this})),this.config.scroll.enabled?e.attr({"clip-rect":i+a+d}):e.attr({"clip-rect":null})):t&&t.remove()},o.createItemGroup=function(){var e,t=this,o=t.getFromEnv("animationManager"),n=t.getContainer("legendGroup"),r=t.getChildContainer("itemGroup"),a=(0,l.pluckNumber)(t.config.padding,4),i=.5*a,s=_,c=C(t.config.height-a,0),d=C(t.config.width-a,0),h=L+(t.config.horizontalScroll.enabled?d:t.config.width)+L+(t.config.scroll.enabled?c:t.config.height);return e=o.setAnimation({el:r||"group",attr:{name:"item",transform:["T",t.config.scrollX||0,t.config.scrollY||0]},container:n,component:t}),r||t.addChildContainer("itemGroup",e),t.config.scroll.enabled||t.config.horizontalScroll.enabled?e.attr({"clip-rect":s+i+h}):e.attr({"clip-rect":null}),e},o.createScrollGroup=function(){var e=this,t=e.getFromEnv("animationManager"),o=e.getChildContainer("scrollGroup"),n=e.getContainer("legendGroup");!e.config.scroll.enabled&&!e.config.horizontalScroll.enabled||e.getGraphicalElement("scrollbarContainer")||e.addGraphicalElement("scrollbarContainer",t.setAnimation({el:o||"group",attr:{name:"scrollGroup"},container:n,component:e,label:"scrollbar"}))},o.createScrollBar=function(e){void 0===e&&(e=!1);var t,o,n,r,a,i,s,c,d=this,g=d.config,p=d.getFromEnv("chart-attrib"),f=e?"legendHorizontalScrollBar":"legendScrollBar",m=d.getChildren(f)&&d.getChildren(f)[0],b=g.borderWidth||0,v=.5*b,y=(0,l.pluckNumber)(g.padding,4),k=g.width,w=g.height;t={conf:{isHorizontal:e},handler:{scroll:function(t){g.lastScrollPos=t,e?g.scrollX=(r-g.totalWidth)*t:g.scrollY=(n-g.totalHeight)*t,d.addJob("scrollDraw",d.drawScroll,u.priorityList&&u.priorityList.draw)},mousedown:function(e){e.preventDefault(),e.stopPropagation()}}},p.legendscrollbgcolor&&(t.conf.color=(0,l.convertColor)(p.legendscrollbgcolor)),m||(m=d.attachChild(new h.ScrollBar,f),e?this.config.hasHorizontalScroll=!0:this.config.hasScroll=!0),m.configure(t.conf),m.attachEventHandlers(t.handler),o=m.config,e?(a=v,i=w-m.getLogicalSpace().height-b+.5*y,c=k-b,this.config.scroll.enabled&&this.config.horizontalScroll.enabled&&(c-=12),c=C(c,0),r=C(k-y,0),o.scrollRatio=(r+y)/g.totalWidth):(n=C(w-y,0),a=k-m.getLogicalSpace().width-b+.5*y,i=v,s=w-b,this.config.scroll.enabled&&this.config.horizontalScroll.enabled&&(s-=12),s=C(s,0),o.scrollRatio=(n+y)/g.totalHeight),o.startPercent=0,o.scrollPosition=g.lastScrollPos,o.parentLayer=d.getChildContainer("scrollGroup"),m.setDimension({x:a,y:i,height:s,width:c})},o.drawCaption=function(){var e,t,o,n,r=this,a=r.getGraphicalElement("caption"),i=r.config.horizontalScroll.enabled?r.getChildContainer("captionGroup"):r.getChildContainer("itemGroup"),s=this.getFromEnv("animationManager"),c=this.config,d=(0,l.pluckNumber)(c.padding,4),h=c.scroll.enabled,g=10,u=c.width;if(c.title&&c.title.text!==l.BLANKSTRING&&c.validLegendItem){switch(c.title.align){case l.POSITION_START:o=d;break;case l.POSITION_END:o=u-d-(h?g:0);break;default:o=.5*u}t=c.title.style,e={text:c.title.text,title:c.title.originalText||l.BLANKSTRING,x:o,y:d,fill:c.title.style.color,direction:c.textDirection,"line-height":t.lineHeight,"vertical-align":l.POSITION_TOP,"text-anchor":c.title.align,opacity:1},n={"font-weight":t.fontWeight,"font-style":t.fontStyle,"font-family":t.fontFamily,"font-size":t.fontSize},a&&a.show(),a&&a[0]?s.setAnimation({el:a,attr:e,component:r,container:i,css:n}):(a=s.setAnimation({el:"text",attr:e,component:r,container:i,css:n}),a=this.addGraphicalElement("caption",a)),r.getFromEnv("toolTipController").enableToolTip(a,c.title.originalText)}else a&&s.setAnimation({el:a,component:r,doNotRemove:!0,callback:function(){a.hide()}})},o.drawLegendBox=function(){var e,t=this,o=this.getFromEnv("animationManager"),n=t.config,r=t.getContainer("legendGroup"),a=n.width,i=t.getGraphicalElement("box"),l=n.height,s=n.borderRadius,c=n.backgroundColor,d=n.borderColor,h=n.borderAlpha,g=n.backgroundAlpha,u=n.borderWidth||0;return e=o.setAnimation({el:i||"rect",attr:{x:0,y:0,width:a,height:l,r:s,stroke:d,"stroke-width":u,fill:c||T,"stroke-opacity":h/100,"fill-opacity":g/100,cursor:n.legendAllowDrag?"move":"default"},container:r,component:t,label:"legendGroup"}),i||(t.addGraphicalElement("box",e),e.shadow(n.shadow)),e},o._calculateTopPosition=function(e){var t=this,o=t.getFromEnv("chart"),n=o.config,r=e,a=o.getChildren("caption")&&o.getChildren("caption")[0],i=o.getChildren("subCaption")&&o.getChildren("subCaption")[0],s=o.getChildren("chartMenuBar")&&o.getChildren("chartMenuBar")[0],c=n.oriTopSpace;return!n.toolbarY&&s&&s.props&&s.props.height&&(c>s.props.height+s.props.y||(r=s.props.y+s.props.height)),a&&a.config&&a.config.text&&a.config.text!==l.BLANKSTRING&&a.config.height&&1===a.config.isOnTop&&(r=a.config.height+a.config.y+a.config.captionPadding),i&&i.config&&i.config.height&&1===i.config.isOnTop&&(r=i.config.y+i.config.height+(a&&a.config&&a.config.captionPadding||0)),C(r,e)},o.getPosition=function(){var e,t,o,n,r,a,i,s,c,d,h=this,g=h.getFromEnv("chart"),u=g.config,p=h.config,f=g.getChildren("canvas"),m=f&&f.length>1?u.height-f[0].config.canvasBottom:u.height-u.canvasBottom,b=u.canvasLeft,v=u.canvasRight,y=u.canvasWidth,k=p.chartMarginLeft||0,C=p.chartMarginRight||0,w=p.chartMarginTop||0,x=p.chartMarginBottom||0,S=u.actionBarHeight||0,L=p.actualCanvasMarginLeft||0,T=u.actualCanvasMarginTop||0,E=u.actualCanvasMarginBottom||0,F=u.actualCanvasMarginRight||0,_=p.alignLegendWithCanvas,N=u.height,A=u.canvasTop,I=p.width||0,P=p.height||0,O=u.borderWidth,M=u.oriCanvasLeft,R=u.oriCanvasRight,B=u.oriTopSpace,D=u.oriBottomSpace,G=0,V=0,z=p.borderWidth||0,H=p.legendPos?p.legendPos.split("-"):[],j=g.getChildren("caption")&&g.getChildren("caption")[0],W=g.getChildren("subCaption")&&g.getChildren("subCaption")[0];return H[0]!==l.POSITION_LEFT&&H[0]!==l.POSITION_RIGHT||(p.align=H[0],p.verticalAlign=l.POSITION_MIDDLE,c=p.layout="vertical"),H[0]===l.POSITION_ABSOLUTE?(e=p.legendXPosition,t=p.legendYPosition,o=u.width-I-O,n=u.height-P-O,e>o&&(e=o),t>n&&(t=n)):c?(H[0]===l.POSITION_LEFT?e=k+L+O:H[0]===l.POSITION_RIGHT&&(e=u.width-C-F-I-O),G=(0,l.pluckNumber)(B,A),V=(0,l.pluckNumber)(D,m),H[1]===l.POSITION_TOP?(t=G+(p.y||0),t=this._calculateTopPosition(t)):H[1]===l.POSITION_BOTTOM?(t=N-V-P+(p.y||0),d=V-(O+x+S+(j&&0===j.config.isOnTop&&j.config.height?j.config.height+j.config.captionPadding:0)+(W&&0===j.config.isOnTop?W.config.height:0)),d<0&&(t+=d)):t=G+.5*(N-V-G-P)+(p.y||0)):(i=u.width-(k+L+(C+F)),s=_?y-I:i-I,r=_?(0,l.pluckNumber)(M,b):k+L,a=_?u.width-(0,l.pluckNumber)(R,v):C+F,e=H[1]===l.POSITION_LEFT?r:H[1]===l.POSITION_RIGHT?u.width-(I+a):r+s/2,H[0]===l.POSITION_TOP?(t=w+T,t=this._calculateTopPosition(t)):t=N-P-E-x-S),(0,l.crispBound)(e,t,I,P,z)},o.setTranslation=function(e,t){var o=this,n=o.config;n._translateX=e,n._translateY=t,n.translate="t"+e+","+t},o.allocatePosition=function(){var e,t=this,o=t.config;e=o.translate?(0,l.crispBound)(o._translateX,o._translateY,o.width,o.height,o.borderWidth):t.getPosition(),o.xPos=e.x,o.yPos=e.y,o.width=e.width,o.height=e.height},o._manageLegendPosition=function(e){var t,o=this,n=o.config,r=n.legendPos?n.legendPos.split("-"):[],a={left:0,right:0,top:0,bottom:0};return n.padding=4,n.textPadding=4,t=r[0]===l.POSITION_ABSOLUTE?o._placeLegendBlockBottom(e,.6):r[0]===l.POSITION_LEFT||r[0]===l.POSITION_RIGHT?o._placeLegendBlockRight(e):o._placeLegendBlockBottom(e),r[0]===l.POSITION_LEFT?a.left=t&&t.right||0:r[0]===l.POSITION_RIGHT?a.right=t&&t.right||0:r[0]===l.POSITION_TOP?a.top=t&&t.bottom||0:r[0]!==l.POSITION_ABSOLUTE&&(a.bottom=t&&t.bottom||0,a.right=t&&t.right||0),a},o.setDimension=function(e){var t,o,n,r,a,i,s,c,d,h,g,u,f,v,y,S,L,T,E,F,_,N,A,I,P,O,R,B=this,D=this.config,G=B.getSortedLegendItems(),V=G.length,z=e.width,H=e.height,j=H,W=0,Y=0,X=0,K=0,U=0,J=0,$=0,Z=[],q=D.padding,Q=D.textPadding,ee=B.getFromEnv("smartLabel"),te=B.getStateCosmetics("default"),oe=parseInt(te.text["font-size"],10)||10,ne=D.title,re=ne.padding,ae=0,ie=D.minimiseWrappingInLegend,le=D.legendPadding,se=D.legendScale,ce=D.alignLegendWithCanvas,de=D.numColumns,he=D.numRows,ge=D.oriSymbolPadding,ue=Number.MAX_SAFE_INTEGER,pe=z,fe=!1,me=!!he,be=0;for(g={width:2*q,height:2*q},h=oe+1,h<=0&&(h=1),z=Math.max(z-2*q,0),h*=se,ge*=se,h=k(h,z),h<=0&&(ge=h=0),D.symbolWidth=h,D.textPadding=4,D.legendHeight=d=h+2*ge,D.rowHeight=i=C(parseInt(te.text["line-height"],10)||12,d),a=Q+ge+q,ee.setStyle((0,l.extend2)({},te.text)),u=ee.getOriSize(l.TESTSTR).height,s=le+D.borderWidth/2+1,s=C(k(s,H-u-8),0),le=.05*i,D.initialItemY=0,D.initialItemX=0,P=d+le+Q+ge+2*q,f=0;f<V;f+=1)r=G[f],t=r.config||(r.config={}),o=t,n=t.name=(0,l.parseUnsafeString)(o.label),n===l.BLANKSTRING||0===o.enabled||!1===o.enabled||r.getState("removed")?t.enabled=0:(t.enabled=1,X+=1,_=!0,N=ee.getOriSize(n),W=C(W,k(N.width,z-P)),J=C(J,k(N.height,j)),t._selfTotalWidth=N.width+P,Y+=N.width);if(D.validLegendItem=_,K=Y/X,Y+=P*X,D.x=!ce&&Y>pe?0:D.x,_){if(K+=P,W+=P,ne.oriText!==l.BLANKSTRING&&(fe=!0,ee.setStyle(ne.style),N=ee.getSmartText(ne.oriText,z-2*q),ne.text=N.text,N.tooltext&&(ne.originalText=N.tooltext),ae=N.width+2*q,$=N.height+re),y=W,he?!de&&he?(be=1,X<he&&(he=X),de=x(X/he)):x(X/de)<he&&x(X/he)<de||X>de*he?he=x(X/de):de===x(X/he)&&(be=1):Y<=z?(de=de||X,he=x(X/de),y=1===he?Y/X:W):!de&&z>W&&(ie||1.5*K>W)?(de=w(z/W),X<de&&(de=X),y=W):de&&z/de>K?(y=z/de,y>W&&(y=W)):!de&&z>=2*K?(de=w(z/K),X<de&&(de=X),y=w(z/de),y>W&&(y=W)):de||(de=1,y=z),U=me?W:y,!me&&1.5*K<W&&(y=K),he&&!ie){var ve,ye,ke=U;W>1.5*K&&(ke=K),ye=k(X,w(z/ke)),ve=x(X/ye),D.numRows&&ve!==he||D.numColumns&&ye!==de||1===he&&1!==ve||(U=ke,de=ye,he=ve)}for(ee.setStyle((0,l.extend2)({},te.text)),f=0;f<V;f++)t=G[f].config,1===he&&(U=W>2.5*K?K:t._selfTotalWidth),c=Math.ceil(U-P),0===c?(t.name=l.BLANKSTRING,t._totalWidth=h+ge,t._selfTotalWidth=t._totalWidth,t._selfTotalHeight=i):(N=ee.getSmartText(t.name,c<t._selfTotalWidth-P?c+Q:b),t.name=N.text,t._textHeight=N.height,N.tooltext&&(t.originalText=N.tooltext),t._selfTotalHeight=N.height+Q>i?Q+N.height:i,t._totalWidth=h+a+N.width,t._selfTotalWidth=P+N.width,t._legendTestY=i>N.height?(i-N.height)/2:0,J=C(J,t._textHeight),ue=C(1,k(ue,t._textHeight)));if(S={style:{display:"grid",justifyItems:"center",alignItems:"start"}},L=[],fe&&L.push({style:{width:ae,height:$,gridRowStart:1,gridRowEnd:2,gridColumnStart:1,gridColumnEnd:2}}),L.push({style:{display:"grid",justifyItems:"start",alignItems:"start",width:k(Y,z,U*de),paddingEnd:q,paddingTop:q,gridRowStart:L.length+1,gridRowEnd:L.length+2,gridColumnStart:1,gridColumnEnd:2}}),T=[],me||1===he)for(v=0,f=1;v<V;v++)r=G[v],t=r.config,1===t.enabled&&(0===be?(O=x(f/de),R=f%de===0?de:f%de):(O=f%he===0?he:f%he,R=x(f/he)),T.push({style:{width:1===he||R===de?t._selfTotalWidth:U,height:t._selfTotalHeight,gridRowStart:O,gridRowEnd:O+1,gridColumnStart:R,gridColumnEnd:R+1}}),f+=1);else{for(he=0,ue=C(ue,i),v=0;v<V;v++)r=G[v],t=r.config,1===t.enabled&&(he+=Math.ceil(t._selfTotalHeight/ue));0===he&&(he=Math.max(1,Math.ceil(X/de))),Z=M(he).map((function(){return M(de)}));var Ce,we=0,xe=0;for(v=0,f=1;v<V;v++)if(r=G[v],t=r.config,1===t.enabled){while(we<he){while(xe<de){if(Z[we][xe]===b){R=xe+1,O=we+1,Ce=1===de?1:+(t._selfTotalHeight/ue).toFixed(0),Z[we][xe]=!0;for(var Se=we;Se<we+Ce;Se++)Z[Se][xe]=!0}if(xe++,Z[we][xe-1])break}if(xe>=de&&(xe=0,we++),Ce)break}T.push({style:{width:R===de?t._selfTotalWidth:y,height:t._selfTotalHeight,gridRowStart:O,gridRowEnd:O+Ce,gridColumnStart:R,gridColumnEnd:R+1}}),f+=1,Ce=b}for(he=0,f=he;f<Z.length;f++)for(v=0;v<de;v++)if(Z[f][v]){he++;break}de>1&&(L[L.length-1].style.gridTemplateRows=(ue+" ").repeat(he).slice(0,-1))}for(L[L.length-1].children=T,E=(0,p.computeLayout)(m(m({},S),{},{children:L})),D.itemWidth=U,c=x(U-P),c<0&&(ge=c=Q=0),D.symbolPadding=ge,D.textPadding=Q,D.width=D.totalWidth=C(E.layout.width,E.children[E.children.length-1].layout.width),ee.setStyle((0,l.extend2)({},te.text)),v=0,f=0;v<V;v++)r=G[v],t=r.config,1===he&&(c=t._selfTotalWidth,c<0&&(ge=c=Q=0)),1===t.enabled&&(0===c&&(t.name=l.BLANKSTRING,t._totalWidth=h+ge),t._legendX=E.children[E.children.length-1].children[f].layout.x,t._legendY=E.children[E.children.length-1].children[f].layout.y,t._legendH=E.children[E.children.length-1].children[f].layout.height,f+=1);if(F=he,g.height+=F*i+$,D.height=D.totalHeight=E.layout.height+2*q,D.rowHeight=i,D.legendNumColumns=de,D.initialItemX=fe&&ae>E.children[E.children.length-1].layout.width&&z>D.width?E.children[E.children.length-1].layout.x:0,D.initialItemY=E.children[E.children.length-1].layout.y,D.height-2*ge>H?(D.height=H,A=D.scroll||(D.scroll={}),A.enabled=!0,A.flatScrollBars=D.flatScrollBars,A.scrollBar3DLighting=D.scrollBar3DLighting,D.width=D.width+12>z?D.width:D.width+12):D.scroll.enabled=!1,D.width>z?(D.width=z,I=D.horizontalScroll||(D.horizontalScroll={}),I.enabled=!0,I.flatScrollBars=D.flatScrollBars,I.scrollBar3DLighting=D.scrollBar3DLighting,D.height+12<=H?D.height=D.height+12:(D.height=H,D.totalHeight+=4,A=D.scroll||(D.scroll={}),A.enabled=!0,A.flatScrollBars=D.flatScrollBars,A.scrollBar3DLighting=D.scrollBar3DLighting,D.scroll.enabled=!0)):D.horizontalScroll.enabled=!1,D.totalWidth>D.width&&D.totalWidth-D.width<=4){for(v=0,f=0;v<V;v++)r=G[v],t=r.config,1===t.enabled&&(E.children[E.children.length-1].children[f].style.gridColumnStart%de!==1&&(t._legendX+=4,1===E.children[E.children.length-1].children[f].style.gridRowStart&&(D.totalWidth+=4)),f+=1);D.totalHeight+=4}s+=D.height,D.isActive=!0,D.enabled=!0}else D.enabled=!1,D.width=0,s=0;return{width:D.width,height:s}},o._placeLegendBlockBottom=function(e,t){void 0===t&&(t=1);var o,n,r,a,i,s=this,c=s.getFromEnv("chart"),d=c.config,h=c.getFromEnv("chartWidth"),g=c.getFromEnv("chartHeight"),u=d.canvasLeft,p=d.width-(d.canvasRight||0),f=c.getFromEnv("smartLabel"),m=s.config,b=m.chartMarginLeft,v=m.chartMarginRight,y=m.chartMarginTop,k=m.alignLegendWithCanvas,C=s.getSortedLegendItems(),w=C.length,x=m.legendPadding,S=d.canvasMarginRight,L=d.canvasMarginLeft,T=c.getChildren("yAxis"),E=T&&T[0].config.isVertical?T:c.getChildren("xAxis"),F=E&&E[0],_=E&&E[1],N=F&&F.config||{},A=_&&_.config||{},I=N.nameMaxW,P=A.nameMaxW,O=N.name&&N.name.style||{},M=A.name&&A.name.style||{},R=N.axisName||l.BLANKSTRING,B=A.axisName||l.BLANKSTRING,D=d.canvasWidth-d.canvasMarginLeft-d.canvasMarginRight,G=d.width,V=d.height,z=m.legendPos?m.legendPos.split("-"):[];return m.paddingBottom=d.height-d.canvasBottom,f.useEllipsesOnOverflow(d.useEllipsesWhenOverflow),f.setStyle(O),a=f.getOriSize(R),f.setStyle(M),i=f.getOriSize(B),D<x&&(m.padding=x=D=0),(a||i)&&(n=(0,l.pluckNumber)(a.height,0)>(0,l.pluckNumber)(i.height,0)?(r=I)&&a.width:(r=P)&&i.width),D=k?D:h-(n+y>g-e?2*r+v+b+S+L:v+b+L+S),z[0]===l.POSITION_ABSOLUTE&&(D=G,m.legendMaxWidth<G?D=m.legendMaxWidth:D*=t),m.showLegend&&0!==w?(m.x=(u-b-p+v)/2,o=s.setDimension({width:D,height:z[0]===l.POSITION_ABSOLUTE?m.legendMaxHeight<V?m.legendMaxHeight:V:e}).height):(o=0,m.height=0,m.width=0),{bottom:o,right:0}},o._placeLegendBlockRight=function(e){var t,o=this,n=e,r=o.config,a=o.getFromEnv("chart"),i=a.config,s=a.getFromEnv("smartLabel"),c=r.legendPadding,d=o.getStateCosmetics("default"),h=i.canvasHeight,g={},u=o.getSortedLegendItems(),p=u.length,f=10;return n<c&&(r.padding=c=n=0),s.useEllipsesOnOverflow(i.useEllipsesWhenOverflow),s.setStyle((0,l.extend2)({},d.text)),r.numColumns||r.numRows||(r.numColumns=1),r.showLegend&&0!==p?(t=o.setDimension({width:n-c,height:h}).width,g.right=t+c,g.right+f<=n&&(g.right+=f)):(g.right=0,r.height=0,r.width=0),g},o.postSpaceManager=function(){var e=this,t=e.config,o=t.legendPos?t.legendPos.split("-"):[],n=e.getFromEnv("chart"),r=n.config.canvasHeight;o[0]!==l.POSITION_RIGHT&&o[0]!==l.POSITION_LEFT||(t.totalHeight>r?(t.totalHeight<=t.height&&(t.scroll.enabled=!0,t.scroll.flatScrollBars=t.flatScrollBars,t.scroll.scrollBar3DLighting=t.scrollBar3DLighting,t.width+=(t.scroll.scrollBarWidth=10)+(t.scroll.scrollBarPadding=2)),t.height=r):t.scroll.enabled=!1)},o.configureAttributes=function(t){void 0===t&&(t={}),e.prototype.configureAttributes.call(this,t);var o,n,r,a,i,s=this,c=s.config,d=s.getFromEnv("chart"),h=d.config,g=s.getFromEnv("style"),u=d.getFromEnv("chart-attrib"),p=d.config.is3D,f=s.getFromEnv("color-manager"),m=p?l.chartPaletteStr.chart3D:l.chartPaletteStr.chart2D,y=c.interactiveLegend=!1!==d.hasInteractiveLegend&&Boolean((0,l.pluckNumber)(u.interactivelegend,1)),k=(0,l.pluckNumber)(u.useroundedges,0),w=4,x=g.outCancolor,L=t.style&&t.style.text,T=(0,l.pluck)(u.legenditemfont,L&&L["font-family"],g.outCanfontFamily),E=(0,l.pluckNumber)(u.legendiconscale,1),_=(0,l.pluckFontSize)(u.legenditemfontsize,L&&L["font-size"],g.fontSize)+F,N=(0,l.pluck)(u.legenditemfontcolor,L&&L.color,x).replace(/^#?([a-f0-9]+)/gi,"#$1"),A=(0,l.getFirstColor)((0,l.pluck)(u.legenditemhoverfontcolor,N));c.isActive=!1,c.chartMarginTop=h.origMarginTop,c.chartMarginRight=h.origMarginRight,c.chartMarginBottom=h.origMarginBottom,c.chartMarginLeft=h.origMarginLeft,c.reverselegend=(0,l.pluckNumber)(u.reverselegend,0),c.showLegend=(0,l.pluckNumber)(u.showlegend,!d.dontShowLegendByDefault,1),o=(0,l.setLineHeight)({fontSize:_}),c.legendPos=(0,l.pluck)(u.legendposition,d.legendposition,t.legendPosition,l.POSITION_BOTTOM).toLowerCase(),c.numColumns=(0,l.pluckNumber)(Math.floor(u.legendnumcolumns)),c.numRows=(0,l.pluckNumber)(Math.floor(u.legendnumrows)),c.numColumns<0&&(c.numColumns=b),c.numRows<0&&(c.numRows=b),c.legendXPosition=C((0,l.pluckNumber)(u.legendxposition,d.legendxposition,t.legendXPosition,0),0),c.legendYPosition=C((0,l.pluckNumber)(u.legendyposition,d.legendyposition,t.legendYPosition,0),0),c.legendMaxWidth=(0,l.pluckNumber)(u.legendmaxwidth,d.legendmaxwidth,t.legendMaxWidth),c.legendMaxHeight=(0,l.pluckNumber)(u.legendmaxheight,d.legendmaxheight,t.legendMaxHeight),c.legendMaxWidth<0&&(c.legendMaxWidth=b),c.legendMaxHeight<0&&(c.legendMaxHeight=b),c.xL=c.yL=0,(E<=0||E>5)&&(E=1),c.drawCustomLegendIcon=(0,l.pluckNumber)(u.drawcustomlegendicon,t.drawcustomlegendicon,0),c.legendScale=E,c.legendPadding=(0,l.pluckNumber)(u.legendpadding,7),c.alignLegendWithCanvas=(0,l.pluckNumber)(t.alignlegendwithcanvas,h.alignLegendWithCanvas),c.title.style={fontFamily:(0,l.pluck)(u.legendcaptionfont,T),fontSize:(0,l.pluckFontSize)(u.legendcaptionfontsize,g.fontSize)+F,color:(0,l.pluck)(u.legendcaptionfontcolor,x).replace(/^#?([a-f0-9]+)/gi,"#$1"),fontWeight:P.fontWeight[(0,l.pluckNumber)(u.legendcaptionfontbold,1)]||l.BLANKSTRING},i=u.legendcaptionalignment?u.legendcaptionalignment.toLowerCase():v.center,c.title.align=v[i]||v.center,c.title.style["text-anchor"]=c.title.align,c.padding=w,n=(0,l.pluck)(u.legendbordercolor,f.getColor(m.legendBorderColor)),r=c.borderAlpha=(0,l.pluckNumber)(u.legendborderalpha,100),c.borderColor=(0,l.convertColor)(n,r),c.borderWidth=(0,l.pluckNumber)(u.legendborderthickness,t.legendborderthickness,!k||u.legendbordercolor?1:0),c.borderRadius=(0,l.pluckNumber)(k,0),c.backgroundAlpha=a=(0,l.pluckNumber)(u.legendbgalpha,t.legendbgalpha,100),c.backgroundColor=(0,l.convertColor)((0,l.pluck)(u.legendbgcolor,f.getColor(m.legendBgColor)),a),c.symbol3DLighting=Boolean((0,l.pluckNumber)(u.use3dlighting,u.useplotgradientcolor,1)),c.shadow=Boolean((0,l.pluckNumber)(u.legendshadow,1)),c.shadow&&(c.shadow={enabled:c.shadow,opacity:C(r,a)/100}),c.prevReversed=Boolean((0,l.pluckNumber)(c.reversed,0)),c.reversed=Boolean((0,l.pluckNumber)(u.reverselegend,0)),c.lineWidth=(0,l.pluckNumber)(u.linethickness,2),c.borderRadius=(0,l.pluckNumber)(u.legendborderradius,k?3:0),c.legendAllowDrag=Boolean((0,l.pluckNumber)(u.legendallowdrag,0)),c.title.oriText=(0,l.parseUnsafeString)((0,l.getFirstValue)(u.legendcaption,l.BLANKSTRING)),c.legendScrollBgColor=(0,l.getFirstColor)((0,l.pluck)(u.legendscrollbgcolor,u.scrollcolor,f.getColor("altHGridColor"))),c.legendScrollBarColor=(0,l.pluck)(u.legendscrollbarcolor,n),c.legendScrollBtnColor=(0,l.pluck)(u.legendscrollbtncolor,n),c.minimiseWrappingInLegend=(0,l.pluckNumber)(u.minimisewrappinginlegend,0),c.flatScrollBars=(0,l.pluckNumber)(u.flatscrollbars,0),c.scrollBar3DLighting=(0,l.pluckNumber)(u.scrollbar3dlighting,1),c.orderReversed=!1,s.setStateCosmetics("hidden",{symbol:{fill:(0,l.convertColor)((0,l.pluck)(u.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1")),stroke:(0,l.convertColor)((0,l.pluck)(u.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))},text:{fill:(0,l.convertColor)((0,l.pluck)(u.legenditemhiddencolor,"cccccc").replace(/^#?([a-f0-9]+)/gi,"#$1"))}}),s.setStateCosmetics("default",{text:{fill:(0,l.convertColor)(N),"font-family":T,cursor:y?l.preDefStr.POINTER:"default","font-size":_,"line-height":o,"vertical-align":l.POSITION_TOP,"text-anchor":l.POSITION_START,direction:"rtl"===h.textDirection?"rtl":"initial","font-weight":P.fontWeight[(0,l.pluckNumber)(u.legenditemfontbold,0)]||l.BLANKSTRING},symbol:{bgColor:(0,l.pluck)(u.legendiconbgcolor),cursor:y?l.preDefStr.POINTER:"default",borderColor:(0,l.pluck)(u.legendiconbordercolor),bgAlpha:(0,l.pluck)(u.legendiconbgalpha,u.legendiconalpha,100),borderAlpha:(0,l.pluck)(u.legendiconborderalpha,u.legendiconalpha,100),borderThickness:(0,l.pluckNumber)(u.legendiconborderthickness),startAngle:(0,l.pluckNumber)(u.legendiconstartangle,45),sides:(0,l.pluckNumber)(u.legendiconsides,t.legendiconsides,4)}}),s.setStateCosmetics("hover",(function(e,t){return t.hasState("hidden")||(e.text||(e.text={}),e.text.fill=(0,l.convertColor)(A.replace(/^#?([a-f0-9]+)/gi,"#$1")),e.text.cursor=S),e})),c.legendAllowDrag&&!c._dragEvtListenerBinded?(s.addEventListener("fc-dragstart",c.handlers.dragstart),s.addEventListener("fc-dragmove",c.handlers.dragmove),c._dragEvtListenerBinded=!0):!c.legendAllowDrag&&c._dragEvtListenerBinded&&(s.removeEventListener("fc-dragstart",c.handlers.dragstart),s.removeEventListener("fc-dragmove",c.handlers.dragmove),c._dragEvtListenerBinded=!1)},o.getLegendState=function(){return this._legendState},o.hasState=function(e){var t,o,n=this.getLegendState();for(t=0,o=n.length;t<o;t++)if(n[t]===e)return!0;return!1},o.setLegendState=function(e,t){this.hasState(e)||(t?this._legendState.push(e):this._legendState.unshift(e)),this.asyncDraw()},o.removeLegendState=function(e){var t,o,n=1;if(e)for(t=0,o=this._legendState.length;t<o&&n;t++)e===this._legendState[t]&&(this._legendState.splice(t,1),n=0);else this._legendState.length=0;this.asyncDraw()},o.setStateCosmetics=function(e,t){this._stateCosmetics[e]=t},o.removeStateCosmetics=function(e){delete this._stateCosmetics[e]},o.getStateCosmetics=function(e){return this._stateCosmetics[e]},o.hide=function(){var e=this,t=e.getFromEnv("chart"),o=t.getChildContainer("legendGroup");o&&o.hide()},t}(s.ComponentInterface),B=R;t.default=B},"565c":function(e,t,o){"use strict";function n(e){var t,o,n,r,a=window,i=a.parseFloat,l="array",s="",c=",",d=" ",h="none",g=e._createNode,u=e._setFillAndStroke,p=e.el.constructor,f="litepath",m="position:absolute;left:0;top:0;width:21600px;height:21600px;",b="21600 21600",v={Q:"L",Z:"X",q:"l",z:"x",",":" "},y=/,?([achlmqrstvxz]),?/gi,k=function(){return this.join(c).replace(y,o)};e.svg?(o="$1",n=function(){var t=this,n=e.is(arguments[0],l)?arguments[0]:Array.prototype.slice.call(arguments);n?"string"===typeof n?n=n.replace(y,o):n.toString=k:n="M0,0",t.node.setAttribute("d",n.toString())},e._engine.litepath=function(t,o,n,r,a){var i,l=g("path");return(r||o).canvas.appendChild(l),i=new p(l,o,r),i.type=f,i.id=l.raphaelid=e._oid++,l.raphael=!0,u(i,a||{fill:h,stroke:"#000"}),i},e._getPath.litepath=function(t){return e.parsePathString(t.node.getAttribute("d"))}):e.vml&&(o=function(e,t){return v[t]||t},r=function(){var e=this;return e._transform.apply(e,arguments),e._.bcoord&&(e.node.coordsize=e._.bcoord),e},n=function(e){var t=this,n=e;return n?"string"===typeof n?n=n.replace(y,o):n.toString=k:n="M0,0",t.node.path=n,t},e._engine.litepath=function(t,o,n,a,l){var s,c=g("shape"),u=c.style,v=new p(c,o,a),y=l||{fill:h,stroke:"#000"},k=n;return u.cssText=m,k=i(k),isNaN(k)?c.coordsize=b:(v._.bzoom=k,u.width="1px",u.height="1px",c.coordsize=v._.bcoord=k+d+k),c.coordorigin=o.coordorigin,v.type=f,v.id=c.raphaelid=e._oid++,c.raphael=!0,v._transform=v.transform,v.transform=r,e._setFillAndStroke(v,y),(a||o).canvas.appendChild(c),s=g("skew"),s.on=!0,c.appendChild(s),v.skew=s,v},e._getPath.litepath=function(t){return e.parsePathString(t.node.path||s)}),e.fn[f]=function(o,r,a){var i,c,d,h=this,g=o,u=r,m=a;return"object"===typeof g&&g.constructor!==p&&(i=g,g=g.litepath,c=g.zoom,m=g.group),u&&u.constructor===p?(m=u,c=t):c=u,g&&g.constructor===p&&(m=g,g=s),d=e._engine[f](g,this,c,m,i),d.ca[f]=n,g&&d.attr(f,e.is(g,l)?[g]:g),h.__set__&&this.__set__.push(d),h._elementsById[d.id]=d}}t.__esModule=!0,t.default=n},"643f":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r,a=n(o("55b5")),i=o("3388"),l=n(o("bdcf")),s=o("2813"),c=n(o("42a1")),d=o("a506"),h=o("8a8b"),g=n(o("565c")),u=(0,s.getDep)("redraphael","plugin"),p=window.navigator.userAgent,f=/msie/i.test(p)&&!window.opera,m=",",b="",v="top",y="bottom",k="right",C="left",w="middle",x="center",S="entityLabel",L="text",T="crisp",E=window.Math,F=E.min,_=E.max,N=/stroke/gi,A=/AppleWebKit/.test(p),I=E.ceil,P=function(e,t){var o=t?(0,d.extend2)(e.FCcolor,t,!1,!0):{FCcolor:e};return o.toString=d.toRaphaelColor,o},O=function(e,t){var o,n,r={};if(n=t||1,!e||"object"!==typeof e)return r;for(o in e)N.test(o)||("stroke-width"===o?(r[o]=Number(e[o])/n,A&&(r[o]=r[o]&&I(r[o])||0)):r[o]=e[o]);return r},M={right:function(){return arguments[1]},left:function(e,t){return e-t},center:function(e,t){return 2*F(t,e-t)}},R={top:function(){return arguments[1]},middle:function(e,t){return 2*F(t,e-t)},bottom:function(e,t){return e-t}},B=function(e,t){e&&e.graphics.outlines.attr(t)},D=function(e){var t,o=e&&e.length||0,n={};while(o--)t=e[o],t.id!==r&&(n[t.id.toLowerCase()]=t);return n};(0,s.addDep)({name:"mapsAnimation",type:"animationRule",extension:c.default}),(0,g.default)(u);var G=function(e){function t(){var t;return t=e.call(this)||this,t.components={},t}(0,a.default)(t,e);var o=t.prototype;return o.getName=function(){return"entities"},o.getType=function(){return"dataset"},o.configureAttributes=function(e){if(e){this.JSONData={data:e};var o,n,r,a,i,l,s,c,h=this,g=h.getFromEnv("chart"),u=g.jsonData,p=h.config,f=u.map||u.chart,m=[],b=h.getFromEnv("colorManager"),v=u.entitydef||[];for(i in!p.attachEvent&&b&&(h.addExtEventListener("legendUpdate",(function(){if(c=arguments[1],"legend"===c.component)h.legendInteractivity(c.legendItem,c.colorObj);else for(m=c.maxMinArray,l=m.length,s=0;s<l;s++)h.updateEntityColors(m[s].min,m[s].max)}),b),p.attachEvent=!0),o=u.data&&u.data[0]&&u.data[0].data?h.JSONData=u.data[0].data||[]:h.JSONData=u.data||[],p.useSNameAsId=(0,d.pluckNumber)(f.usesnameasid,0),this._redefineEntities(v),n=h.components.data,p.showTooltip=(0,d.pluckNumber)(f.showtooltip,1),p.showHoverEffect=(0,d.pluckNumber)(f.showhovereffect,0),o=D(o),h.calculateDataLimits(),!u.colorrange&&h._detachChild(h.getChildren("colorRange")&&h.getChildren("colorRange")[0]),n)r=o[i],a=n[i],r?this._configureEntity(i,a,(0,d.imprint)(t._sanitizeEntityOptions((0,d.extend2)({},r)),a.config)):this._configureEntity(i,a,a.config)}},o.updateEntityColors=function(e,t){var o,n,r,a,i,l,s=this,c=s.components.data,d=s.getFromEnv("chart"),h=d.config.entityOpts,g=h.nullEntityAlpha,u=h.nullEntityColor,p=P({fill:u,alpha:g}),f={"fill-opacity":0};for(a in c)c.hasOwnProperty(a)&&(o=c[a],n=o.config,r=n.cleanValue,i=n.alphaArr||[],l={"fill-opacity":i[0]/100||1},null==r?(B(o,p),o.hidden=!1):r<e||r>t?(B(o,f),o.hidden=!0):(B(o,l),o.hidden=!1))},o.legendInteractivity=function(e,t){var o,n,r,a,i,l,s=this,c=s.getFromEnv("chart"),d=s.components.data,h=e.config,g=e.hasState("hidden"),u=s.getFromEnv("colorManager"),p={},f={"fill-opacity":0};for(o in c.getFromEnv("animationManager").setAnimationState("legendInteraction"),d)d.hasOwnProperty(o)&&(n=d[o],h=n.config,r=h.cleanValue,l=u.getColorObj(r),a=h.visibleEntityAttr,p["fill-opacity"]=a["fill-opacity"],i=g?p:f,t.code===(!l.outOfRange&&l.code)&&(n.hidden=!g,B(n,i),g?e&&e.removeLegendState("hidden"):e.setLegendState("hidden")))},o.calculateDataLimits=function(){var e,t,o,n,r=this,a=r.getFromEnv("chart"),i=r.config,l=a.jsonData,s=l.data||[],c=this.getFromEnv("number-formatter"),d=1/0,h=-1/0;for(n=0,o=s.length;n<o;n++)t=s[n].value,e=c.getCleanValue(t),d=F(d,e),h=_(h,e);i.max=h,i.min=d},o._configureEntity=function(e,t,o){var n,a,i,l,s,c,h,g,u,p,f,v,y,k,C,S,L,T,E,F,_,N,A=this,I=A.getFromEnv("chart"),O=A.config,M=this.getFromEnv("number-formatter"),R=I.config,B=R.entityOpts,D=t.config,G=t.labelConfig,V=o.value,z=D.cleanValue=M.getCleanValue(V),H=D.formattedValue=z!==r?M.dataLabels(z):r,j=(0,d.pluckNumber)(o.showtooltip,B.showTooltip),W=this._getDefaultTooltip(t,o,A),Y={formattedValue:H,sName:o.shortLabel,lName:o.label},X=B.dataLabels.style,K=D.toolText=j?(0,d.parseUnsafeString)((0,d.pluck)((0,d.parseTooltext)((0,d.pluck)(o.tooltext,B.tooltext,W),[1,2,7,38,39],Y,o)),!1):b,U=D.borderColor=(0,d.pluck)(o.bordercolor,B.borderColor),J=D.borderAlpha=(0,d.pluck)(o.borderalpha,B.borderAlpha),$=D.borderThickness=(0,d.pluckNumber)(o.borderthickness,B.borderThickness),Z=B.hoverOnNull,q=D.useHoverColor=(0,d.pluckNumber)(o.showhovereffect,o.usehovercolor,Z?B.showHoverEffect:isNaN(V)?0:B.showHoverEffect),Q=D.labelAlignment,ee=A.getFromEnv("colorManager");if(t.hidden=!1,D.showLabel=(0,d.pluckNumber)(o.showlabel,B.showLabels),D.labelPadding=(0,d.pluckNumber)(o.labelpadding,B.labelPadding),D.fontFamily=(0,d.pluck)(o.font,X.fontFamily),D.fontSize=(0,d.pluckNumber)(parseInt(o.fontsize,10),parseInt(X.fontSize,10)),D.fontBold=(0,d.pluckNumber)(o.fontbold,0),D.fontColor=(0,d.pluck)(o.labelcolor,o.fontcolor,X.color),D.labelBgColor=(0,d.pluck)(o.labelbgcolor,X.bgColor)||b,D.labelBorderColor=(0,d.pluck)(o.labelbordercolor,X.borderColor)||b,D.connectorColor=(0,d.pluck)(o.labelconnectorcolor,B.connectorColor),D.connectorAlpha=(0,d.pluck)(o.labelconnectoralpha,B.connectorAlpha),D.hoverBorderThickness=(0,d.pluckNumber)(o.borderhoverthickness,o.hoverborderthickness,B.hoverBorderThickness),D.hoverBorderColor=(0,d.pluck)(o.borderhovercolor,o.hoverbordercolor,B.hoverBorderColor,D.borderColor),D.hoverBorderAlpha=(0,d.pluck)(o.borderhoveralpha,o.hoverborderalpha,B.hoverBorderAlpha,D.borderAlpha),D.connectorThickness=(0,d.pluckNumber)(o.labelconnectorthickness,B.connectorThickness),D.origConnectorThickness=D.connectorThickness,D.borderThickness=$,D.link=o.link,D.isVisible=!0,D.id=e,D.originalId=o.origId,null!==z&&(n=ee&&ee.getColor(z),n&&!n.outOfRange&&(S=n.code,n.oriAlpha!==r&&(L=n.oriAlpha+""))),(0,d.pluck)(o.color,o.alpha,o.angle,o.ratio)!==r?(s=(0,d.pluck)(o.color,S,B.fillColor),c=(0,d.pluck)(o.alpha,L,B.fillAlpha),h=(0,d.pluck)(o.angle,B.fillAngle),g=(0,d.pluck)(o.ratio,B.fillRatio),u=P({color:s,alpha:c,angle:h,ratio:g})):(k=P({color:(0,d.pluck)(S,B.fillColor),alpha:(0,d.pluck)(L,B.fillAlpha),angle:(0,d.pluck)(B.fillAngle),ratio:(0,d.pluck)(B.fillRatio)}),y=P({color:(0,d.pluck)(B.nullEntityColor),alpha:(0,d.pluck)(B.nullEntityAlpha),angle:(0,d.pluck)(B.nullEntityAngle),ratio:(0,d.pluck)(B.nullEntityRatio)}),u=null===z?y:k,s=u.FCcolor.color,c=u.FCcolor.alpha,h=u.FCcolor.angle,g=u.FCcolor.ratio),K===b&&(O.showTooltip=0),D.visibleEntityAttr={stroke:(0,d.convertColor)(U,J),fill:(D.fillColor=u).toString(),"fill-opacity":c/100},N=c.split(m),D.alphaArr=N,q&&((0,d.pluck)(o.fillhovercolor,o.fillhoveralpha,o.fillhoverangle,o.fillhoverratio,o.hoverfillcolor,o.hoverfillalpha,o.hoverfillratio,o.hoverfillangle)!==r?(s=(0,d.pluck)(o.fillhovercolor,o.hoverfillcolor,B.hoverFillColor),c=(0,d.pluck)(o.fillhoveralpha,o.hoverfillalpha,B.hoverFillAlpha),h=(0,d.pluck)(o.fillhoverangle,o.hoverfillangle,B.hoverFillAngle),g=(0,d.pluck)(o.fillhoverratio,o.hoverfillratio,B.hoverFillRatio),C=P({color:s,alpha:c,angle:h,ratio:g})):(B.hoverColorObject||(B.hoverColorObject=P({color:B.hoverFillColor,alpha:B.hoverFillAlpha,angle:B.hoverFillAngle,ratio:B.hoverFillRatio})),C=B.hoverColorObject),D.hoverColor=C),!G&&(G=t.labelConfig={}),p=D.fontColor,f=D.fontFamily,v=D.fontBold,K=D.toolText,a=D.link,Q?(i=Q[0],l=Q[1]):(i=x,l=w),G.align=i,G.vAlign=l,G.fontColor=p,G.bgColor=D.labelBgColor,G.borderColor=D.labelBorderColor,G.fontFamily=f,G.fontBold=v,G.toolText=K,G.link=a,"object"===typeof D.options){T=D.entityLabels=D.entityLabels||[],F=D.labels||[],_=F.length;while(_--)T[_]||(T[_]={config:{}}),G=T[_].config,Q=F[_].labelAlignment,Q?(i=Q[0],l=Q[1]):(i=x,l=w),G.align=i,G.vAlign=l,G.displayValue=A.getDisplayValue(t,F[_],D.options.isDataEnabled,!_,o),G.toolText=K,G.align=i,G.vAlign=l,G.bgColor=D.labelBgColor,G.borderColor=D.labelBorderColor,G.fontColor=p,G.fontFamily=f,G.fontBold=v,G.toolText=K}else E={shortText:D.shortLabel,text:D.label},G.displayValue=A.getDisplayValue(t,E,!0,!0,o)},o.getDisplayValue=function(e,t,o,n,a){var i,l=this.getFromEnv("chart"),s=l.config.entityOpts,c=e.config,h=c.cleanValue,g=c.formattedValue,u=s.labelSepChar;return o?n&&"undefined"!==typeof a.displayvalue?i=a.displayvalue:(i=(0,d.pluck)(s.includeNameInLabels?s.useShortName?t.shortText:t.text:""),s.includeValueInLabels&&null!==h&&(i=i===r?g:i+u+g)):i=c.label,i},t._sanitizeEntityOptions=function(e){return delete e.outlines,delete e.label,delete e.shortlabel,delete e.labelposition,delete e.labelalignment,delete e.labelconnectors,e},o._redefineEntities=function(e){var t,o,n,r,a,i,l,s,c,h,g,u,p=this,f=p.config,m=p.getFromEnv("chart"),b={},v={},y=m.config.entities,k=f.useSNameAsId,C=0;t=e.length;while(t--)if(o=e[t],n=o.internalid,r=o.newid?o.newid:n,a=o.sname,i=o.lname,u=y[n],n=(0,d.trimString)(n),r=(0,d.trimString)(r),r=r&&r.toLowerCase(),u){for(g in b[r]=s={origId:n},v[n]=!0,u)s[g]=u[g];s.shortLabel=a||u.shortLabel,s.label=i||u.label,s.showhovereffect=o.showhovereffect,s.fillhovercolor=o.fillhovercolor,s.fillhoveralpha=o.fillhoveralpha,s.fillhoverangle=o.fillhoverangle,s.fillhoverratio=o.fillhoverratio,s.borderhoverthickness=o.borderhoverthickness}for(l in h=p.components.data,h||(h=p.components.data={}),b)l=l.toLowerCase(),h[l]||(h[l]={config:{}}),h[l].config=b[l],C+=1;for(l in c=h,y)if(s=y[l],l=(0,d.trimString)(l),!v[l]){for(g in k?(u=c[s.shortLabel.toLowerCase()],u||(u=c[s.shortLabel.toLowerCase()]={}),u.config={},u.origId=s.shortLabel):(u=c[l.toLowerCase()],u||(u=c[l.toLowerCase()]={}),u.config={},u.config.origId=l),s)u.config[g]=s[g];C+=1}f.entityCount=C},o.draw=function(){var e,t=this,o=t.config,n=t.getFromEnv("chart"),r=d.hasSVG?200:10;t.createContainer(),this.config.ready=!1,o.BATCH_SIZE=r,o.labelBatchSize=d.hasSVG?200:20,e=this._batchRender(),e(0),n.config.entityFlag=!0,n.checkComplete()},o._batchRender=function(){var e,t,o,n,a,i=this,l=i.config,s=i.getFromEnv("chart"),c=s.config.entities.firstEntity,d=i.components.data,g=l.BATCH_SIZE,u=l.entityKeys=c?i._getKeys(c,d):Object.keys(d),p=l.entityLength=u.length,f=function l(s){e=s,o=0;while(u[e]!==r)if(t=d[u[e]],a=i.drawEntity(t,g),o+=a,t.config.drawn&&(n=e===p-1?t:d[u[e-1]],n&&(n.config.drawn=!1,n.config.outlineStartIndex=r),e++),o>=g){i.addJob("entityDraw",l.bind(i,e),h.priorityList.entitydraw);break}e===p&&(i._addEventListenersToEntities(0),i.initComplete())};return f},o._addEventListenersToEntities=function(e){var t,o,n,r,a=this,i=a.components.data,l=a.config,s=l.BATCH_SIZE,c=l.entityKeys,d=l.entityLength,g=0;for(t=e;t<d;t++)if(o=i[c[t]],r=o.config,n=r.options,n&&!1===n.isDataEnabled||a.addMouseGestures(o),g++,g===s){a.addJob("_addEventListenersToEntities",a._addEventListenersToEntities.bind(this,t),h.priorityList.entitydraw);break}},t._getKeys=function(e,t){var o=[e],n=e;while(t[n])n=t[n].nextId,o.push(n);return o},o._getDefaultTooltip=function(e,t){var o,n,a=this,i=e.config.cleanValue,l=e.config.formattedValue,s=a.getFromEnv("chart").config.entityOpts;if("object"===typeof e.config.options){if(n=t.labels&&t.labels[0],!n)return r;o=(s.useSNameInTooltip?n.shortText:n.text)+(null===i?b:s.tooltipSepChar+l)}else o=(s.useSNameInTooltip?t.shortLabel:t.label)+(null===i?b:s.tooltipSepChar+l);return o},o.drawEntity=function(e,t){var o,n,a,i,l,s,c,h,g,u=this,p=u.getFromEnv("chart"),m=p.getFromEnv("animationManager"),b=e.config,v=d.hasSVG||!f?"litepath":"path",y=p.config.entityOpts,k=b.outlines,C=u.getFromEnv("toolTipController"),w=this.getLinkedParent().getChildContainer("plot"),x=this.getLinkedParent().getChildContainer("plotShadow"),S=b.toolText,L=y.shadow,T=[],E={};if(u._configureEntityDrawingParams(e),b=e.config,a=b.visibleEntityAttr,g=b.shadowOptions,o=b.outlineStartIndex===r?k.length:b.outlineStartIndex,e.graphics||(e.graphics={}),c=0,T=b.outlinePath||(b.outlinePath=[]),h=b.customStrokeWidthModifier,"object"===typeof b.options){while(o--)if(T=k[o].outline,i=!0===b.options.isDataEnabled?a:(0,d.extend2)((0,d.extend2)({},a),O(k[o].style,h)),l=e.graphics.outlines,l||(l=e.graphics.outlines=[]),!l[o]&&(l[o]={}),s=l[o].outline,i[v]=T,s=l[o].outline=m.setAnimation({el:v,container:w,attr:i,component:u,label:"path"}),s.shadow(!!L&&g,x),C.enableToolTip(s,S),c++,b.outlineStartIndex=o,c===t)return c;return b.drawn=!0,c}while(o--)if(n=k[o],T=n.concat(T),c++,b.outlineStartIndex=o,c===t)return b.outlinePath=T,c;return!e.graphics.outlines&&(a[v]=T),Object.assign(E,a,e.hidden&&{"fill-opacity":0}||{}),e.graphics.outlines=m.setAnimation({el:e.graphics.outlines||v,container:w,attr:E,component:u,label:"path"}),b.drawn=!0,b.outlineStartIndex=0,b.outlinePath=[],e.graphics.outlines.shadow(!!L&&g,x),C.enableToolTip(e.graphics.outlines,S),c},o._configureEntityDrawingParams=function(e){var t,o=this,n=o.getFromEnv("chart"),r=e.config,a=n.config.entityOpts,i=n.config.scalingParams,l=!f||d.hasSVG,s=i.scaleFactor,c=i.strokeWidth,h=(l?n.baseScaleFactor:1)*c,g=1===a.scaleBorder,u=r.borderThickness,p=r.alphaArr,m=r.origConnectorThickness,b=r.hoverBorderThickness,v=r.visibleEntityAttr,y=v["fill-opacity"];r.shadowOptions={scalefactor:[s,s*n.config.baseScaleFactor],opacity:_.apply(E,p)/100,useFilter:0},r.fillOpacity=e.hidden?0:y,l?(u=r.entityBorderThickness=g?u*h:u/s,m/=s,t=g?s:i.sFactor,b&&(b=r.hoverBorderThickness=g?b*h:b/s)):(u=g?u*c:u,t=g?i.scaleFactor:n.baseScaleFactor),r.entityBorderThickness=u,r.connectorThickness=m,r.customStrokeWidthModifier=t,v["stroke-width"]=u,v.transform=d.hasSVG||!f?"":i.transformStr},o.drawLabels=function(e){var t,o,n,r,a=this,i=e,s=a.getFromEnv("chart"),c=a.config,d=c.labelBatchSize,h=c.entityLength,g=[],u=s.getChildContainer("upperAnnotationGroup"),p=0,f=a.getChildren("mapLabelAnnotations")&&a.getChildren("mapLabelAnnotations")[p],m=0,b=0,v=s.config.annotationConfig;for(t in f||(r=new l.default,a.attachChild(r,"mapLabelAnnotations"),f=a.getChildren("mapLabelAnnotations")[p],f.addCustomGroup(u)),f.destroy(),f._renderer&&(f._renderer=null),v.showbelow=0,i){if(a.drawLabel(i[t],g),m++,m===d){for(o=0;o<g.length;o++)g[o].animationLabel=S;for(n=f.addGroup(Object.assign(v,{id:"entityLabels"+p,items:g,animationLabel:"entityLabelGroup"}),a),o=0;o<n.items.length;o++)n.items[o].addEventListener("fc-mouseover",g[o].onmouseover),n.items[o].addEventListener("fc-mouseout",g[o].onmouseout),n.items[o].addEventListener("fc-click",g[o].onclick);p++,f=a.getChildren("mapLabelAnnotations")&&a.getChildren("mapLabelAnnotations")[p],f||(r=new l.default,a.attachChild(r,"mapLabelAnnotations"),f=a.getChildren("mapLabelAnnotations")[p],f.addCustomGroup(u)),f.destroy(),f._renderer&&(f._renderer=null),m=0,g=[]}else if(b===h-1){for(o=0;o<g.length;o++)g[o].animationLabel=S;for(n=f.addGroup(Object.assign(v,{id:"entityLabels"+p,items:g,animationLabel:"entityLabelGroup"}),a),o=0;o<n.items.length;o++)n.items[o].addEventListener("fc-mouseover",g[o].onmouseover),n.items[o].addEventListener("fc-mouseout",g[o].onmouseout),n.items[o].addEventListener("fc-click",g[o].onclick)}b++}a.drawLabelConnFn(0)},o.drawLabelConnFn=function(e){var t,o,n,r,a,i=this,l=i.config,s=i.components.data,c=l.BATCH_SIZE,d=l.entityKeys,g=d.length,u=0;for(o=e;o<g;o++){if(a=s[d[o]],r=a.config,"object"===typeof r.options){n=r.labels,t=n&&n.length||0;while(t--)n[t].labelConnectors&&(i.drawLabelConnectors(a,n[t].labelConnectors,i),u++)}else r.labelConnectors&&(i.drawLabelConnectors(a,r.labelConnectors,i),u++);if(u===c){i.addJob("drawLabelConnectors",i.drawLabelConnFn.bind(this,o),h.priorityList.entitydraw);break}}},o._getLabelObject=function(e,t,o){var n,a,i,l,s,c,h,g,u,p,f,m,b,S,T,E,F=this,_=F.getFromEnv("chart"),N=F.getFromEnv("chart-attrib"),A=e.config,I=_.config.scalingParams,P=e.graphics&&e.graphics.outlines,O=A.fontSize,B=A.labelPadding,D=A.labels||[],G=A.entityLabels||[];return t!==r?(T=D[t],E=G[t],n=E.config,l=n.style=T.style,a=T.labelPosition,i=T.labelAlignment):(n=e.labelConfig,a=A.labelPosition,i=A.labelAlignment),a?(h=a[0],g=a[1]):(u=P.getBBox(),h=u.x+u.width/2,g=u.y+u.height/2),i?(p=i[0],f=i[1],p===k?h-=B:p===C&&(h+=B),f===v?g-=B:f===y&&(g+=B)):(p=x,f=w),m=parseFloat(O)/I.sFactor,!o&&l&&(l.color&&(n.fontColor=l.color),l["font-size"]&&(m=parseFloat(l["font-size"])/I.sFactor),l["font-family"]&&(n.fontFamily=l["font-family"]),l["font-weight"]!==r&&(n.fontBold="bold"===l["font-weight"])),n.x=h.toString(),n.y=g.toString(),n.wrap=1,n.type=L,n.fontSize=m,{x:h.toString(),y:g.toString(),wrapwidth:M[p](s,h+b)-B,wrapheight:R[f](c,g+S)-B,wrap:1,type:"text",align:n.align,valign:n.vAlign,text:n.displayValue,tooltext:n.toolText,outlineText:(0,d.pluckNumber)(N.textoutline,0),css:n.link!==r&&{cursor:"pointer",_cursor:"hand"},bgcolor:n.bgColor,bordercolor:n.borderColor,fillcolor:n.fontColor,fontsize:n.fontSize,font:n.fontFamily,bold:n.fontBold,onclick:function(t){var o,n,r=e.graphics.outlines;if(r instanceof Array)for(o=0,n=r.length;o<n;o++)F.entityClick(r[o].outline,t);else F.entityClick(r,t)},onmouseover:function(t){var o,n,r=e.graphics.outlines;if(r instanceof Array)for(o=0,n=r.length;o<n;o++)F.entityRollOver(r[o].outline,t);else F.entityRollOver(r,t)},onmouseout:function(t){var o,n,r=e.graphics.outlines;if(r instanceof Array)for(o=0,n=r.length;o<n;o++)F.entityRollOut(r[o].outline,t);else F.entityRollOut(r,t)},ontouchstart:function(t){var o,n,r=e.graphics.outlines;if(r instanceof Array)for(o=0,n=r.length;o<n;o++)F.entityRollOver(r[o].outline,t);else F.entityRollOver(r,t);F.entityRollOver(r,t)}}},o.drawLabel=function(e,t){var o,n,a,i=this,l=e.config,s=l.showLabel;if(s)if("object"===typeof l.options){a=l.labels,n=a&&a.length||0,o=l.options.isDataEnabled;while(n--)t.push(i._getLabelObject(e,n,o,!n))}else t.push(i._getLabelObject(e,r,!0,!0))},o.drawLabelConnectors=function(e,t,o){var n,r,a=e.config,i=this,l=i.getFromEnv("chart"),s=l.getFromEnv("animationManager"),c=l.config.scalingParams,h=o.getLinkedParent().getChildContainer("plot"),g=t&&t.length||0,u=a.showLabel;while(g--)r=t[g],n=e.graphics.connectorElem,u?e.graphics.connectorElem=n=s.setAnimation({el:e.graphics.connectorElem||"path",attr:{path:r,opacity:1,transform:d.hasSVG||!f?"":c.transformStr,stroke:(0,d.convertColor)(a.connectorColor,a.connectorAlpha),"shape-rendering":T,"stroke-width":a.connectorThickness},container:h,component:i,label:"labelConnectors"}):n&&n.hide()},o.entityClick=function(e,t){var o=e.node.__entity,n=this,a=n.getFromEnv("chart"),i=a.config.scalingParams,l=e.getBBox(),s=a.getFromEnv("linkClickFN"),c=o.config,d=c.link;l.width=l.width*i.scaleFactor,l.height=l.height*i.scaleFactor,l.x=l.x*i.scaleFactor+i.translateX,l.y=l.y*i.scaleFactor+i.translateY,l.x2=l.x+l.width,l.y2=l.y+l.height,a.fireChartInstanceEvent("entityclick",c.eventArgs,t),d!==r&&s.call({link:d,entity:o,entityBox:l},!0)},o.entityRollOver=function(e,t){var o=e.node.__entity,n=this,r=o.config,a=n.getFromEnv("chart"),i=a.getFromEnv("animationManager"),l=r.hoverAttr;a.plotEventHandler(e,t,"entityRollOver"),e.data("hovered")?clearTimeout(o.config.timer):r.useHoverColor&&r.isVisible&&!o.hidden&&l&&(a.config.hoverEntity=e,i.setAnimation({el:e,attr:l,component:n,state:"updating",label:"path"}),e.data("hovered",!0))},o.entityRollOut=function(e,t){var o,n=e.node.__entity,r=this,a=r.getFromEnv("chart"),i=a.getFromEnv("animationManager"),l=n.config,s=l.revertAttr;a.plotEventHandler(e,t,"entityRollOut"),n.config.timer=setTimeout((function(){o=n.hidden,!0!==o&&s&&(i.setAnimation({el:e,attr:s,component:r,state:"updating",label:"path"}),e.data("hovered",!1))}),100)},o.addMouseGestures=function(e){var t,o,n,a,i,l=e.config,s=l.originalId,c=this,h=e.graphics,g=l.useHoverColor,u=l.hoverBorderThickness,p=l.hoverBorderColor,f=l.hoverBorderAlpha,m=l.entityBorderThickness,b=l.borderColor,v=l.borderAlpha,y=l.link,k=l.visibleEntityAttr,C="groupId"+s,w=function(t){y!==r&&t.css({cursor:"pointer",_cursor:"hand"}),t.data("eventArgs",l.eventArgs),t.data("groupId",C),t.node.__entity=e,e._listenersBinded||t.on("fc-click",c.entityClick.bind(c,t)).hover(c.entityRollOver.bind(c,t),c.entityRollOut.bind(c,t))};for(t in l.eventArgs={value:l.cleanValue,label:l.label,shortLabel:l.shortLabel,originalId:l.origId,id:l.id||l.origId},l.legacyEventArgs={value:l.value,lName:l.label,sName:l.shortLabel,id:l.originalId||l.id},g&&(l.hoverAttr={fill:(0,d.toRaphaelColor)(l.hoverColor)},l.revertAttr={fill:(0,d.toRaphaelColor)(l.fillColor),stroke:(0,d.toRaphaelColor)(l.borderColor,l.borderAlpha)},l.revertAttr["fill-opacity"]=k["fill-opacity"],u!==m&&(l.hoverAttr["stroke-width"]=(0,d.pluckNumber)(u,m),l.revertAttr["stroke-width"]=m),p===b&&f===v||(l.hoverAttr.stroke=(0,d.convertColor)(p,f),l.revertAttr.stroke=(0,d.convertColor)(b,v))),h)if(h.hasOwnProperty(t))if(h[t]instanceof Array){for(i=h[t],o=0,a=i.length;o<a;o++)n=i[o].outline,w(n);e._listenersBinded=!0}else n=h[t],w(n),e._listenersBinded=!0},o.getDataLimits=function(){var e=this,t=e.config;return{max:t.max,min:t.min}},o.createContainer=function(){var e=this,t=e.getLinkedParent(),o=e.getFromEnv("animationManager"),n=t.getChildContainer("layer0");!e.getChildContainer("abovePlotGroup")&&e.addChildContainer("abovePlotGroup",o.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:n,component:e,label:"group"})),!e.getChildContainer("belowPlotGroup")&&e.addChildContainer("belowPlotGroup",o.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:n,component:e,label:"group"}))},o.initComplete=function(){var e=this,t=e.getFromEnv("chart"),o=e.components.data;this.drawLabels(o),t.config.entitiesReady=!0,t.checkComplete()},t}(i.ComponentInterface),V=G;t.default=V},"6fff":function(e,t,o){"use strict";t.__esModule=!0,t.default=void 0;var n=o("a506"),r={"*.legendItem.legendItem":function(){return{"icon.appearing":function(e){return[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:(0,n.pluckNumber)(e.attr.opacity,1)}}]},"background.appearing":function(e){return[{initialAttr:{opacity:0},slot:"plot",startEnd:{start:.5,end:1},finalAttr:{opacity:e.attr.opacity}}]},"icon.disappearing":function(){return[{finalAttr:{opacity:0},slot:"initial"}]}}}};t.default=r},"724b":function(e,t,o){"use strict";t.__esModule=!0,t.default=void 0;var n,r=function(e,t,o,n,r){return Math.pow(o-e,2)+Math.pow(n-t,2)<=Math.pow(r,2)},a=Math.PI,i=Math.cos,l=Math.sin,s=Math.max,c=Math.min,d=a/180,h=function(e){return e%360*d},g=function(e,t,o,n,r,a){var i,l,s,c=n-t,d=r-o,h=o-e,g=a-n;return i=c*d,l=h*g,isNaN(i)&&(i=0),isNaN(l)&&(l=0),s=i-l,0===s?0:s>0?1:2},u=function(e,t,o,n,r,a){return o<=s(e,r)&&o>=c(e,r)&&n<=s(t,a)&&n>=c(t,a)},p=function(e,t,o,n,r,a,i,l){var s=g(e,t,o,n,r,a),c=g(e,t,o,n,i,l),d=g(r,a,i,l,e,t),h=g(r,a,i,l,o,n);return s!==c&&d!==h||(!(0!==s||!u(e,t,r,a,o,n))||(!(0!==c||!u(e,t,i,l,o,n))||(!(0!==d||!u(r,a,e,t,i,l))||!(0!==h||!u(r,a,o,n,i,l)))))},f=function(e,t,o,s,c,d,f){var m,b,v,y,k,C,w,x=1/0,S=0,L=!1;if(r(e,t,o,s,c)&&d>=3){for(b=f===n?.5*a:h(f),w=2*a/d,v=o+c*i(-b),C=s+c*l(-b),m=0;m<d;m++){if(b+=w,y=o+c*i(-b),k=s+c*l(-b),p(v,C,y,k,e,t,x,t)){if(0===g(v,C,e,t,y,k))return u(v,C,e,t,y,k);S++}v=y,C=k}L=S%2!==0}return L},m=function(e,t){return!e||e&&t&&t.i>e.i?t:e};function b(e){var t,o,n,r=e,a=r&&r[0]&&r[0].r||5,i=Math.max,l=Math.floor,s=Math.sqrt,c=Math.min,d=Math.log,h=Math.exp,g=Math.pow;function u(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}for(o=function(e,t,n,r){var a,g,p,f,m,b,v,y,k,C,w=n,x=r;while(x>w){x-w>600&&(a=x-w+1,g=t-w+1,p=d(a),f=.5*h(2*p/3),m=.5*s(p*f*(a-f)/a)*(g-a/2<0?-1:1),b=i(w,l(t-g*f/a+m)),v=c(x,l(t+(a-g)*f/a+m)),o(e,t,b,v)),y=e[t],k=w,C=x,u(e,w,t),e[x].x>y.x&&u(e,w,x);while(k<C){u(e,k,C),k++,C--;while(e[k].x<y.x)k++;while(e[C].x>y.x)C--}e[w].x===y.x?u(e,w,C):(C++,u(e,C,x)),C<=t&&(w=C+1),t<=C&&(x=C-1)}},n=function(e,t,o,r){var a,g,p,f,m,b,v,y,k,C,w=o,x=r,S=e;while(x>w){x-w>600&&(a=x-w+1,g=t-w+1,p=d(a),f=.5*h(2*p/3),m=.5*s(p*f*(a-f)/a)*(g-a/2<0?-1:1),b=i(w,l(t-g*f/a+m)),v=c(x,l(t+(a-g)*f/a+m)),n(S,t,b,v)),y=S[t],k=w,C=x,u(S,w,t),S[x].y>y.y&&u(S,w,x);while(k<C){u(S,k,C),k++,C--;while(S[k].y<y.y)k++;while(S[C].y>y.y)C--}S[w].y===y.y?u(S,w,C):(C++,u(S,C,x)),C<=t&&(w=C+1),t<=C&&(x=C-1)}},r=r||[],t=r.length;t--;)r[t].r>a&&(a=r[t].r),r[t].i=t,r[t].x=+r[t].x,r[t].y=+r[t].y;function p(e,t,r,a){var i,l={},s=a?"y":"x";return t===r?(l.point=e[t],l):r-t===1?(e[t][s]>e[r][s]?(l.point=e[t],l.left={point:e[r]}):(l.point=e[r],l.left={point:e[t]}),l):(i=t+r>>1,a?n(e,i,t,r):o(e,i,t,r),l.point=e[i],l.left=p(e,t,i-1,!a),l.right=p(e,i+1,r,!a),l)}return{tree:0===r.length?{}:p(r,0,r.length-1,!1),search:function(e,t,o,n){var r,i,l,c=this.tree,d=n,h=e-a,u=e+a,p=t-a,f=t+a,m=!1,b=0;function v(e,t,o,n){return s(g(e-o,2)+g(t-n,2))}function y(n,r){return"circle"===o?v(n,r,e,t)<=h:n>=h&&n<=u&&r>=p&&r<=f}function k(e,t,o){return e>=t&&e<=o}function C(o){var n=k(e,o.x1,o.x2)&&k(t,o.y1,o.y2),a=v(e,t,o.point.x,o.point.y);if(!r)return r=o,m=n,void(b=a);n?m?o.point.i>r.point.i&&(r=o,m=n,b=a):(r=o,m=n,b=a):m||a<b&&(r=o,m=n,b=a)}function w(n,r){"circle"===o?h=n:(h=e-n||0,u=e+n||0,p=t-r||0,f=t+r||0)}return d=d||{},l=function(e){var t,o;e&&e.point&&(t=d.rx||e.point.r,o=d.ry||e.point.r,w(t,o),y(e.point.x,e.point.y)&&C(e),p<=e.point.y&&i(e.left),f>=e.point.y&&i(e.right))},i=function(e){var t,o;e&&e.point&&(t=d.rx||e.point.r,o=d.ry||e.point.r,w(t,o),y(e.point.x,e.point.y)&&C(e),h<=e.point.x&&l(e.left),u>=e.point.x&&l(e.right))},i(c),r&&r.point||r}}}var v=function(){function e(e){var t=this;t.configure(e)}var t=e.prototype;return t.configure=function(e){var t=this;t.validatorFn=e?t.shapeValidator():t.defaultValidator()},t.defaultValidator=function(){var e=this;return function(t){var o=e.mousePoint;return!!(t&&Math.pow((t.x-o.x)/e.xLimit,2)+Math.pow((t.y-o.y)/e.yLimit,2)<=1)}},t.shapeValidator=function(){var e=this;return function(t){var o,n,a,i,l,s,c,d,h,g=e.mousePoint,u=t&&t.shapeInfo,p=!1,m=g.x,b=g.y;switch(o=u&&u.type,o){case"circle":a=u.radius,p=r(m,b,t.x,t.y,a);break;case"arc":n=u.innerradius,a=u.radius,p=!r(m,b,t.x,t.y,n)&&r(m,b,t.x,t.y,a);break;case"polygon":a=u.radius,l=u.startAngle,i=u.sides,p=f(m,b,t.x,t.y,a,i,l);break;case"rect":case"rectangle":s=t.x,d=t.y,c=s+(u.width||0),h=d+(u.height||0),p=m>=s&&m<=c&&b>=d&&b<=h;break;case"default":p=!1;break}return p}},t.buildKdTree=function(e){return this.kdTree=b(e),this.tree=this.kdTree.tree,this},t.getNeighbour=function(e,t,o){var n=this,r=n.tree,a={x1:e.x-n.xLimit,x2:e.x+n.xLimit,y1:e.y-n.yLimit,y2:e.y+n.yLimit},i=n.validatorFn;return n.mousePoint=e,t?this.kdTree&&this.kdTree.search(e.x,e.y,o,e.options):r?n._searchBtwnLimit(a,r,!0,i):void 0},t._searchBtwnLimit=function(e,t,o,r){var a,i,l=this,s=o?"x":"y",c=o?e.x1:e.y1,d=o?e.x2:e.y2;if(a=t&&t.point&&t.point[s],a!==n)return r(t.point)&&(i=t.point),a>=c&&t.left&&(i=m(i,l._searchBtwnLimit(e,t.left,!o,r))),a<=d&&t.right&&(i=m(i,l._searchBtwnLimit(e,t.right,!o,r))),i},t._setSearchLimit=function(e,t){var o=this;o.xLimit=e,o.yLimit=t},e}();v.prototype.constructor=v;var y=v;t.default=y},"724d":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=s;var r=o("a506"),a=n(o("643f")),i=n(o("88e2")),l=n(o("d3bc"));function s(e){var t,o=e.getFromEnv("dataSource"),n=o.data||{},s=o.markers;(0,r.componentFactory)(e,l.default,"mapGroup"),t=e.getChildren("mapGroup")[0],(0,r.datasetFactory)(t,a.default,"entities",1,[n]),s?(0,r.datasetFactory)(t,i.default,"markers",1,[s]):e.getDatasets()[1]&&e.getDatasets()[1].remove()}},"88e2":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r,a=n(o("55b5")),i=n(o("643f")),l=n(o("724b")),s=n(o("bdcf")),c=o("2813"),d=n(o("42a1")),h=o("a506"),g=o("fae5"),u=o("8a8b"),p="",f="top",m="bottom",b="right",v="left",y="middle",k="center",C="line",w="text",x="polygon",S="arc",L="circle",T="center",E=.6,F=window.Math,_=F.min,N=F.max,A="items",I=function(e){var t,o=this,n=o.getFromEnv("chart"),a=o.getChildren("mapAnnotations")[0],i=e.markerShape,l=i.groupConfig,s=i.data("unfilteredConfig"),c=s._markerEventArgs,d=e.config;s.hovereffect&&("circle"===i.config.type&&(t=(0,h.extend2)({fillcolor:s.hoverfillcolor,fillalpha:s.hoverfillalpha,fillangle:s.hoverfillangle,fillratio:s.hoverfillratio,gradientUnits:"objectBoundingBox",radialGradient:1},s._hoverattrs)),t=(0,h.extend2)({},s._hoverattrs),a.update(i.getId(),t)),c||(c=s._markerEventArgs={x:+s.x,y:+s.y,scaledX:s.x*l.scaleX,scaledY:s.y*l.scaleY,chartX:s.x*l.scaleX+l.grpXShift,chartY:s.y*l.scaleY+l.grpYShift,id:s.id,label:s.label}),(0,g.raiseEventGroup)(d.options.id,"markerRollOver",c,n.getFromEnv("chartInstance"),d,r,r,r)},P=function(e){var t,o=this,n=o.getFromEnv("chart"),a=o.getChildren("mapAnnotations")[0],i=e.markerShape,l=i.getElement(),s=e.config,c=i.data("unfilteredConfig");l&&c.hovereffect&&("circle"===i.config.type&&(t=(0,h.extend2)({fillcolor:i.config.rawColor,fillalpha:i.config.rawAlpha,fillangle:i.config.rawAngle,fillratio:i.config.rawRatio,gradientUnits:"objectBoundingBox",radialGradient:"radial"===i.config.rawFillPattern},c._defaultattrs)),t=(0,h.extend2)({},c._defaultattrs),a.update(i.getId(),t)),(0,g.raiseEventGroup)(s.id,"markerRollOut",c._markerEventArgs,n.getFromEnv("chartInstance"),r,r,r)},O=function(e,t){var o=this,n=t.config.options,r=o.getFromEnv("chart"),a=t.markerShape,i=a.config,l=a.groupConfig,s=o.getFromEnv("linkClickFN"),c=a.config.link,d=i._markerEventArgs;c&&s&&s.call({link:c},!0),d||(d=i._markerEventArgs={x:+i.x,y:+i.y,scaledX:i.x*l.scaleX,scaledY:i.y*l.scaleY,chartX:i.x*l.scaleX+l.grpXShift,chartY:i.y*l.scaleY+l.grpYShift,id:n.id,label:n.label}),r.fireChartInstanceEvent("markerClick",d,e)},M=function(e,t){var o,n=e&&e.length||!1,a=t||"id",i={};if(!e)return e;while(n--)o=e[n],o[a]!==r&&(i[o[a].toLowerCase()]=o);return i},R=function(e,t,o){return{x:e.toString(),y:(t-o).toString(),align:k,valign:f}},B=function(e,t,o){return{x:(e-o).toString(),y:t.toString(),align:b,valign:y}},D=function(e,t,o){return{x:(e+o).toString(),y:t.toString(),align:v,valign:y}},G=function(e,t,o){return{x:e.toString(),y:(t+o).toString(),align:k,valign:m}},V=function(e,t){return{x:e.toString(),y:t.toString(),align:k,valign:y}},z=function(){return arguments[1]},H=function(e,t){return e-t},j=function(e,t){return 2*_(t,e-t)},W=function(){return arguments[1]},Y=function(e,t){return 2*_(t,e-t)},X=function(e,t){return e-t};(0,c.addDep)({name:"mapsAnimation",type:"animationRule",extension:d.default});var K=function(e){function t(){var t;return t=e.call(this)||this,t.components={},t.getLabelAlignment={top:R,left:B,right:D,bottom:G,center:V},t.getWrapWidth={right:z,left:H,center:j},t.getWrapHeight={top:W,middle:Y,bottom:X},t.hoverFn=I,t.hoverOutFn=P,t.clickFn=O,t}(0,a.default)(t,e);var o=t.prototype;return o.getName=function(){return"markers"},o.getType=function(){return"dataset"},o.configureAttributes=function(e){if(e){this.JSONData=e;var t,o=this,n=o.getChildren("mapAnnotations")&&o.getChildren("mapAnnotations")[0],r=o.getFromEnv("chart"),a=r.config.markerOpts;n||(t=new s.default,o.attachChild(t,"mapAnnotations"),n=o.getChildren("mapAnnotations")[0]),n.destroy(),o.calculateDataLimits(),a.dataEnabled?this._parseMarkers():this.defineMarkersNShapes(),this.configureConnectors()}},o.calculateMarkerRadiusLimits=function(){if(this.JSONData){var e=this,o=e.JSONData,n=e.config,r=e.getFromEnv("chart"),a=r.config.width,i=r.config.height,l=o.markermaxradius,s=o.markerminradius,c=t.getMarkerRadiusLimits(a,i,l,s);n.minRadius=c.min,n.maxRadius=c.max}},o.calculateDataLimits=function(){var e,t,o,n,r,a=this,i=a.getFromEnv("chart"),l=a.config,s=i.jsonData,c=s.markers||{},d=c[A]||[],h=this.getFromEnv("number-formatter"),g=1/0,u=-1/0;for(r=0,o=d.length;r<o;r++)e=d[r],n=e.value,t=h.getCleanValue(n),null!==t&&(g=_(t,g),u=N(t,u));l.min=g,l.max=u},o._parseMarkers=function(){var e,o,n,a,i,l,s,c,d=this,g=d.getFromEnv("chart"),u=g.jsonData,f=u.markers,m=f[A],b=f.shapes,v=g.config.markerOpts,y=v.dataLabels.style,k=this.getFromEnv("number-formatter"),C=d.components.shapeObjs={},w=d.components.markerObjs={};if(m&&m.length){if(b&&b.length)for(o=b.length;o;o-=1)a=b[o-1],(c=a.id.toLowerCase())&&(C[c]=a);o=m.length;while(o--)a=m[o],(c=a.id&&a.id.toLowerCase())&&(e=a.value,e!==r&&""!==e&&(e=parseFloat(e)),n=t._initializeMarkerItem(c,a,null,g),i=n.config.options.shapeid,i&&"string"===typeof i&&(i=i.toLowerCase()),l=n.config,s=l.options,l.cleanValue=k.getCleanValue(e),null!==l.cleanValue?l.formattedValue=k.dataLabels(e):l.formattedValue=r,l.fillColor=(0,h.pluck)(s.fillcolor,s.color,v.fillColor),l.fillAlpha=(0,h.pluck)(s.fillalpha,s.alpha,v.fillAlpha),l.fillRatio=(0,h.pluck)(s.fillratio,v.fillRatio),l.fillAngle=(0,h.pluck)(s.fillangle,v.fillAngle),l.borderThickness=(0,h.pluckNumber)(s.borderthickness,v.borderThickness),l.borderColor=(0,h.pluck)(s.bordercolor,v.borderColor),l.borderAlpha=(0,h.pluck)(s.borderalpha,v.borderAlpha),l.labelPadding=s.labelpadding||v.labelPadding,l.fontColor=(0,h.pluck)(s.labelcolor,y.fontColor),l.labelBgColor=(0,h.pluck)(s.labelbgcolor,y.labelBgColor)||p,l.labelBorderColor=(0,h.pluck)(s.labelbordercolor,y.labelBorderColor)||p,a.__hideMarker&&(n._isHidden=!0),i&&(n.shapeObj=C[i]),w[c]=n)}},o.defineMarkersNShapes=function(){var e,o,n,a,i,l,s,c,d=this,g=d.getFromEnv("chart"),u=g.jsonData,p=u.markers,f=p.definition,m=this.getFromEnv("number-formatter"),b=g.config.markerOpts,v=b.dataLabels.style,y=M(f)||{},k=M(p.application)||{},C=p.shapes,w=d.components.shapeObjs=d.components.shapeObjs||(d.components.shapeObjs={}),x=d.components.markerObjs=d.components.markerObjs||(d.components.markerObjs={}),S={},L={};if(f&&f.length){for(a in w)S[a]=!1;for(a in x)L[a]=!1;if(C&&C.length)for(a=C.length;a;a-=1)l=C[a-1],(c=l.id.toLowerCase())&&(w[c]=l,S[c]=!0);for(c in y)l=y[c],i=x[c]=t._initializeMarkerItem(c,l,k[c],g),L[c]=!0,s=i.config.options.shapeid,o=i.config,n=l.value,o.cleanValue=m.getCleanValue(n),e=o.options,null!==o.cleanValue?o.formattedValue=m.dataLabels(n):o.formattedValue=r,o.fillColor=(0,h.pluck)(e.fillcolor,e.color,b.fillColor),o.fontColor=(0,h.pluck)(e.labelcolor,v.fontColor),o.fillAlpha=(0,h.pluck)(e.fillalpha,e.alpha,b.fillAlpha),o.fillRatio=(0,h.pluck)(e.fillratio,b.fillRatio),o.fillAngle=(0,h.pluck)(e.fillangle,b.fillAngle),o.borderThickness=(0,h.pluckNumber)(e.borderthickness,b.borderThickness),o.borderColor=(0,h.pluck)(e.bordercolor,b.borderColor),o.borderAlpha=(0,h.pluck)(e.borderalpha,b.borderAlpha),o.labelPadding=e.labelpadding||b.labelPadding,o.options.tooltext=(0,h.pluck)(e.tooltext,b.tooltext),o.link=e.link,s&&(i.shapeObj=w[s.toLowerCase()]);for(a in S)S[a]||delete w[a];for(a in x)L[a]||delete x[a]}},t.getMarkerRadiusLimits=function(e,t,o,n){var r,a,i=_(e,t),l=.02,s=3.5,c=l*i,d=l*s*i;return r=parseFloat(n),a=parseFloat(o),isNaN(r)||isNaN(a)?isNaN(r)?isNaN(a)?{min:c,max:d}:{min:parseInt(a/10,10),max:a}:{min:r,max:10*r}:r<a?{min:r,max:a}:{min:a,max:r}},o.getDataLimits=function(){var e=this,t=e.config;return{min:t.min,max:t.max}},t._initializeMarkerItem=function(e,t,o){var n,r={},a=r.config;return a||(a=r.config={}),a.id=e,a.definition=t,a.application=o,a.hasValue=null,a.value=null,a.options=null,a.label=null,a.markerShape=null,a.markerLabel=null,a.drawOptions={shape:null,label:null},a.drawComplete=!1,n=r.config.options=(0,h.extend2)({},a.definition),a.dataEnabled?isNaN(n.value)||""===n.value||(r.value=parseFloat(n.value),r.hasValue=!0):(a.applyAll||o)&&(a.options=(0,h.extend2)(n,a.application)),r},o.configureConnectors=function(){var e,t,o,n,r,a,i,l,s,c,d,g,u,f,m,b=this,v=b.getFromEnv("chart"),x=b.getChildren("mapAnnotations")[0],S=v.jsonData,L=b.components,T=S.markers||{},E=T.connector||T.connectors||[],F=L.markerObjs,_=E.length,N=b.components.connectors,A=function(e){return function(t){var o=this,n=o.data("unfilteredConfig");n.hoverEffect&&x.update(o.getId(),n._hoverAttrs),v.fireChartInstanceEvent("connectorrollover",e,t)}},I=function(e){return function(t){var o=this,n=o.data("unfilteredConfig");n.hoverEffect&&x.update(o.getId(),n._defaultAttrs),v.fireChartInstanceEvent("connectorrollout",e,t)}},P=function(e){return function(t){v.fireChartInstanceEvent("connectorClick",e,t)}},O=v.config.connectorOpts,M={};for(N=b.components.connectors=[],m=0;m<_;m++)f=E[m],(f.from||f.to)&&(o=F[f.from.toLowerCase()],n=F[f.to.toLowerCase()],o&&n&&(r=E[m].label,M=N[m],!M&&(M=N[m]={}),!M.config&&(e=M.config={}),!M.graphics&&(M.graphics={}),e=M.config=(0,h.extend2)({},f),e.fromMarker=o,e.toMarker=n,e.link=f.link,e.showTooltip=(0,h.pluckNumber)(f.showtooltip,O.showTooltip),a=e.tooltext=e.showTooltip?(0,h.pluck)(f.tooltext,O.tooltext):p,i=e.thickness=(0,h.pluck)(f.thickness,O.thickness),l=e.color=(0,h.pluck)(f.color,O.color),s=e.alpha=(0,h.pluck)(f.alpha,O.alpha),e.hoverEffect=(0,h.pluckNumber)(f.showhovereffect,O.showHoverEffect),c=(0,h.pluck)(f.hovercolor,O.hoverColor,l),d=(0,h.pluck)(f.hoveralpha,O.hoverAlpha,s),g=(0,h.pluck)(f.hoverthickness,O.hoverThickness,i),e.dashed=(0,h.pluck)(f.dashed,O.dashed),e.dashLen=(0,h.pluckNumber)(f.dashlen,O.dashlen),e.dashGap=(0,h.pluckNumber)(f.dashgap,O.dashgap),a&&(e.tooltext=a=(0,h.parseUnsafeString)((0,h.parseTooltext)(a,[3,40,41,42,43],{label:r,fromId:o.config.definition.id,toId:n.config.definition.id,fromLabel:o.config.definition.label,toLabel:n.config.definition.label},t),!1)),e.eventArgs={fromMarkerId:o.config.id,toMarkerId:n.config.id,label:r},e._hoverAttrs={color:c,alpha:d,thickness:g},e._defaultAttrs={color:l,alpha:s,thickness:i},e.type=C,e.onclick=P(e.eventArgs),e.onmouseover=A(e.eventArgs),e.onmouseout=I(e.eventArgs),r&&(u=M.labelConfig,!u&&(u=M.labelConfig={}),u.type=w,u.text=r,u.align=k,u.valign=y,u.font=O.font,u.fillcolor=(0,h.pluck)(f.labelcolor,O.fontColor),u.bgcolor=(0,h.pluck)(f.labelbgcolor,O.labelBgColor),u.bordercolor=(0,h.pluck)(f.labelbordercolor,O.labelBorderColor),u.tooltext=e.tooltext)))},o.draw=function(){var e,t,o,n,r,a,i,l,s=this,c=s.getFromEnv("chart"),d=s.config,h=s.getChildren("mapAnnotations")[0],g=s.components.markerObjs,p=c.config,f=p.markerOpts,m=p.scalingParams,b=c.config.annotationConfig,v=[],y=[],k={},C={};for(r in h.destroy(),s.createContainer(),s._drawConnectors(),s.imageLoadCount=0,s.imageCount=0,d.autoScale=f.autoScale?m.sFactor:1,g)e=null,t=g[r],n=t.config,n.conIsHidden||(e=this._drawMarkerItem(t)),e&&(C[r]=e,n._annotationIndex=v.length,k[r]=t,e.markerShape&&(o=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===e.markerShape.type?0:1},e.markerShape),v.push(o)),e.markerLabel&&(o=Object.assign({animationLabel:"markerItem",id:e.markerShape.id},e.markerLabel),y.push(o)));for(r in l=h.addGroup(Object.assign(b,{id:"markers",fillalpha:"100",items:v,scaleimages:1}),s),i=h.addGroup(Object.assign(b,{id:"markerLabels",items:y,scaleimages:1}),s),s.components.markerGroup=l,s.components.markerLabelGroup=i,a=0,g)C[r]&&(t=g[r],t.markerShape=l.retrieveItem(v[a].id),t.markerShape.data("unfilteredConfig",v[a]),C[r].markerLabel&&(t.markerLabel=i.retrieveItem(v[a].id),t.markerLabel.data("unfilteredConfig",y[a])),a++);s.addJob("buildKdtree",s._buildKdTree.bind(s),u.priorityList.kdTree)},o._buildKdTree=function(){var e,t,o=this,n=o.components.kdArrayMap,r=o.components.markerGroup,a=[],i=r&&r.items,s=i&&i.length||0;for(t=0;t<s;t++)e=i[t].config.id,n[e]&&a.push(n[e]);o.components.kDTree||(o.components.kDTree=new l.default(!0)),o.components.kDTree._setSearchLimit(1/0,1/0),o.components.kDTree.buildKdTree(a)},o._drawMarkerItem=function(e){var t,o,n,a,i,l,s,c,d,g,u,m,b,v,y,k,C,w,T=this,F=T.getFromEnv("chart"),_=F.config,N=T.config,A=_.scalingParams,I=e.config,P=I.options,O=I.definition,M=_.markerOpts,R=M.dataLabels.style,B=P.shapeid,D=P.scale||1,G=P.label||p,V=F.config.scalingParams.scaleFactor*F.config.baseScaleFactor,z=(P.labelpos||f).toLowerCase(),H=I.formattedValue===r?r:I.formattedValue,j=P.tooltext||M.tooltext,W=(0,h.pluckNumber)(O.radius,I.radius,M.radius)*D*N.autoScale||1e-4,Y=I.fillColor,X=I.fillAlpha,K=I.fillRatio,U=I.fillAngle,J=I.borderThickness,$=I.borderColor,Z=I.borderAlpha,q=T.getChildren("mapAnnotations")[0],Q=T.components.kdArrayMap||(T.components.kdArrayMap={}),ee=e.config.id;if(I.autoScale=M.autoScale?V:1,B)return j=j?(0,h.parseUnsafeString)((0,h.parseTooltext)(j,[1,2,3],{formattedValue:H,label:G},P),!1):H?G+M.tooltipSepChar+H:G,H!==r&&null!==H?G=G+M.labelSepChar+H:isNaN(D)?D=1:D<0?D=0:D>5&&(D=5),(0,h.extend2)(P,{x:P.x&&P.x.toString(),y:P.y&&P.y.toString(),fillcolor:Y,fillalpha:X,fillratio:K,fillangle:U,borderthickness:J,bordercolor:$,borderalpha:Z,hovereffect:(0,h.pluck)(M.showHoverEffect),radius:W&&W.toString(),link:P.link,showshadow:(0,h.pluckNumber)(P.showshadow,I.shadow),_markerLabel:G,_markerId:P.id,id:(P.id+p).toLowerCase()}),delete P.tooltext,I.tooltext=!!M.showTooltip&&j,b=Number(P.x)*A.sFactor+A.translateX,v=Number(P.y)*A.sFactor+A.translateY,W=P.radius,"triangle"===B?((0,h.extend2)(P,{type:"polygon",sides:3,startangle:M.startAngle}),w=x,C=3):"diamond"===B?((0,h.extend2)(P,{type:"polygon",sides:4,startangle:M.startAngle}),w=x,C=4):"arc"===B?(k=W*E,(0,h.extend2)(P,{type:"arc",startangle:0,endangle:360,innerradius:k}),w=S):"circle"===B?(P.type=L,w=L):(u=T.getShapeArgs.call(e),M.dataEnabled&&M.valueToRadius&&P.radius!==r?delete u.radius:(!u.radius&&(u.radius=M.radius),u.radius*=D*I.autoScale),(0,h.extend2)(P,u),P.id=P._markerId&&P._markerId.toLowerCase(),k=u.innerradius,u.radius&&(W=u.radius),w=u.type&&u.type.toLowerCase(),C=u.sides,W=Number(W),W&&k&&W<k&&(m=W,P.radius=W=k,P.innerradius=k=m)),P.type=P.type&&P.type.toLowerCase(),(0,h.extend2)(P,{hoverfillcolor:(0,h.pluck)(P.fillhovercolor,M.hoverFillColor,P.fillcolor),hoverfillalpha:(0,h.pluck)(P.fillhoveralpha,M.hoverFillAlpha,P.fillalpha),hoverfillratio:(0,h.pluck)(P.fillhoverratio,M.hoverFillRatio,P.fillratio),hoverfillangle:(0,h.pluck)(P.fillhoverangle,M.hoverFillAngle,P.fillangle),hoverborderthickness:(0,h.pluckNumber)(P.borderhoverthickness,M.hoverBorderThickness,P.borderthickness),hoverbordercolor:(0,h.pluck)(P.borderhovercolor,M.hoverBorderColor,P.bordercolor),hoverborderalpha:(0,h.pluck)(P.borderhoveralpha,M.hoverBorderAlpha,P.borderalpha)}),P._hoverattrs={fillalpha:P.hoverfillalpha,fillcolor:P.hoverfillcolor,fillangle:P.hoverfillangle,fillratio:P.hoverfillratio,borderThickness:"0"!==P.showborder?P.hoverborderthickness:0,borderColor:P.hoverbordercolor,borderAlpha:P.hoverborderalpha},P._defaultattrs={fillalpha:P.fillalpha,fillcolor:P.fillcolor,fillangle:P.fillangle,fillratio:P.fillratio,borderThickness:"0"!==P.showborder?P.borderthickness:0,borderColor:P.bordercolor,borderAlpha:P.borderalpha},"image"===P.type?(P.borderthickness=P.borderthickness||0,P.onload=function(t){var o=this,n=t.width,r=t.height;y={},P=o.config,b=(Number(P.derivedX)-n/(2*A.sFactor))*A.sFactor,v=(Number(P.derivedY)-r/(2*A.sFactor))*A.sFactor,y=Q[ee]||(Q[ee]={}),y.x=b+A.translateX,y.y=v+A.translateY,y.element=e,y.shapeInfo={type:"rect",width:n,height:r},n&&r&&q.update(o.getId(),{x:b,y:v,width:n,height:r,autoscale:0}),T.imageLoadCount++,T.imageLoadCount===T.imageCount&&T._buildKdTree()},P.onerror=function(){T.imageLoadCount++,T.imageLoadCount===T.imageCount&&T._buildKdTree()},T.imageCount++):(y=Q[ee]||(Q[ee]={}),y.x=b,y.y=v,y.element=e,y.shapeInfo={type:w,sides:C,radius:Number(W)+P.borderthickness/2,innerradius:k}),I.drawOptions.shape=P,M.showLabels?(g=P.labelpadding||M.labelPadding,t=T._getLabelOptions(z,g,P),o=t.align,n=t.valign,a=I._labelBaseWidth,i=I._labelBaseHeight,l=I._labelXOffset,s=I._labelYOffset,c=M.labelWrapWidth?M.labelWrapWidth:T.getWrapWidth[o](a,Number(t.x)+l),d=M.labelWrapHeight?M.labelWrapHeight:T.getWrapHeight[n](i,Number(t.y)+s),c>g&&(c-=g),d>g&&(d-=g),I.drawOptions.label=(0,h.extend2)({type:"text"},{text:G,tooltext:P.tooltext,x:t.x,y:t.y,align:o,valign:t.valign,wrap:1,wrapwidth:c,wrapheight:d,fontsize:R.fontSize/A.sFactor,font:R.fontFamily,color:I.fontColor,bgcolor:I.labelBgColor||p,bordercolor:I.labelBorderColor||p}),{markerShape:P,markerLabel:I.drawOptions.label}):{markerShape:P}},o.highlightPoint=function(e,t){var o=e.element,n=this,r=t.originalEvent,a=n.getFromEnv("chart"),i=n.getFromEnv("toolTipController"),l=n.config.currentToolTip,s=a.config.lastHoveredPoint;s&&s!==e&&(s&&n.hoverOutFn(s.element),a.config.lastHoveredPoint=null,i.hide(l)),!1!==e&&("click"===t.type||"touchstart"===t.type?(a.config.lastHoveredPoint!==e&&n.hoverFn(o),n.clickFn(t,o)):"mousemove"===t.type&&a.config.lastHoveredPoint!==e&&n.hoverFn(o),o.config.tooltext&&(l?i.draw(r,o.config.tooltext,l):l=n.config.currentToolTip=i.draw(r,o.config.tooltext)),a.config.lastHoveredPoint=e)},o._drawConnectors=function(){var e,t,o,n,r,a,i,l,s,c,d,h,g,u=this,p=u.getFromEnv("chart"),f=p.config.annotationConfig,m=u.components,b=m.connectors||(u.components.connectors=[]),v=b.length,y=p.config.scalingParams,k=p.config.connectorOpts,C=k.showLabels,w=u.getChildren("mapAnnotations")[0],x=[],S=[],L=[],T={};for(L.push({id:"connectorLabels",fillalpha:"100",items:S}),L.push({id:"connectors",fillalpha:"100",items:x}),o=0;o<v;o++)b[o]&&(T[o]=!0,s=b[o].config.fromMarker.config,c=b[o].config.toMarker.config,r=s.options.x,a=s.options.y,i=c.options.x,l=c.options.y,b[o].config.x=r,b[o].config.y=a,b[o].config.tox=i,b[o].config.toy=l,g=Object.assign({animationLabel:"markerItem"},b[o].config),x.push(g),b[o].labelConfig&&C&&(b[o].labelConfig.x=((Number(r)+Number(i))/2).toString(),b[o].labelConfig.y=((Number(a)+Number(l))/2).toString(),b[o].labelConfig.fontsize=k.fontSize/(y.scaleFactor*p.config.baseScaleFactor),g=Object.assign({animationLabel:"markerItem"},b[o].labelConfig),S.push(g)));for(d=w.addGroup(Object.assign(f,L[1]),u),h=w.addGroup(Object.assign(f,L[0]),u),o=0,n=0;o<v;o++)T[o]&&(e=d.items[n],e&&(e.data("unfilteredConfig",x[n]),e.addEventListener("fc-mouseover",b[o].config.onmouseover),e.addEventListener("fc-mouseout",b[o].config.onmouseout),e.addEventListener("fc-click",b[o].config.onclick)),b[o].labelConfig&&C&&(t=h.items[n],t&&t.data("unfilteredConfig")),n++)},o.getShapeArgs=function(){var e,t=this,o=t.config,n=(0,h.extend2)({},t.shapeObj);return o.autoScale=1,n?("polygon"===n.type?n.sides<3?n.type=L:n.startangle=o.startAngle:"arc"===n.type&&(e=(n.radius||o.markerRadius)*o.autoScale,n.radius=e,n.innerradius=n.innerradius&&n.innerradius*o.autoScale||e*E),n):null},o._getLabelOptions=function(e,t,o,n,a){var i,l,s,c=this,d=e&&e.toLowerCase();return c.getLabelAlignment[d]||(d=T),l=Number(o.x),s=Number(o.y),i=n===r||a===r?o.radius||0:/^(top|bottom)$/gi.test(d)&&.5*a||/^(left|right)$/gi.test(d)&&.5*n||0,i=Number(i)+Number(t),c.getLabelAlignment[d](l,s,i)},o.addMarkerItem=function(e){var o,n,a,i,l,s,c,d,g=this,u=g.getFromEnv("chart"),p=e,f=g.components.markerObjs,m=g.components.shapeObjs,b=g.components.markerGroup,v=g.components.markerLabelGroup,y=g.getChildren("mapAnnotations")[0],k=g.getFromEnv("number-formatter"),C=u.config.markerOpts;if(d=p.id.toLowerCase()){if(f[d])return;delete p.value,g.imageLoadCount=0,o=t._initializeMarkerItem(d,p,null),o.dataset=g,c=o.config.options.shapeid,i=o.config,s=p.value,i.cleanValue=k.getCleanValue(s),n=i.options,null!==i.cleanValue?i.formattedValue=k.dataLabels(s):i.formattedValue=r,i.fillColor=(0,h.pluck)(n.fillcolor,n.color,C.fillColor),i.fillAlpha=(0,h.pluck)(n.fillalpha,n.alpha,C.fillAlpha),i.fillRatio=(0,h.pluck)(n.fillratio,C.fillRatio),i.fillAngle=(0,h.pluck)(n.fillangle,C.fillAngle),i.borderThickness=(0,h.pluckNumber)(n.borderthickness,C.borderThickness),i.borderColor=(0,h.pluck)(n.bordercolor,C.borderColor),i.borderAlpha=(0,h.pluck)(n.borderalpha,C.borderAlpha),i.labelPadding=n.labelpadding||C.labelPadding,i.options.tooltext=(0,h.pluck)(n.tooltext,C.tooltext),i.link=n.link,c&&(o.shapeObj=m[c&&c.toLowerCase()]),f[d]=o,a=g._drawMarkerItem(o),b&&v&&(a.markerShape&&(l=Object.assign({align:"center",valign:"middle",animationLabel:"markerItem",autoscale:"image"===a.markerShape.type?0:1},a.markerShape),o.markerShape=y.addItem(b.getId(),l,g),o.markerShape.data("unfilteredConfig",l)),a.markerLabel&&(l=Object.assign({animationLabel:"markerItem"},a.markerLabel),o.markerLabel=y.addItem(v.getId(),l,g),o.markerLabel.data("unfilteredConfig",l))),g._buildKdTree()}},o.updateMarkerItem=function(e,t){var o,n,r,a,i=this,l=i.getFromEnv("chart"),s=i.getChildren("mapAnnotations")[0],c=i.components.markerObjs,d=l.config.markerOpts,g={},u=c[e];if(u){for(n in o=u.config.options,(0,h.extend2)(o,t),i.imageLoadCount=0,r=u.config,t)g[n.toLowerCase()]=t[n]&&t[n].toString();r.fillColor=(0,h.pluck)(g.fillcolor,g.color,d.fillColor),r.fillAlpha=(0,h.pluck)(g.fillalpha,g.alpha,d.fillAlpha),r.fillRatio=(0,h.pluck)(g.fillratio,d.fillRatio),r.fillAngle=(0,h.pluck)(g.fillangle,d.fillAngle),r.borderThickness=(0,h.pluckNumber)(g.borderthickness,d.borderThickness),r.borderColor=(0,h.pluck)(g.bordercolor,d.borderColor),r.borderAlpha=(0,h.pluck)(g.borderalpha,d.borderAlpha),r.labelPadding=g.labelpadding||d.labelPadding,r.options.tooltext=(0,h.pluck)(g.tooltext,d.tooltext),r.link=g.link,a=i._drawMarkerItem(u).markerShape,i._buildKdTree(),s.update(e,a)}},o.createContainer=function(){var e=this,t=e.getLinkedParent(),o=e.getFromEnv("animationManager"),n=t.getChildContainer("layer1");!e.getChildContainer("abovePlotGroup")&&e.addChildContainer("abovePlotGroup",o.setAnimation({el:"group",attr:{name:"abovePlotGroup",opacity:1},container:n,component:e,label:"group"})),!e.getChildContainer("belowPlotGroup")&&e.addChildContainer("belowPlotGroup",o.setAnimation({el:"group",attr:{name:"belowPlotGroup",opacity:1},container:n,component:e,label:"group"}))},o._removeMarkerItem=function(e){var t,o,n=this,r=n.components,a=r.markerObjs,i=a[e],l=r.kdArrayMap,s=n.getChildren("mapAnnotations")[0];i&&(t=i.markerShape,o=i.markerLabel,t&&s.destroy(t.getId()),o&&s.destroy(o.getId()),delete l[e],n._buildKdTree()),delete a[e]},o.getElement=function(e){var t=this;if(t.components.kDTree)return t.components.kDTree.getNeighbour(e)},t}(i.default),U=K;t.default=U},"9b58":function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r,a,i,l=n(o("3c96")),s=n(o("55b5")),c=o("a506"),d=o("3388"),h={},g="rgba(192,192,192,"+(c.isIE?.002:1e-6)+")",u=!1,p=!0,f="%",m=",",b="#000000",v="canvasWidth",y="canvasLeft",k="canvasHeight",C="canvasTop",w="vertical",x="absolute",S="top",L="bottom",T="left",E="right",F="GL_CARPET",_="GL_CAPTION",N="GL_BODY",A="GL_LABELS",I="FL_AXIS",P="GL_SG1",O="GL_VALUES",M="fc-gradient-legend",R={}.hasOwnProperty,B="M",D="L";function G(e,t){return function e(t,o){var n,a;for(a in t)R.call(t,a)&&(n=t[a],o[a]===r?o[a]=n:"object"===typeof n&&null!==n&&e(n,o[a]))}(e,t),t}function V(e){var t=e||b;return(0,c.getValidColor)(t)||b}function z(e){return(0,c.getLightColor)(e,1)}function H(e){var t,o=e.fontSize+"";return o?(t=o.replace(/(\d+)(px)*/,"$1px"),e.fontSize=t,e):e}function j(e){return!(e!==r&&"undefined"!==typeof e&&null!==e&&!isNaN(e))}h.CAPTION="CAPTION",h.LEGEND_BODY="LEGEND_BODY",h.AXIS_LABEL="LEGEND_LABEL",h.LEGEND_AXIS="LEGEND_AXIS",h.RANGE="RANGE",h.AXIS_VALUE="AXIS_VALUE",a=function(){var e,t={};function o(t){var o,n,r,a=e.getFromEnv("number-formatter");for(o=0,n=t.length;o<n;o++)r=t[o].maxvalue,r&&(t[o].maxvalue=a.getCleanValue(r))}return t.legendCarpetConf={spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},t.legendCaptionConf={spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},t.legendBodyConf={spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}},t.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:(0,c.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},t.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:g,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:g,stroke:"#FFFFFF"}}},t.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(t){e=t.chart},legacyDataParser:function(t,n){var a,i,l,s,d,h,g,u,p,m,b,v,y={},k=e.getFromEnv("number-formatter");if(!t)return!1;for(y.mapByPercent=b=!!(0,c.pluckNumber)(t.mapbypercent,0),a=t.color||[],t.minvalue===r&&(t.minvalue=n.min!==r?b?0:n.min:0),t.maxvalue===r&&(t.maxvalue=n.max!==r?b?100:n.max:100),v=!1,d=0,g=a.length;d<g;d++)if(a[d].maxvalue){v=!0;break}for(v||(a=[]),l=t.code,u=y.colorRange=[],y.gradient=!!(0,c.pluckNumber)(t.gradient,1),a.length?l=V(l):(l?(s=V(l),l=V()):(l=V(),s=z(l)),a.push({code:s,maxvalue:t.maxvalue,label:r})),o(a),a=a.sort((function(e,t){return e.maxvalue-t.maxvalue})),p=m=t.minvalue&&k.getCleanValue(t.minvalue),m=(p!==r||null!==p)&&(b?p+f:k.legendValue(p)),u.push({code:(0,c.dehashify)(l),value:p,displayValue:m,label:t.startlabel}),d=0,g=a.length;d<g;d++)i=a[d],h=V(i.code||i.color),p=m=i.maxvalue,isNaN(parseInt(p,10))||(m=(p!==r||null!==p)&&(b?p+f:k.legendValue(p)),u.push({code:(0,c.dehashify)(h),value:p,displayValue:m,label:(0,c.parseUnsafeString)(i.label||i.displayvalue)}));return u[u.length-1].label=(0,c.parseUnsafeString)(t.endlabel||i.label),y},getDefaultConf:function(e){return t[e]}}}();var W=function(e){(0,s.default)(o,e);var t=o.prototype;function o(){var t;return t=e.call(this)||this,i=(0,l.default)(t),t.enabled=!1,t.drawOptions={},t.components={},t}return t.getType=function(){return"gradientLegend"},t.getName=function(){return"gLegend"},t.setColorRange=function(e){var t=this.drawOptions.colorRange=e;t&&t._preparationGoneWrong&&(this._dontPlot=!0)},t.configureAttributes=function(){var e,t,o,n,i,l,s,d,h,g,u=this,p=u.getFromEnv("chart"),f=u.getFromEnv("dataSource").chart,m=u.conf={},b=f.outcnvbasefont,v=f.outcnvbasefontsize,y=f.outcnvbasefontcolor,k=p.config.dataLabelStyle;a.init({chart:p}),u.data=u.getFromEnv("dataSource").colorrange,u._dontPlot||(u.drawOptions={smartLabel:u.getFromEnv("smartLabel"),gLegend:u},u._dontPlot=!1,u._recalculateLogicalSpace=!0,m.caption=(0,c.parseUnsafeString)((0,c.pluck)(f.legendcaption)),m.legendPosition=(0,c.pluck)(f.legendposition,"bottom").toLowerCase(),m.legendXPosition=(0,c.pluckNumber)(f.legendxposition,0),m.legendYPosition=(0,c.pluckNumber)(f.legendyposition,0),m.legendMaxHeight=(0,c.pluckNumber)(f.legendmaxheight,0),m.legendMaxWidth=(0,c.pluckNumber)(f.legendmaxwidth,0),m.legendVertical="string"===typeof f.legendorientation&&f.legendorientation.toLowerCase()===w,m.showLegend=(0,c.pluckNumber)(f.showlegend,1),m.interactiveLegend=(0,c.pluckNumber)(f.interactivelegend,1),m.showLegendLabels=(0,c.pluckNumber)(f.showlegendlabels,1),e=f.legenditemfontcolor||y,t=f.legenditemfont||b,o=f.legenditemfontsize||v,n=(0,c.pluckNumber)(f.legenditemfontbold,0),i=f.legendcaptionfontcolor||y,l=f.legendcaptionfont||b,s=f.legendcaptionfontsize||v,d=(0,c.pluckNumber)(f.legendcaptionfontbold,1),h=f.legendaxisbordercolor?(0,c.hashify)((0,c.dehashify)(f.legendaxisbordercolor)):r,g=h?(0,c.pluckNumber)(f.legendaxisborderalpha,100)/100:r,m.axisTextItemConf={style:{fill:e?(0,c.convertColor)((0,c.pluck)(e)):k.color,fontFamily:t?(0,c.pluck)(t):k.fontFamily,fontSize:o?(0,c.pluckNumber)(o):k.fontSize.match(/\d+/)[0],fontWeight:n?"bold":k.fontWeight}},m.legendCaptionConf={style:{fill:i?(0,c.convertColor)((0,c.pluck)(i)):k.color,fontFamily:l?(0,c.pluck)(l):k.fontFamily,fontSize:s?(0,c.pluckNumber)(s):k.fontSize.match(/\d+/)[0],fontWeight:d?"bold":k.fontWeight,fontStyle:"normal"}},m.legendAxisConf={legendAxisHeight:11,style:{stroke:h,"stroke-opacity":g},line:{style:{stroke:(0,c.convertColor)((0,c.pluck)(f.legendscalelinecolor,"FFF8E9"),(0,c.pluckNumber)(f.legendscalelinealpha,100)),"stroke-width":(0,c.pluckNumber)(f.legendscalelinethickness)}}},m.sliderGroupConf={showTooltip:(0,c.pluckNumber)(f.showtooltip,1),outerCircle:{rFactor:(0,c.pluckNumber)(f.sliderdiameterfactor),style:{stroke:(0,c.convertColor)((0,c.pluck)(f.legendpointerbordercolor,"757575"),(0,c.pluckNumber)(f.legendpointerborderalpha,100))}},innerCircle:{rFactor:(0,c.pluckNumber)(f.sliderholediameterfactor),style:{stroke:(0,c.convertColor)((0,c.pluck)(f.legendpointercolor,"FFFFFF"),(0,c.pluckNumber)(f.legendpointeralpha,100))}}},m.legendCarpetConf={spreadFactor:(0,c.pluckNumber)(f.legendspreadfactor),allowDrag:!!(0,c.pluckNumber)(f.legendallowdrag,0),captionAlignment:(0,c.pluck)(f.legendcaptionalignment,"center"),style:{fill:(0,c.convertColor)((0,c.pluck)(f.legendbgcolor,"e4d9c1"),(0,c.pluckNumber)(f.legendbgalpha,100)),stroke:(0,c.convertColor)((0,c.pluck)(f.legendbordercolor,"c4b89d"),(0,c.pluckNumber)(f.legendborderalpha,100)),"stroke-width":(0,c.pluckNumber)(f.legendborderthickness,1)}})},t.postConfigureInit=function(){var e,t,o,n,r,i,l,s,c,d,g,u,p=this,f=p.conf,m=f.legendPosition?f.legendPosition.split("-"):[];p.elem={},f.interactiveLegend?(r=G(a.getDefaultConf("sliderGroupConf"),f.sliderGroupConf),this.sGroup?(n=p.elem.sGroup=this.sGroup,n.configure(r),p.elem.sGroup.gLegend=p):(this.sGroup=p.elem.sGroup=n=new q(r),n.configure(r),p.elem.sGroup.gLegend=p)):(this.sGroup&&this.sGroup.dispose(),this.sGroup&&delete this.sGroup),r=G(a.getDefaultConf("legendCarpetConf"),f.legendCarpetConf),r.legendPosition=m[0]===x&&!f.legendVertical||m[0]===S||m[0]===L?L:E,u=a.getDefaultConf("legendBodyConf"),m[0]===x&&!f.legendVertical||m[0]===S||m[0]===L?(p.drawOptions.refSideKey=v,p.drawOptions.refOffsetKey=y,i=G(a.getDefaultConf("axisTextItemConf"),f.axisTextItemConf),u.legendPosition=L,g=G(a.getDefaultConf("legendAxisConf"),f.legendAxisConf),g.legendPosition=L,i.legendPosition=L):(p.drawOptions.refSideKey=k,p.drawOptions.refOffsetKey=C,i=G(a.getDefaultConf("axisTextItemConf"),f.axisTextItemConf),u.legendPosition=E,g=G(a.getDefaultConf("legendAxisConf"),f.legendAxisConf),g.legendPosition=E,i.legendPosition=E),Object.keys(this.components).length||(this.components.LegendCarpet=new X,this.components.LegendBody=new U,this.components.LegendAxis=new $,this.components.LegendValues=new Q,f.showLegendLabels&&(this.components.LegendLabels=new J)),o=this.components.LegendAxis,c=this.components.LegendValues,t=this.components.LegendCarpet,l=this.components.LegendBody,f.showLegendLabels&&(s=this.components.LegendLabels),this.components.LegendCarpet.configure(r),this.components.LegendValues.configure(i),this.components.LegendAxis.configure(g),this.components.LegendBody.configure(p.drawOptions.colorRange,u,i),f.showLegendLabels&&s.configure(i),f.caption?(d=G(a.getDefaultConf("legendCaptionConf"),f.legendCaptionConf),this.componentCaption&&Object.keys(this.componentCaption).length?this.componentCaption.configure(f.caption,d):(e=this.componentCaption=new K,e.configure(f.caption,d)),t.addCompositions(this.componentCaption,h.CAPTION)):(t.removeCompositions(h.CAPTION),this.componentCaption&&this.componentCaption.dispose(),delete this.componentCaption),n&&o.addCompositions(n,h.RANGE),s&&l.addCompositions(s,h.AXIS_LABEL),l.addCompositions(o,h.LEGEND_AXIS),l.addCompositions(c,h.AXIS_VALUE),t.addCompositions(l,h.LEGEND_BODY),p.elem.gl=new Y(t)},t.getValueRange=function(){var e,t,o=this,n=o.elem&&o.elem.sGroup,r=n.sliders,a=n.extremes;return e=r["false"].currPos,t=a[1]-a[0]+r["true"].currPos,[{min:n.getValueFormPixel(e),max:n.getValueFormPixel(t)}]},t._dispose=function(){var t=this;t.elem&&t.elem.gl&&t.elem.gl.dispose(),t.elem={},e.prototype._dispose.call(this)},t.getCalculatedLogicalSpace=function(){return this._logicalArea},t.setCalculatedLogicalSpace=function(e){this._logicalArea=e},t.getLogicalSpace=function(e){var t,o,n,r,a,i=this,l=i.conf,s={height:0,width:0},c=i.drawOptions,d=i.getFromEnv("chartConfig"),h=l.legendPosition.split("-")[0]===x;return i._recalculateLogicalSpace?i._dontPlot?s:(i._recalculateLogicalSpace=!1,i.postConfigureInit(),l.showLegend?(o=c.refSideKey,n=c.refOffsetKey,i.drawOptions.refSide=d[o],i.drawOptions.refOffset=d[n],i.drawOptions.maxOtherSide=e||i.drawOptions.maxOtherSide,i.elem.gl&&(t=i.elem.gl.getLogicalSpace(i.drawOptions,!0),i.elem.gl&&i.setCalculatedLogicalSpace(t)),i.getCalculatedLogicalSpace()):s):(o=c.refSideKey,n=c.refOffsetKey,i.drawOptions.refSide=d[o],h?(r=l.legendMaxHeight<=0?.8*d.height:l.legendMaxHeight<=d.height?l.legendMaxHeight:d.height,a=l.legendMaxWidth<=0?.8*d.width:l.legendMaxWidth<=d.width?l.legendMaxWidth:d.width,l.legendVertical?(i.drawOptions.refSide=r,i.drawOptions.maxOtherSide=a):(i.drawOptions.refSide=a,i.drawOptions.maxOtherSide=r)):(i.drawOptions.refOffset=d[n],i.drawOptions.maxOtherSide=e||i.drawOptions.maxOtherSide),t=i.elem.gl.getLogicalSpace(i.drawOptions,!0),i.setCalculatedLogicalSpace(t),i.getCalculatedLogicalSpace()||s)},t.resetLegend=function(){var e,t=this;e=t.elem&&t.elem.sGroup,e&&e.reset()},t._calculateTopPosition=function(e){var t=this,o=t.getFromEnv("chart"),n=o.config,r=e,a=o.getChildren("caption")&&o.getChildren("caption")[0],i=o.getChildren("subCaption")&&o.getChildren("subCaption")[0],l=o.getChildren("chartMenuBar")&&o.getChildren("chartMenuBar")[0],s=n.oriTopSpace;return!n.toolbarY&&l&&l.props&&l.props.height&&(s>l.props.height+l.props.y||(r=l.props.y+l.props.height)),a&&a.config&&a.config.text&&a.config.text!==c.BLANKSTRING&&a.config.height&&1===a.config.isOnTop&&(r=a.config.height+a.config.y+a.config.captionPadding),i&&i.config&&i.config.height&&1===i.config.isOnTop&&(r=i.config.y+i.config.height+(a&&a.config&&a.config.captionPadding||0)),r>e?r:e},t.allocatePosition=function(){var e,t,o,n,r,a,i,l,s=this.getFromEnv("chart"),c=s.config,d=this,h=d.conf||{},g=h.legendPosition.split("-"),u=c.canvasLeft,p=c.canvasTop,f=c.canvasWidth,m=c.canvasHeight,b=c.marginTop,v=c.marginBottom,y=c.marginRight,k=c.marginLeft;s.config.gLegendEnabled&&(e=this.getCalculatedLogicalSpace(),o=h.width=e.width,n=h.height=e.height,g[0]===x?(i=c.width-o,l=c.height-n,r=h.legendXPosition<0?0:h.legendXPosition>i?i:h.legendXPosition,a=h.legendYPosition<0?0:h.legendYPosition>l?l:h.legendYPosition):g[0]===S||g[0]===L?(t=f-o,r=g[1]===T?u:g[1]===E?u+(t>0?t:0):u+(t<0?0:t/2),a=g[0]===S?this._calculateTopPosition(b):c.height-e.height-v-(c.actionBarHeight||0)):(t=m-n,a=g[1]===S?p:g[1]===L?p+t:p+(t<0?0:t/2),r=g[0]===T?k:c.width-e.width-y),h.xPos=r,h.yPos=a)},t.draw=function(){var e=this.getFromEnv("chart"),t=e.getFromEnv("dataSource").colorrange,o=this,n=o.conf||{},r=e.hasGradientLegend;e.config.gLegendEnabled&&t&&r&&o.drawLegendComponent(n.xPos,n.yPos,{parentGroup:e.getContainer("parentgroup"),animationManager:e.getFromEnv("animationManager")})},t.drawLegendComponent=function(e,t,o){var n,r,a=this,i=a.conf;a._dontPlot||(i.showLegend?(a.drawOptions.animationManager=o.animationManager,a.drawOptions.parentGroup=o.parentGroup,a.drawOptions.x=e,a.drawOptions.y=t,a.drawOptions.maxOtherSide=a.drawOptions.maxOtherSide||o.maxOtherSide,r=a.elem.gl.draw(a.drawOptions),n=r.getBBox(),i.xPos=n.x,i.yPos=n.y,i.height=n.height,i.width=n.width,a.enabled=!0):a.enabled=!1)},o}(d.ComponentInterface),Y=function(){function e(e){this.carpet=e}var t=e.prototype;return t.draw=function(e){return this.carpet.draw(e)},t.getLogicalSpace=function(e,t){return this.carpet.getLogicalSpace(e,t)},t.dispose=function(){this.carpet&&this.carpet.group&&this.carpet.group.remove()},e}(),X=function(){function e(e){this.conf=e,this._id=F,this.compositionsByCategory={},this.node=r,this.group=r,this._lSpace=r,this.autoRecalculate=!1,this.groupName=M,this.moveInstructions={}}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getName=function(){return"LegendCarpet"},t.getType=function(){return"legend"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.removeCompositions=function(e){delete this.compositionsByCategory[e]},t.getBoundingBox=function(e){var t,o,n=this.conf,a=n.spreadFactor,i=e.refSide,l=e.alignment,s=e.refOffset,c=e.x,d=e.y;return"bottom"===this.conf.legendPosition?(t=n.width=i*a,o=e.maxOtherSide,!l||c!==r&&null!==c||(c=(s+i)/2-t/2)):(o=n.height=i*a,t=e.maxOtherSide,!l||d!==r&&null!==d||(d=(s+i)/2-o/2)),{width:t,height:o,x:c,y:d}},t.getPostCalcDecisionsH=function(e,t){var o,n=this.conf,r=n.padding,a=0;for(o in this.moveInstructions={},t)a+=t[o].height||0;e.height=a+2*r.v},t.getLogicalSpace=function(e,t){var o,n,r,a,i,l=this._lSpace,s=["CAPTION","LEGEND_BODY"],c=this.conf,d=c.padding,h=this.compositionsByCategory,g=0,u={},p=0;if(l&&!t)return l.isImpure=!0,l;l=this._lSpace=n=this.getBoundingBox(e),(j(l.x)||j(l.y)||j(l.height)||j(l.width))&&(this.autoRecalculate=!0),r=G(n,{}),r.height-=2*d.v,r.width-=2*d.h,r.x+=d.h,r.y+=d.v;for(var f=0;f<s.length;f++)o=h[s[f]],o&&(i=G(r,{}),i.y+=g,g=r.height*o.conf.spreadFactor,i.height=g+p,a=o.getLogicalSpace(G(i,{}),e,t),p=i.height-a.height,u[s[f]]=a,g=a.height);return this.getPostCalcDecisions(n,u),this._lSpace=n,n},t.setupDragging=function(){var e=this.group,t=0,o=0,n=0,r=0;e.css({cursor:"move"}),e.drag((function(a,i){t=a,o=i,e.attr({transform:"t"+(n+t)+","+(r+o)})}),(function(){n+=t,r+=o}),c.stubFN)},t.draw=function(e){var t,o,n,r,a=this.conf,l=this,s=["CAPTION","LEGEND_BODY"],c=this.compositionsByCategory,d=e.animationManager,h=e.parentGroup;this.getLogicalSpace(e,this.autoRecalculate),r=this._lSpace,this.group=t=d.setAnimation({el:this.group||"group",attr:{name:l.groupName},component:i,container:h,label:"carpetGroup"}),this.node=d.setAnimation({el:this.node||"rect",attr:r,css:a.style,component:i,container:t,label:"rect"});for(var g=0;g<s.length;g++)n=c[s[g]],n&&n.draw(a.captionAlignment,r,{animationManager:d,colorRange:e.colorRange,numberFormatter:e.numberFormatter,parentLayer:t,smartLabel:e.smartLabel,moveInstructions:this.moveInstructions[o],gLegend:e.gLegend});return a.allowDrag&&this.setupDragging(),this.node},t.getPostCalcDecisions=function(e,t){return"bottom"===this.conf.legendPosition?this.getPostCalcDecisionsH(e,t):this.getPostCalcDecisionsV(e,t)},t.getPostCalcDecisionsV=function(e,t){var o,n,r,a=this.conf,i=a.padding,l=Number.NEGATIVE_INFINITY,s=this.moveInstructions;for(n in this.getPostCalcDecisionsH(e,t),t)o=t[n].width,l=l<o?o:l;for(n in e.width=l+2*i.h,t)o=t[n].width,r=l-o,r&&(s[n]="t"+r/2+",0")},e}(),K=function(){function e(e,t){this.rawText=e,this.conf=t,this._id=_,this.node=r,this.bound=r,this._lSpace=r,this.LegendCaption={},this.LegendCaption.LEFT={x:function(e,t){return t.x+e.width/2+2}},this.LegendCaption.RIGHT={x:function(e,t){return t.x+t.width-e.width/2-2}},this.LegendCaption.CENTER={x:function(){var e=arguments[1];return e.x+e.width/2}}}var t=e.prototype;return t.configure=function(e,t){this.rawText=e,this.conf=t},t.getName=function(){return"LegendCaption"},t.getType=function(){return"caption"},t.getLogicalSpace=function(e,t,o){var n,a,i,l,s=this.conf,c=s.padding,d=this._lSpace,h=this.rawText,g=t.gLegend.getFromEnv("chartConfig");return d&&!o?(d.isImpure=!0,d):(d=this._lSpace={bound:{height:0,width:0},node:{logicArea:r,smartText:r}},n=t.smartLabel,h?(a=G(e,{}),a.height-=2*c.v,a.width-=2*c.h,a.x+=c.h,a.y+=c.v,n.useEllipsesOnOverflow(g.useEllipsesWhenOverflow),l=G(this.conf.style,{}),H(l),n.setStyle(this._metaStyle=l),i=n.getSmartText(h,a.width,a.height),a.height=i.height,a.width=i.width,e.height=i.height+2*c.v,e.width=i.width+2*c.h,d.node.smartText=i,d.node.logicArea=a,d.bound=e,e):d.bound)},t.draw=function(){var e,t,o,n,r,a,l,s,c,d,h,g=this.conf,u=g.bound||{};return arguments.length>=3?(l=arguments[0],s=arguments[1],c=arguments[2]):arguments.length>=2&&(l=arguments[0],c=arguments[1]),e=c.parentLayer,h=c.animationManager,this.group=t=h.setAnimation({el:this.group||"group",attr:{name:"legend-caption"},css:g.style,component:i,container:e}),this.getLogicalSpace(s,c),r=this._lSpace,d=r.node,n=r.bound,this.bound=o=h.setAnimation({el:this.bound||"rect",attr:n,css:u.style,container:t,component:i}),a="string"===typeof l?this.LegendCaption[l.toUpperCase()].x(d.smartText,s||d.logicArea):l,this.node=h.setAnimation({el:this.node||"text",attr:{text:d.smartText.text,x:a,y:d.logicArea.y+d.smartText.height/2,lineHeight:this._metaStyle.lineHeight,fill:g.style.fill},container:t,component:i}),{group:t,bound:o,node:this.node}},t.dispose=function(){this.group.remove(),this.bound.remove(),this.node.remove()},e}(),U=function(){function e(e,t,o){this.colorRange=e,this.conf=t,this.childTextConf=o,this._id=N,this.bound=r,this.group=r,this.compositionsByCategory={},this._lSpace=r,this.SC_STACK=[h.AXIS_LABEL,h.LEGEND_AXIS,h.AXIS_VALUE],this.DARW_STACK=[h.AXIS_VALUE,h.LEGEND_AXIS,h.AXIS_LABEL]}var t=e.prototype;return t.configure=function(e,t,o){this.colorRange=e,this.conf=t,this.childTextConf=o,this.compositionsByCategory={}},t.getName=function(){return"LegendBody"},t.getType=function(){return"legend"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.getSpaceTaken=function(e){return"bottom"===this.conf.legendPosition?e.height:e.width},t.getLogicalSpace=function(e,t,o){var n,a,i,l,s,c,d,h=this._lSpace,g=this.conf,u=g.padding,p=this.compositionsByCategory,f=0;if(h&&!o)return h.isImpure=!0,h;for(h=this._lSpace={bound:{height:0,width:0},node:{logicArea:r}},l=G(e,{}),l.height-=2*u.v,l.width-=2*u.h,l.x+=u.h,l.y+=u.v,s=this.getCompositionPlotAreaFor(l),t.colorRange=this.colorRange,c=0,d=this.SC_STACK.length;c<d;c++)(n=p[this.SC_STACK[c]])&&(a=s(i,n.conf.spreadFactor),i=n.getLogicalSpace(G(a,{}),t,o),f+=this.getSpaceTaken(i));return this.updateEffectivePlotArea(e,l,f),h.node.logicArea=l,h.bound=e,e},t.draw=function(){var e,t,o,n,r,a,l,s,c,d,h=this.childTextConf,g=this.conf,u=g.bound.style||{},p=this.compositionsByCategory;for(arguments.length>=3?(a=arguments[1],s=arguments[2]):arguments.length>=2&&(s=arguments[1]),t=s.parentLayer,e=s.animationManager,this.getLogicalSpace(a,s),l=this._lSpace,this.group=r=e.setAnimation({el:this.group||"group",attr:{name:"legend-body",transform:"t0,0"},css:h.style,container:t,component:i}),this.bound=o=e.setAnimation({el:this.bound||"rect",attr:l.bound,css:u,container:r,component:i}),s.colorRange=this.colorRange,s.parentLayer=r,c=0,d=this.DARW_STACK.length;c<d;c++)(n=p[this.DARW_STACK[c]])&&n.draw(s);return s.moveInstructions&&r.attr({transform:s.moveInstructions}),{bound:o,group:r}},t.getCompositionPlotAreaFor=function(e){var t,o="bottom"===this.conf.legendPosition;return t=G(e,{}),function(n,r){var a=n;return a=a||{},o?(t.y+=a.height||0,t.height=e.height*r):(t.x+=a.width||0,t.width=e.width*r),t}},t.updateEffectivePlotArea=function(e,t,o){var n=this.conf,r=n.padding;"bottom"===this.conf.legendPosition?(t.height=o,e.height=o+2*r.v):(t.width=o,e.width=o+2*r.h)},e}(),J=function(){function e(e){this.conf=e,this.node=[],this._id=A}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getType=function(){return"label"},t.getName=function(){return"LegendLabel"},t.getEffectivePlotArea=function(e){var t=this.conf,o=t.padding;return e.height-=2*o.v,e.width-=2*o.h,e.x+=o.h,e.y+=o.v,e},t.getLogicalSpace=function(e,t,o){var n,a,i,l,s,d,h,g,u,p,f,m,b,v,y,k,C,w,x,S,L,T,E,F="bottom"===this.conf.legendPosition,_=this._lSpace,N=this.conf,A=N.padding,I=[],P=t.gLegend.getFromEnv("chartConfig"),O=[];if(_&&!o)return _.isImpure=!0,_;for(n=t.colorRange,a=t.smartLabel,p=n.getCumulativeValueRatio(),i=n.colorRange,_=this._lSpace={bound:{height:0,width:0},node:{logicArea:r,smartTexts:[]}},b=_.node.smartTexts,g=G(e,{}),y=this.getEffectivePlotArea(g),E=F?y.width:y.height,a.useEllipsesOnOverflow(P.useEllipsesWhenOverflow),T=G(N.style,{}),H(this._metaStyle=T),a.setStyle(T),k=a.getSmartText("W"),l=0,s=i.length;l<s;l++)u=(0,c.parseUnsafeString)(i[l].label),u?O.push({oriIndex:l,label:u}):b[l]=r;if(s=O.length,0===s)return{height:0,width:0};for(f=s>1?(p[O[s-1].oriIndex]-p[O[0].oriIndex])/2*E/100:Math.max(p[O[0].oriIndex],100-p[O[0].oriIndex])/2*E/100,m=f,F?(S=a.getSmartText(O[0].label,m,y.height),S.x=p[O[0].oriIndex]*y.width/100,d=S.x+S.width):(S=a.getSmartText(O[0].label,m,y.width),S.y=p[O[0].oriIndex]*y.height/100,d=S.y+S.width),I.push(S.height),b[O[0].oriIndex]=S,F?(S=a.getSmartText(O[s-1].label,m,y.height),S.x=p[O[s-1].oriIndex]*y.width/100,h=S.x-S.width):(S=a.getSmartText(O[s-1].label,m,y.width),S.y=p[O[s-1].oriIndex]*y.height/100,h=S.y-S.width),I.push(S.height),b[O[s-1].oriIndex]=S,x=d,l=1;l<s-1;l++)u=O[l].label,L=O[l].oriIndex,S=r,C=l+1===s-1?h:p[O[l+1].oriIndex]*E/100,w=p[O[l].oriIndex]*E/100,f=Math.min(w-x,C-w),f>2*k.width&&(F?(S=a.getSmartText(u,f,y.height),S.x=p[L]*y.width/100):(S=a.getSmartText(u,f,y.width),S.y=p[L]*y.height/100),x=f,I.push(S.height)),b[O[l].oriIndex]=S;return v=Math.max.apply(Math,I),F?(y.height=v,e.height=v+2*A.v):(y.width=v,e.width=v+2*A.v),_.node.logicArea=y,_.bound=e,e},t.draw=function(){var e,t,o,n,r,a,l,s,c,d,h,g,u="bottom"===this.conf.legendPosition,p=this.conf,f=p.bound&&p.bound.style||{stroke:"none"},m={};arguments.length>=2&&arguments[1]?(n=arguments[0],l=arguments[1]):arguments.length>=1&&(l=arguments[0]),g=l.animationManager,e=l.parentLayer,this.getLogicalSpace(n,l),a=this._lSpace,c=a.node.logicArea,d=a.node.smartTexts,this.group=o=g.setAnimation({el:this.group||"group",attr:{name:"legend-labels"},container:e,component:i}),this.bound=t=g.setAnimation({el:this.bound||"rect",attr:a.bound,css:f,container:o,component:i});for(var b=0;b<this.node.length;b++)this.node[b].remove();for(this.node=[],s=0,h=d.length;s<h;s++)r=d[s],r&&(u?(m.y=c.y+r.height/2,m.x=s===h-1?c.x+r.x-r.width/2:s?c.x+r.x:c.x+r.x+r.width/2):(m.x=c.x+r.height/2,m.y=s===h-1?c.y+r.y-r.width/2:s?c.y+r.y:c.y+r.y+r.width/2),this.node.push(g.setAnimation({el:"text",attr:{text:r.text,x:m.x,y:m.y,lineHeight:this._metaStyle.lineHeight,fill:p.style.fill,transform:u?"R0":"R270,"+m.x+","+m.y},container:o,component:i})));return{group:o,bound:t,node:this.node}},e}(),$=function(){function e(e){this.conf=e,this._id=I,this.node=r,this.group=r,this.shadow=r,this.markerLine=r,this.compositionsByCategory={}}var t=e.prototype;return t.configure=function(e){this.conf=e},t.getName=function(){return"LegendAxis"},t.getType=function(){return"axis"},t.addCompositions=function(e,t){this.compositionsByCategory[t]=e},t.getLogicalSpace=function(){var e,t,o,n,a,i,l,s="bottom"===this.conf.legendPosition,c=arguments[0],d=arguments[2],g=this._lSpace,u=this.conf,p=u.padding,f=u.legendAxisHeight,m=this.compositionsByCategory,b=0;return g&&!d?(g.isImpure=!0,g):(g=this._lSpace={bound:{height:0,width:0},node:{logicArea:r}},a=G(c,{}),a.height-=2*p.v,a.width-=2*p.h,a.x+=p.h,a.y+=p.v,e=f/2+u.line.offset,t=f/2,n=m[h.RANGE],n&&(i=n.sliders["false"],l=i.conf.outerCircle.rFactor*f,t+=b=Math.max(l/2-f/2,0)),s?(a.y+=b,a.height=o=t+e+b,c.height=o+2*p.v):(a.x+=b,a.width=o=t+e+b,c.width=o+2*p.v),g.node.logicArea=a,g.bound=c,c)},t.getDrawableAxisArea=function(e){var t=this.conf,o="bottom"===this.conf.legendPosition,n=e.x,r=e.y,a=o?e.width:t.legendAxisHeight,i=o?t.legendAxisHeight:e.height,l=t.legendAxisHeight/2;return{x:n,y:r,width:a,height:i,r:l}},t.preDrawingRangeParamV=function(e){var t=e.x+e.width/2,o=e.width;return{x:t,calculationBase:o,rangeStart:e.y,rangeEnd:e.y+e.height,prop:"x"}},t.preDrawingRangeParamH=function(e){var t=e.y+e.height/2,o=e.height;return{y:t,calculationBase:o,rangeStart:e.x,rangeEnd:e.x+e.width,prop:"y"}},t.preDrawingRangeParam=function(e){return"bottom"===this.conf.legendPosition?this.preDrawingRangeParamH(e):this.preDrawingRangeParamV(e)},t.getScaleMarkerPathStrH=function(e,t){var o,n,r,a,i,l=G(e,{}),s=this.conf,d=s.line,h=c.BLANKSTRING,g=c.BLANKSTRING;for(l.x+=l.r,l.width-=2*l.r,i=l.y+l.height,o=0,n=t.length;o<n;o++)r=t[o],a=l.x+r*l.width/100,h+=B+a+m+(i-d.grooveLength)+D+a+m+(i+d.offset);return g+=B+l.x+m+(i+d.offset)+D+(l.x+l.width)+m+(i+d.offset),h+g},t.getColorGradientH=function(e){return{axis:e.getBoxFill(),shadow:(0,c.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:90,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},t.draw=function(){var e,t,o,n,r,a,l,s,c,d,g,u,p,f,m=this.conf,b=m.bound||{},v=m.line,y=b.style||{},k=this.compositionsByCategory;for(o in arguments.length>=2?(t=arguments[0],u=arguments[1]):arguments.length>=1&&(u=arguments[0]),p=u.animationManager,e=u.parentLayer,n=u.colorRange,r=n.getCumulativeValueRatio(),this.getLogicalSpace(t,u),g=this._lSpace,this.group=l=p.setAnimation({el:this.group||"group",attr:{name:"legend-axis"},container:e,component:i}),this.bound=p.setAnimation({el:this.bound||"rect",attr:g.bound,css:y,component:i,container:l}),d=this.getDrawableAxisArea(g.node.logicArea),c=this.getColorGradient(n),m.style.fill=c.axis,m.shadow.style.fill=c.shadow,this.node=p.setAnimation({el:this.node||"rect",attr:d,css:m.style,container:l,component:i}),this.shadow=p.setAnimation({el:this.shadow||"rect",attr:d,css:m.shadow.style,container:l,component:i}),f=this.getScaleMarkerPathStr(d,r),this.path=p.setAnimation({el:this.path||"path",attr:{path:f},css:v.style,container:l,component:i}),k)switch(a=k[o],o){case h.RANGE:s=this.preDrawingRangeParam(d),u[s.prop]=s[s.prop],u.key=s.prop,u.rCalcBase=s.calculationBase,u.parentLayer=l,a.draw(s.rangeStart,s.rangeEnd,u)}},t.getScaleMarkerPathStr=function(e,t){return"bottom"===this.conf.legendPosition?this.getScaleMarkerPathStrH(e,t):this.getScaleMarkerPathStrV(e,t)},t.getColorGradient=function(e){return"bottom"===this.conf.legendPosition?this.getColorGradientH(e):this.getColorGradientV(e)},t.getScaleMarkerPathStrV=function(e,t){var o,n,r,a,i,l=G(e,{}),s=this.conf,d=s.line,h=c.BLANKSTRING,g=c.BLANKSTRING;for(l.y+=l.r,l.height-=2*l.r,a=l.x+l.width,o=0,r=t.length;o<r;o++)n=t[o],i=l.y+n*l.height/100,h+=B+(a-d.grooveLength)+m+i+D+(a+d.offset)+m+i;return g+=B+(a+d.offset)+m+l.y+D+(a+d.offset)+m+(l.y+l.height),h+g},t.getColorGradientV=function(e){return{axis:e.getBoxFill(!0),shadow:(0,c.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},e}(),Z=function(){function e(e,t,o){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=o,this.node=r,this.tracker=r,this.currPos=0,this.swing=[]}var t=e.prototype;return t.configure=function(e,t,o){this.conf=t.conf,this.sliderIndex=e,this.rangeGroup=t.sliderGroup,this._id=o,this.currPos=0,this.swing=[]},t.getType=function(){return"slider"},t.getName=function(){return"Slider"},t.updateSwingRange=function(e,t){this.swing[+e]=t},t.draw=function(e,t,o,n){var r,a,l,s,c,d,h,u=n.parentLayer,p=this,f=n.animationManager,m=this.conf,b=m.outerCircle,v=m.innerCircle,y=f.getFromEnv("chart").config,k=Math.ceil(b.rFactor*n.rCalcBase/2),C=Math.ceil(v.rFactor*n.rCalcBase/2),w=k-C,x=n.gLegend.getFromEnv("toolTipController"),S=this.sliderIndex;return m.outerRadius=k,m.innerRadius=C,this._scaleVal=t,v.style["stroke-width"]=w,s=Math.ceil(b.style["stroke-width"]/2),C+=s,a=this.node=f.setAnimation({el:this.node||"group",attr:{name:"fc-gl-slider",cursor:"pointer",transform:"t0,0"},container:u,component:i}),"x"===n.key?(c=o,d=e,d+=S?-C:+C):(c=e,d=o,c+=S?-C:+C),this.oCircle=f.setAnimation({el:this.oCircle||"circle",attr:{cx:c,cy:d,r:k},css:b.style,container:a,component:i}),this.iCircle=f.setAnimation({el:this.iCircle||"circle",attr:{cx:c,cy:d,r:C},css:v.style,container:a,component:i}),h=this.tracker=f.setAnimation({el:this.tracker||"circle",attr:{cx:c,cy:d,r:k+5,fill:g,stroke:g,cursor:"pointer"},container:a,component:i}),a.attr({transform:"x"===n.key?"t0,"+p.currPos:"t"+p.currPos+",0"}),r=y.showToolTip?t:"",x.enableToolTip(h,r),this._dragAPI=l=this.getDragAPI("x"===n.key),h.undrag(),h.drag(l.dragging,l.dragStart,l.dragEnd),{translateAscending:k+s}},t.getDragAPI=function(e){var t,o,n,r,a=this,i=a.node,l=a.sliderIndex,s=a.rangeGroup,c=a.conf.innerRadius,d=c;return{dragging:function(c){var h,g,u,p,f;return c.stopPropagation(),u=e?c.data[1]:c.data[0],l?(h=t[0]-t[1]+d,g=0):(h=0,g=t[1]-t[0]-d),f=a.currPos+u,f<h?u+=h-f:f>g&&(u-=f-g),i.attr({transform:e?"t0,"+(a.currPos+u):"t"+(a.currPos+u)+",0"}),o=u,n&&clearTimeout(n),n=setTimeout((function(){s.updateWhenInRest(a,a.currPos+u)}),100),p=s.updateWhenInMove(a,a.currPos+u),a.conf.showTooltip&&a.tracker.data("__FC_tooltipText",p),r=!0,!0},dragStart:function(e){e.stopPropagation(),t=a.swing,r=!1,s.dragStarted(a)},dragEnd:function(){var e;s.dragCompleted(a,r,a.currPos+o),r&&(n&&clearTimeout(n),n=setTimeout((function(){s.updateWhenInRest(a,a.currPos)}),100),a.currPos+=o,e=t[+l]+a.currPos,s.updateRange(a,e))}}},t.dispose=function(){this.node.remove(),this.oCircle.remove(),this.iCircle.remove(),this.tracker.remove()},e}(),q=function(){function e(e){var t=e,o={};this._id=P,this.conf=e,o.conf=t,this.extremes=[],this.sliders={},this.min=r,this.max=r,o.sliderGroup=this,this.valueRange=[],this.callbacks=[],this.sliders[u]=new Z(u,o,this._id+"_"+ +u),this.sliders[p]=new Z(p,o,this._id+"_"+ +p)}var t=e.prototype;return t.configure=function(e){var t=e,o={};this.min=r,this.max=r,this.conf=e,o.conf=t,o.sliderGroup=this,this.sliders[u].configure(u,o,this._id+"_"+ +u),this.sliders[p].configure(p,o,this._id+"_"+ +p)},t.getType=function(){return"slider"},t.getName=function(){return"SliderGroup"},t.initRange=function(e,t){var o=e.sliderIndex;this.extremes[+o]=t},t.updateRange=function(e,t){var o=e.sliderIndex,n=this.sliders,r=n[!o];r.updateSwingRange(o,t)},t.reset=function(){var e={};e.conf=this.conf,e.sliderGroup=this,this.min=r,this.max=r,this.sliders[u].configure(u,e,this._id+"_"+ +u),this.sliders[p].configure(p,e,this._id+"_"+ +p),this.draw.apply(this,this._drawParams)},t.draw=function(e,t,o){var n,r,a,i,l,s,c=this.sliders,d=c[u],h=c[p],g=o.colorRange,m=g.colorRange,b=g.data.mapByPercent,v=o.gLegend.getFromEnv("number-formatter");return this._fcChart=o.gLegend.getFromEnv("chart"),this.getValueFormPixel=function(e,t,o,n){var r=(t-e)/(n-o);this.getValueFormPixel=function(t){return e+r*t}},this.updateWhenInMove=function(e,t){this.updateWhenInMove=function(o,n){var r,a,i=this.extremes,l=o.sliderIndex;return r=l?i[1]-i[0]+n:n,a=this.getValueFormPixel(r),a=t?parseFloat(a).toFixed(2)+f:e.legendValue(a),a}},this._drawParams=[e,t,o],this.updateWhenInMove(v,b),a=d.conf.outerCircle,r=d.conf.innerCircle,i=Math.ceil(r.rFactor*o.rCalcBase/2),i+=Math.ceil(a.style["stroke-width"]/2),this.extremes[0]=e+i,this.extremes[1]=t-i,l=this.extremes[1]-this.extremes[0],this.min=this.min?this.min:m[0].value,this.max=this.max?this.max:m[m.length-1].value,s=m[m.length-1].value-m[0].value,d.currPos=l*(this.min-m[0].value)/s,h.currPos=l*(this.max-m[0].value)/s-l,n=d.draw(e,b?v.legendPercentValue(this.min):v.legendValue(this.min),o[o.key],o),n=h.draw(t,b?v.legendPercentValue(this.max):v.legendValue(this.max),o[o.key],o),d.swing=this.extremes.slice(0),h.swing=this.extremes.slice(0),d.swing[1]+=h.currPos,h.swing[0]+=d.currPos,this.getValueFormPixel(m[0].value,m[m.length-1].value,this.extremes[0],this.extremes[1]),n},t.updateWhenInRest=function(e,t){var o,n,r=this.sliders,a=this.extremes,i=e.sliderIndex;i?(o=r[!i].currPos,n=a[1]-a[0]+t):(o=t,n=a[1]-a[0]+r[!i].currPos),this.min=Number(this.getValueFormPixel(o).toFixed(2)),this.max=Number(this.getValueFormPixel(n).toFixed(2)),this.gLegend.fireEvent("rangeUpdated",[{min:this.min,max:this.max}])},t.dragStarted=function(e){var t=this.sliders,o=this.extremes,n=e.conf,r=this._fcChart;r.fireChartInstanceEvent("legendpointerdragstart",{pointerIndex:+e.sliderIndex,pointers:[{value:this.getValueFormPixel(t["false"].currPos)},{value:this.getValueFormPixel(o[1]-o[0]+t["true"].currPos)}],legendPointerHeight:n.outerRadius,legendPointerWidth:n.innerRadius,outerRadius:n.outerRadius,innerRadius:n.innerRadius},[r.id])},t.dragCompleted=function(e,t,o){var n,r,a=this.sliders,i=this.extremes,l=e.conf,s=this.getValueFormPixel(a["false"].currPos),c=this.getValueFormPixel(i[1]-i[0]+a["true"].currPos),d=this._fcChart;e.sliderIndex?(n=s,r=this.getValueFormPixel(i[1]-i[0]+o)):(n=this.getValueFormPixel(o),r=c),t&&d.fireChartInstanceEvent("legendrangeupdated",{previousMinValue:s,previousMaxValue:c,minValue:n,maxValue:r},[d.id]),d.fireChartInstanceEvent("legendpointerdragstop",{pointerIndex:+e.sliderIndex,pointers:[{value:n},{value:r}],legendPointerHeight:l.outerRadius,legendPointerWidth:l.innerRadius,outerRadius:l.outerRadius,innerRadius:l.innerRadius},[d.id])},t.dispose=function(){this.sliders[u].dispose(),this.sliders[p].dispose()},e}(),Q=function(e){function t(){var t;return t=e.call(this,arguments[0])||this,t._id=O,t.node=[],t}(0,s.default)(t,e);var o=t.prototype;return o.configure=function(e){this.conf=e},o.getName=function(){return"LegendValues"},o.getType=function(){return"legend"},o.getLogicalSpace=function(e,t,o){var n,a,i,l,s,c,d,h,g,u,p,f,m,b,v,y,k,C,w,x,S,L,T,E,F,_="bottom"===this.conf.legendPosition,N=this._lSpace,A=this.conf,I=A.padding,P=t.gLegend.getFromEnv("chartConfig"),O=[],M=[];if(N&&!o)return N.isImpure=!0,N;for(n=t.colorRange,a=t.smartLabel,i=n.colorRange,d=n.getCumulativeValueRatio(),N=this._lSpace={bound:{height:0,width:0},node:{logicArea:r,smartTexts:[]}},F=N.node.smartTexts,x=G(e,{}),x.height-=2*I.v,x.width-=2*I.h,x.x+=I.h,x.y+=I.v,a.useEllipsesOnOverflow(P.useEllipsesWhenOverflow),E=G(A.style,{}),H(this._metaStyle=E),a.setStyle(E),T=a.getSmartText("W"),c=i.length,_?(p=h=(d[c-1]-d[0])/2*x.width/100,L=i[0].displayValue,l=a.getSmartText("string"!==typeof L&&L!==r&&L.toString()||L,p,x.height),l.x=d[0]*x.width/100,f=l.x+l.width,O.push(l.height)):(p=h=(d[c-1]-d[0])/2*x.height/100,l=a.getSmartText(i[0].displayValue,x.width,p),l.y=d[0]*x.height/100,v=l.y+l.width,M.push(l.width)),F[0]=l,_?(l=a.getSmartText(i[c-1].displayValue,p,x.height),l.x=d[c-1]*x.width/100,b=l.x-l.width,O.push(l.height),m=f):(l=a.getSmartText(i[c-1].displayValue,x.width,p),l.y=d[c-1]*x.height/100,k=l.y-l.height,M.push(l.width),y=v),F[c-1]=l,s=1;s<c-1;s++)l=r,S=i[s].displayValue,_?(g=s+1===c-1?b:d[s+1]*x.width/100,u=d[s]*x.width/100,h=Math.min(u-m,g-u),h>1.5*T.width&&(l=a.getSmartText(S,2*h,x.height),l.x=d[s]*x.width/100,m=h,O.push(l.height))):(g=s+1===c-1?k:d[s+1]*x.height/100,u=d[s]*x.height/100,h=Math.min(u-y,g-u),h>2*T.height&&(l=a.getSmartText(S,x.width,2*h),l.y=d[s]*x.height/100,y=h,M.push(l.width))),F[s]=l;return _?(C=Math.max.apply(Math,O),x.height=C,e.height=C+2*I.v):(w=Math.max.apply(Math,M),x.width=w,e.width=w+2*I.h),N.node.logicArea=x,N.bound=e,e},o.draw=function(){var e,t,o,n,r,a,l,s,c,d,h,g,u,p,f=this.conf,m="bottom"===f.legendPosition,b=f.bound&&f.bound.style||{stroke:"none"},v={};arguments.length>=2&&arguments[1]?(n=arguments[0],l=arguments[1]):arguments.length>=1&&(l=arguments[0]),p=l.animationManager,e=l.parentLayer,s=l.colorRange,c=s.getCumulativeValueRatio(),this.getLogicalSpace(n,l),r=this._lSpace,a=r.node.logicArea,g=r.node.smartTexts,this.group=o=p.setAnimation({el:this.group||"group",attr:{name:"legend-values"},container:e,component:i}),this.bound=t=p.setAnimation({el:this.bound||"rect",attr:r.bound,css:b,container:o,component:i});for(var y=0;y<this.node.length;y++)this.node[y].remove();for(this.node=[],d=0,h=c.length;d<h;d++)u=g[d],u&&(m?(v.y=a.y+u.height/2,v.x=d===h-1?a.x+u.x-u.width/2:d?a.x+u.x:a.x+u.x+u.width/2):(v.x=a.x+u.width/2,v.y=d===h-1?a.y+u.y-u.height/2:d?a.y+u.y:a.y+u.y+u.height/2),this.node.push(p.setAnimation({el:"text",attr:{text:u.text,x:v.x,y:v.y,lineHeight:this._metaStyle.lineHeight,fill:f.style.fill},container:o,component:i})));return{group:o,bound:t}},t}(J),ee=W;t.default=ee},"9fc2":function(e,t,o){"use strict";t.__esModule=!0,t.computeLayout=void 0;var n=o("3d3f"),r=o("1612"),a=o("c81a"),i=function(){function e(){this.gridLayoutEngine=a.computeGridLayout}var t=e.prototype;return t.compute=function(e){switch((0,n.getDisplayProperty)(e)){case r.DISPLAY_GRID:return this.gridLayoutEngine(e);case r.DISPLAY_FLEX:return this.gridLayoutEngine(e);default:return this.gridLayoutEngine(e)}},e}(),l=function(e){var t,o=new i,r=(0,n.cloneObject)(e);return r.root=!0,t=o.compute(r),(0,n.attachLayoutInformation)(e,t),e};t.computeLayout=l},aff6:function(e,t,o){"use strict";t.__esModule=!0,t.default=void 0;var n=[{initialAttr:{opacity:0},finalAttr:{opacity:1},slot:"plot"}],r=[{slot:"plot",startEnd:{start:0,end:.5}}],a=[{slot:"intial"}],i={"*.legend.legend":function(){return{"legendGroup.appearing":n,"legendGroup.updating":r,"legendGroup.disappearing":a,"scrollbar.appearing":n,"scrollbar.updating":r,"scrollbar.disappearing":a}}};t.default=i},b0ea:function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r=n(o("55b5")),a=o("a506"),i=o("3388"),l=o("2813"),s=n(o("6fff")),c=a.preDefStr.POINTER,d="none",h="M",g="L",u="Z",p="A",f=function(e,t,o,n,r){var a,i,l,s,c,d,f,m,b,v,y,k=[h];switch(r){case"column":case"dragColumn":case"column3D":case"realtimeColumn":case"errorBar2D":a=.25*o,i=.5*a,l=.7*n,s=.4*n,k=k.concat([e,t+n,"l",0,-l,a,0,0,l,"z","m",a+i,0,"l",0,-n,a,0,0,n,"z","m",a+i,0,"l",0,-s,a,0,0,s,"z"]);break;case"bar2D":case"bar3D":a=.3*o,i=.6*o,l=n/4,s=l/2,k=k.concat([e,t,g,e+i,t,e+i,t+l,e,t+l,u,h,e,t+l+s,g,e+o,t+l+s,e+o,t+l+s+l,e,t+2*l+s,u,h,e,t+2*(l+s),g,e+a,t+2*(l+s),e+a,t+n,e,t+n,u]);break;case"area":case"area3d":case"areaspline":case"dragArea":case"realTimeArea":case"splinearea":a=.3*o,i=.6*o,l=.6*n,s=.2*n,c=.8*n,k=k.concat([e,t+c,g,e,t+l,e+a,t+s,e+i,t+l,e+o,t+s,e+o,t+c,u]);break;case"pie2D":case"pie3d":case"doughnut2D":case"doughnut3D":a=.5*o,i=.9*a,v=1,y=1,d=e+a+v,m=t+a-v,f=e+a-y,b=t+a+y,k=k.concat([d,m,g,d,m-i+v,p,i-v,i-v,0,0,1,d+i-v,m,u,h,f,b,g,f,b-i,p,i,i,0,1,0,f+i,b,u]);break;case"boxandwhisker2d":k=k.concat([e,t,g,e+o,t,e+o,t+n,e,t+n,u]);break;default:k=k.concat([e,t,g,e+o,t,e+o,t+n,e,t+n,u])}return{path:k}},m=function(e,t){var o=e.config,n=e.getLinkedParent().config,r=n.symbolWidth,i=.5*r,l=(n.initialItemX||0)+o._legendX,s=(n.initialItemY||0)+o._legendY,d=l+n.symbolPadding+i,h=s+(o._markerYGutter||0)+n.symbolPadding+i,g=(0,a.mapSymbolName)(o.anchorSide),u=o.symbol=g&&g.split("_")||[],p="spoke"===u[0]?1:0;return("line"===o.type||o.drawLine)&&(i*=.6),{path:(0,a.polyPathToPath)([u[1]||2,d,h,i,o.startAngle,o.spoke||p]),cursor:t.cursor||c,stroke:t.stroke,fill:t.fill,"stroke-width":t["stroke-width"]||.5}};(0,l.addDep)({name:"legendItemAnimation",type:"animationRule",extension:s.default});var b=function(e){function t(){var t;return t=e.call(this)||this,t._stateCosmetics={},t._legendState=[],t}(0,r.default)(t,e);var o=t.prototype;return o.getName=function(){return"legendItem"},o.parseLegendCosmetics=function(){var e,t,o,n=this,r=this.getLinkedParent(),i=r.getLegendState(),l=n.getLegendState(),s=["default"],c={};for(s=s.concat(i,l),o=0;o<s.length;o++)e=r.getStateCosmetics(s[o]),t=n.getStateCosmetics(s[o]),e&&("function"===typeof e?c=e(c,n):(0,a.extend2)(c,e)),t&&("function"===typeof t?c=t(c,n):(0,a.extend2)(c,t));return c},o.getType=function(){return"legendItem"},o.configure=function(e){var t,o,n=this,r=n.config;for(t in e)if(e.hasOwnProperty(t))if("object"!==typeof e[t])r[t]=e[t];else{var a=r[t]?r[t]:{};for(o in e[t])a[o]=e[t][o];r[t]=a}},o.itemClickFn=function(){var e=this,t=e.getFromEnv("chart-attrib"),o=(0,a.pluckNumber)(t.interactivelegend,1),n=e.getLinkedItem("owner");o&&n.legendInteractivity(e)},o.dispose=function(){this.removeEventListener("fc-click",this.click),this.removeEventListener("fc-mouseover",this.mouseover),this._dispose()},o.getLegendState=function(){return this._legendState},o.hasState=function(e){var t,o,n=this.getLegendState();for(t=0,o=n.length;t<o;t++)if(n[t]===e)return!0;return!1},o.setLegendState=function(e,t){this.hasState(e)||(t?this._legendState.push(e):this._legendState.unshift(e)),this.asyncDraw()},o.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this),this.config.eventArguments={}},o.removeLegendState=function(e){var t,o,n=1;if(e)for(t=0,o=this._legendState.length;t<o&&n;t++)e===this._legendState[t]&&(this._legendState.splice(t,1),n=0);else this._legendState.length=0;this.asyncDraw()},o.removeStateCosmetics=function(e){delete this._stateCosmetics[e]},o.setStateCosmetics=function(e,t){this._stateCosmetics[e]=t},o.getStateCosmetics=function(e){return this._stateCosmetics[e]},o.draw=function(){var e,t,o,n,r,i,l,s,u,p,b,v,y,k,C,w,x,S,L,T,E,F,_,N,A,I,P,O,M,R,B,D,G,V,z,H,j,W,Y,X,K,U=this.getLinkedParent(),J=U.getFromEnv("chart"),$=J.config,Z=this,q=Z.getFromEnv("animationManager"),Q=Z.config,ee=U.config,te=ee.legendHeight,oe=ee.symbolPadding,ne=ee.symbolWidth,re=ee.interactiveLegend,ae=ee.textPadding||2,ie=ee.itemHoverStyle,le=U.getChildContainer("itemGroup"),se=ee.drawCustomLegendIcon,ce=Z.hasState("hidden"),de={};e=Z.parseLegendCosmetics(),o=e.symbol,n=ee.initialItemX||0,r=ee.initialItemY||0,u=Q.type,T=e.symbol.stroke||"000000",E=e.symbol.fill,t=e.symbol.lineWidth||ee.lineWidth,_=Q.anchorSide,N=Q.drawLine,p=n+Q._legendX,b=r+Q._legendY,G=Z.getGraphicalElement("legendItemBackground"),s=Z.getGraphicalElement("legendItemText"),v=Z.getGraphicalElement("legendItemLine"),C=Z.getGraphicalElement("legendItemSymbol"),re=(0,a.pluck)(Q.interactiveLegend,re),!re&&(e.cursor="default"),V=e.text,X=p+te+ae-2,K=b+(Q._legendTestY||0),V.text=Q.name,V.x=X,V.y=K,l=q.setAnimation({el:s||"text",attr:V,component:Z,container:le,label:"icon"}),s||(l=Z.addGraphicalElement("legendItemText",l)),l.data("legendItem",Q),z=!1,se&&!1!==Q.customLegendIcon?(O=!ce&&o.borderColor,M=(0,a.pluck)(o.borderAlpha),I=!ce&&o.bgColor,P=(0,a.pluck)(o.bgAlpha,"100"),R=e.symbol.rawFillColor,E=ce?e.symbol.fill:I||R,E=(0,a.convertColor)(E,P),B=e.symbol.rawStrokeColor,T=ce?e.symbol.stroke:O||B||R,T=(0,a.convertColor)(T,M),x=.5*ne,w=p+oe+x,i=b+(Q._markerYGutter||0)+oe+x,A=(0,a.mapSymbolName)(o.sides),L=A&&(0,a.mapSymbolName)(o.sides).split("_")||[],S="spoke"===L[0]?1:0,H={path:(0,a.polyPathToPath)([L[1]||2,w,i,x,o.startAngle||0,S]),cursor:e.symbol.cursor||c,stroke:T,fill:E,"stroke-width":(0,a.pluckNumber)(o.borderThickness,1)}):"line"===u||N?(i=b+(Q._markerYGutter||0)+oe+.5*ne,Y={path:[h,p+oe,i,g,p+oe+ne,i]},z=!0,de={opacity:$.legendiconalpha||1,"stroke-width":t,stroke:T,cursor:e.cursor||c},_&&(H=m(Z,e.symbol))):_?H=m(Z,e.symbol):"line"!==u&&(T=Q.symbolStroke||T,y=f(p+oe,b+(Q._markerYGutter||0)+oe,ne,ne,u),H={path:y.path,"stroke-width":.5,stroke:T,fill:E,cursor:e.cursor||c}),Y&&z?(Object.assign(Y,de),v=q.setAnimation({el:v||"path",attr:Y,component:Z,callback:function(){this.show()},container:le}),Z.getGraphicalElement("legendItemLine")||(v=Z.addGraphicalElement("legendItemLine",v))):v&&v.hide(),H?(H.opacity=(0,a.pluckNumber)(e.symbol.opacity,1),k=q.setAnimation({el:C||"path",attr:H,component:Z,callback:function(){this.show()},container:le,label:"icon"}),C&&C.node||(k=Z.addGraphicalElement("legendItemSymbol",k)),k.data("legendItem",Q)):C&&C.hide(),F=e.background&&e.background.legendBackgroundColor?(0,a.convertColor)(e.background.legendBackgroundColor,e.background.alpha):a.TRACKER_FILL,j={x:p,y:b,width:Q._totalWidth,height:Q._legendH,r:0,fill:F,opacity:1,"stroke-width":1,stroke:d,cursor:e.symbol.cursor||c},D=q.setAnimation({el:G||"rect",attr:j,css:W,component:Z,label:"background",container:le}),G||Z.addGraphicalElement("legendItemBackground",D),D.data("legendItem",Z).data("interactive",re).data("itemHoverStyle",ie).data("itemStyle",e)},t}(i.ComponentInterface),v=b;t.default=v},b96b:function(e,t,o){"use strict";function n(e,t){var o,n,r,a=e.children,i=0,l=0,s="auto-fit",c="",d="",h=0,g=t.itemWidth,u=t.width;if(u=isNaN(+u)?0:+u,a.forEach((function(e){return h=Math.max(h,+e.style.height||0)})),g=+g,"auto-fit"===s){for(i+=g,c+=g+" ",l=1,n=1,r=a.length;n<r;n++){if(i+g>u)break;i+=g,c+=g+" "}l=n,o=Math.ceil(r/l);while(o--)d+=h+" "}return{gridTemplateColumns:c.trim(),gridTemplateRows:d.trim()}}t.__esModule=!0,t.repeatResolver=n},c54f:function(e,t,o){"use strict";t.__esModule=!0,t._manageLegendSpace=r,t.manageGradientLegendSpace=a;var n=o("a506");function r(){var e,t,o,r,a=this,i=a.config,l=a.getChildren("legend")&&a.getChildren("legend")[0],s=a.getChildren("gLegend")&&a.getChildren("gLegend")[0],c=a.getFromEnv("dataSource").colorrange,d=i.hasLegend,h={},g=a.hasGradientLegend,u=a.getFromEnv("dataSource").chart,p=(0,n.pluckNumber)(u.mapbycategory,0),f=g&&c&&(0,n.pluckNumber)(c.gradient);f&&!p?(e=s.conf,g=!0,i.gLegendEnabled=!0,t=e.legendPosition?e.legendPosition.split("-"):[],r=t[0]===n.POSITION_RIGHT||t[0]===n.POSITION_LEFT?.4:.5):(e=l&&l.config,g=!1,i.gLegendEnabled=!1,t=e&&e.legendPos?e.legendPos.split("-"):[n.POSITION_BOTTOM],r=t[0]===n.POSITION_RIGHT||t[0]===n.POSITION_LEFT?.8:.4),o=t[0]===n.POSITION_ABSOLUTE?.4*i.availableHeight:t[0]===n.POSITION_RIGHT||t[0]===n.POSITION_LEFT?i.availableWidth*r:i.availableHeight*r,g?h=a.manageGradientLegendSpace(o):!1!==d&&l&&!l.getState("removed")&&(h=l&&l._manageLegendPosition(o)),h&&a._allocateSpace(h)}function a(e){var t,o,r,a=this,i=a.config,l=a.getFromEnv("gLegend"),s=l&&l.conf,c={top:0,bottom:0,left:0,right:0};return i.gLegendPadding=(0,n.pluckNumber)(a.getFromEnv("chart-attrib").legendpadding,10),o=Math.min(i.gLegendPadding,.5*e),s&&(t=s.legendPosition?s.legendPosition.split("-"):[],r=l.getLogicalSpace(e),t[0]===n.POSITION_BOTTOM?c.bottom=(r.height||0)+o:t[0]===n.POSITION_TOP?c.top=(r.height||0)+o:t[0]===n.POSITION_LEFT?c.left=(r.width||0)+o:t[0]!==n.POSITION_ABSOLUTE&&(c.right=(r.width||0)+o)),c}},c81a:function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.computeGridLayout=L;var r=n(o("9523")),a=o("3d3f"),i=n(o("322b")),l=o("1612"),s=o("b96b");function c(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?c(Object(o),!0).forEach((function(t){(0,r.default)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var h=["auto","none"],g=/minmax/,u=/(?:[^\s[\]()]+|\[[^[\]]*\]|\([^()]*\))+/g,p=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},f=function(e){var t=e.style||{},o=t.gridTemplateColumns,n=t.gridTemplateRows;return!/repeat\(/g.test(o)&&!/repeat\(/g.test(n)},m=function(e){return e.split(/\(|\)/g)[1].split(",").map((function(e){return e&&e.trim()}))},b=function(e){if(e=e.trim(),"auto"===e)return e;if(!isNaN(+e))return+e;if(g.test(e)){var t=e.split(/\(|\)/g)[1].split(",");return[t[0].trim(),t[1].trim()]}return e},v=function(e,t){var o,n,r,i=p(t),l="width"===t?"col":"row";return o=e.map((function(e){return n=e.style["gridTemplate"+p("col"===l?"columns":"rows")],r="grid"===(0,a.getDisplayProperty)(e)&&/repeat\(/g.test(n)?m(n)[1]:e.style["min"+i+"Contribution"]||e.style[t]||"auto",{start:e[l+"Start"],end:e[l+"End"],size:r}})),o},y=function(e,t,o){var n,r;for(n=t.x;n<o.x;n++)for(r=t.y;r<o.y;r++)e[n][r]=!0},k=function(e,t){var o=e.gridRowStart,n=e.gridRowEnd,r=e.gridColumnStart,a=e.gridColumnEnd;if(e.gridColumn){var i=e.gridColumn.split("/").map((function(e){return e.trim()}));r=i[0],a=i[1],r=t?t.col.nameToLineMap[r]:1,/span\s+\d+/g.test(a)&&(a=r+ +a.match(/span\s+(\d+)/)[1]),a=t?t.col.nameToLineMap[a]:1}if(e.gridRow){var l=e.gridRow.split("/").map((function(e){return e.trim()}));o=l[0],n=l[1],o=t?t.row.nameToLineMap[o]:1,/span\s\d+/g.test(n)&&(n=o+ +n.match(/span\s(\d+)/)[1]),n=t?t.row.nameToLineMap[n]:1}return{gridRowStart:o,gridRowEnd:n,gridColumnStart:r,gridColumnEnd:a}},C=function(e){var t,o=1,n=1;return e.forEach((function(e){t=k(e.style),n=Math.max(isNaN(+t.gridColumnStart)?0:+t.gridColumnStart,n,isNaN(+t.gridColumnEnd-1)?0:+t.gridColumnEnd-1),o=Math.max(isNaN(+t.gridRowStart)?0:+t.gridRowStart,o,isNaN(+t.gridRowEnd-1)?0:+t.gridRowEnd-1)})),{maxRow:o,maxColumn:n}},w=function(){function e(){this.setup()}var t=e.prototype;return t.setup=function(){return this._tsa=new i.default,this.props={},this._config={mapping:{}},this},t.set=function(e,t){return this.props[e]=t,this},t.getProps=function(e){return this.props[e]},t.getConfig=function(e){return this._config[e]},t.compute=function(e){var t=e||this.props.domTree;this._sanitizeTracks(t)._sanitizeItems(t)._inflateTracks()._assignCoordinatesToCells(t)},t._sanitizeTracks=function(e){void 0===e&&(e={});var t,o=e.style,n=o.gridTemplateRows,r=o.gridTemplateColumns,a=this._config,i=C(e.children),l=i.maxColumn,s=i.maxRow;return this.set("maxTracks",s),t=this._fetchTrackInformation(n),a.mapping.row={nameToLineMap:t.nameToLineMap,lineToNameMap:t.lineToNameMap},a.rowTracks=t.tracks,this.set("maxTracks",l),t=this._fetchTrackInformation(r),a.mapping.col={nameToLineMap:t.nameToLineMap,lineToNameMap:t.lineToNameMap},a.colTracks=t.tracks,this},t._fetchTrackInformation=function(e){void 0===e&&(e="none");var t,o,n,r,a,i,l=e.match(u),s=[{}],c={},d={};for(n=l.filter((function(e){return!e||"string"!==typeof e||!e.length||(o=e.length,"["===e[0]&&"]"===e[o-1])})),r=l.filter((function(e){return!!e&&(o=(e+"").toLowerCase().replace(/px|fr/,""),!(!(h.indexOf(o)>=0||g.test(o))&&isNaN(o)))})).map((function(e){return b(e)})),o=r.length,"none"===e&&(o=this.getProps("maxTracks")),t=0;t<o;t++)a=n[t]&&n[t].replace(/\[|\]/g,"").split(" ").filter((function(e){return e.length})).map((function(e){return e.trim()}))||[t+1+""],i=n[t+1]&&n[t+1].replace(/\[|\]/g,"").split(" ").filter((function(e){return e.length})).map((function(e){return e.trim()}))||[t+2+""],s.push({start:t+1,end:t+2,size:r[t]||"auto"}),d[t+1]=a,d[t+2]=i,a.forEach((function(e){return c[e]=t+1})),i.forEach((function(e){return c[e]=t+2})),c[t+1]=t+1,c[t+2]=t+2;return{tracks:s,nameToLineMap:c,lineToNameMap:d}},t._sanitizeItems=function(e){var t,o,n,r,a,i,l,s=e||this.props.domTree,c=s.children||[],h=this._config.mapping,g=s.style.gridAutoFlow||"row",u=Object.keys(h.row.lineToNameMap).length,p=Object.keys(h.col.lineToNameMap).length,f=[],m=[],b=[[]],v=[];for(a=1;a<=u;a++)b.push([]);for(a=0,l=c.length;a<l;a++)t=k(c[a].style,h),f.push(d(d({},c[a]),{},{rowStart:h.row.nameToLineMap[t.gridRowStart],rowEnd:h.row.nameToLineMap[t.gridRowEnd],colStart:h.col.nameToLineMap[t.gridColumnStart],colEnd:h.col.nameToLineMap[t.gridColumnEnd]})),n=f[a],y(b,{x:n.rowStart,y:n.colStart},{x:n.rowEnd,y:n.colEnd});if(m=f.filter((function(e){return!e.colStart||!e.rowStart})),m&&"row"===g){for(a=1;a<u;a++)for(i=1;i<p;i++)b[a][i]||v.push({row:a,col:i});while(m.length&&v.length)n=m.shift(),o=v.shift(),n.rowStart=o.row,n.colStart=o.col,n.rowEnd=o.row+1,n.colEnd=o.col+1;if(r=Math.ceil(m.length/p),r){while(r--)s.style.gridTemplateRows+="auto ",h.row.nameToLineMap[u+1]=u+1,h.row.nameToLineMap[u+2]=u+2,u++,b.push([]);for(s.style.gridTemplateRows=s.style.gridTemplateRows.trim(),v=[],a=1;a<=u;a++)for(i=1;i<=p;i++)b[a][i]||v.push({row:a,col:i});while(m.length)n=m.shift(),o=v.shift(),n.rowStart=o.row,n.colStart=o.col,n.rowEnd=o.row+1,n.colEnd=o.col+1}}return this._config.sanitizedItems=f,this},t._inflateTracks=function(){var e,t=this._config,o=t.sanitizedItems,n=t.colTracks,r=t.rowTracks,a=0,l=0,s=this.props.domTree,c=s.style||{},d=c.paddingStart,h=c.paddingEnd,g=c.paddingTop,u=c.paddingBottom,p=c.width,f=c.height,m=new i.default;return isNaN(+p)||(p-=d+h),e=m.clear().set("tracks",n).set("items",v(o,"width")).set("containerSize",p||"auto").resolveTracks(),n.forEach((function(t,o){t.calculatedStyle=e[o],l+=e[o].baseSize||0})),this._solveUnresolvedChildren(),isNaN(+f)||(f-=g+u),e=m.clear().set("tracks",r).set("items",v(o,"height")).set("containerSize",f||"auto").resolveTracks(),r.forEach((function(t,o){t.calculatedStyle=e[o],a+=e[o].baseSize||0})),s.style.minHeightContribution=a,s.style.minWidthContribution=l,this},t._solveUnresolvedChildren=function(e){var t,o,n,r,a,i,l,c,d=e||this.props.domTree,h=(d.unResolvedChildren||[]).filter((function(e){return/repeat\(/g.test(e.style.gridTemplateColumns)||/repeat\(/g.test(e.style.gridTemplateRows)})),g=this._config,u=g.colTracks,p=g.mapping,f=this.getProps("parent"),b=[0];if(!h.length)return this;for(o=1,n=u.length;o<n;o++)b[o]=b[o-1]+u[o].calculatedStyle.baseSize;return h.forEach((function(e){i=m(e.style.gridTemplateColumns)[1],l=p.col.nameToLineMap[e.style.gridColumnStart],c=p.col.nameToLineMap[e.style.gridColumnEnd],r=b[c-1]-b[l-1],a={itemWidth:i,width:r},t=(0,s.repeatResolver)(e,a),e.style.gridTemplateColumns=t.gridTemplateColumns,e.style.gridTemplateRows=t.gridTemplateRows,f.gridLayoutEngine(e)})),this},t._assignCoordinatesToCells=function(e){var t,o,n,r,i,s,c,d,h,g=e||this.props.domTree,u=this._config,p=u.sanitizedItems,f=u.rowTracks,m=u.colTracks,b=g.style,v=b.justifyItems,y=b.alignItems,k=b.paddingStart,C=b.paddingTop,w=[k],x=[C];for(n=1,o=f.length;n<o;n++)w[n]=w[n-1]+f[n].calculatedStyle.baseSize;for(n=1,o=m.length;n<o;n++)x[n]=x[n-1]+m[n].calculatedStyle.baseSize;return g.layout={x:0,y:0,width:isNaN(g.style.width)?x[x.length-1]:g.style.width,height:isNaN(g.style.height)?w[w.length-1]:g.style.height},(g.children||[]).forEach((function(e,o){switch(t=p[o],r=x[t.colEnd-1]-x[t.colStart-1],i=w[t.rowEnd-1]-w[t.rowStart-1],s=isNaN(+e.style.width)?r:+e.style.width,c=isNaN(+e.style.height)?i:+e.style.height,v||e.style.justifySelf){case l.CENTER:d=x[t.colStart-1]+r/2-s/2;break;case l.END:d=x[t.colEnd-1]-s;break;case l.STRETCH:s=r,d=x[t.colStart-1];break;default:d=x[t.colStart-1]}switch(y||e.style.alignSelf){case l.CENTER:h=w[t.rowStart-1]+i/2-c/2;break;case l.END:h=w[t.rowEnd-1]-c;break;case l.STRETCH:c=i,h=w[t.rowStart-1];break;default:h=w[t.rowStart-1]}d+=(0,a.pluckNumber)(t.style.paddingStart,t.style.padding,0),h+=(0,a.pluckNumber)(t.style.paddingTop,t.style.padding,0),e.layout={x:d,y:h,x2:d+s,y2:h+c,width:s,height:c}})),this},e}(),x=function(e,t){void 0===e&&(e="");var o=(e.match(u)||[]).filter((function(e){return e&&!!e.trim()})),n="",r=1;return o.length&&!/repeat\(/.test(e)?o.forEach((function(e){h.indexOf(e)>-1||/[0-9]fr/.test(e)||g.test(e)||!isNaN(e)?(n+=t[r].calculatedStyle.baseSize+" ",r++):n+=e+" "})):t.forEach((function(e){isNaN(e.calculatedStyle.baseSize)||(n+=e.calculatedStyle.baseSize+" ")})),n.trim()},S=function(e,t){var o,n,r,i,l,s,c,d,h,g,u=e.style,p=t.getConfig("rowTracks"),f=t.getConfig("colTracks"),m=t.getConfig("mapping"),b=u.gridTemplateRows,v=u.gridTemplateColumns;for(e.style.gridTemplateRows=x(b,p),e.style.gridTemplateColumns=x(v,f),n=0,i=(e.children||[]).length;n<i;n++)if(o=e.children[n],(0,a.getDisplayProperty)(o)){if(o.style.gridTemplateColumns=o.userGivenStyles.gridTemplateColumns,o.style.gridTemplateRows=o.userGivenStyles.gridTemplateRows,isNaN(o.userGivenStyles.width)){for(h=o.style.gridColumnStart,g=o.style.gridColumnEnd,h=m.col.nameToLineMap[h],g=m.col.nameToLineMap[g],r=h,s=0;r<g;r++)s+=f[r].calculatedStyle.baseSize;o.style.width=s}if(isNaN(o.userGivenStyles.height)){for(c=o.style.gridRowStart,d=o.style.gridRowEnd,c=m.row.nameToLineMap[c],d=m.row.nameToLineMap[d],r=c,l=0;r<d;r++)l+=p[r].calculatedStyle.baseSize;o.style.height=l}}return e};function L(e,t){void 0===t&&(t=1);var o,n,r,i,l=e.style;if(e&&e.style){for(e.userGivenStyles||(e.style.width=isNaN(e.style.width)?"auto":e.style.width,e.style.height=isNaN(e.style.height)?"auto":e.style.height,l.paddingStart=(0,a.pluckNumber)(l.paddingStart,l.padding,0),l.paddingEnd=(0,a.pluckNumber)(l.paddingEnd,l.padding,0),l.paddingTop=(0,a.pluckNumber)(l.paddingTop,l.padding,0),l.paddingBottom=(0,a.pluckNumber)(l.paddingBottom,l.padding,0),e.userGivenStyles={gridTemplateColumns:e.style.gridTemplateColumns,gridTemplateRows:e.style.gridTemplateRows,width:e.style.width,height:e.style.height}),e.unResolvedChildren=[],o=0,n=e.children&&e.children.length;o<n;o++)r=e.children[o],(0,a.getDisplayProperty)(r)&&(f(r)?this.compute(r):e.unResolvedChildren.push(r));return i=new w,i.set("domTree",e).set("parent",this).compute(),t<2&&this.gridLayoutEngine(S(e,i),2),e}}},d276:function(e,t,o){"use strict";var n=o("dbce"),r=o("4ea4");t.__esModule=!0,t.default=void 0;var a,i=r(o("55b5")),l=r(o("fdae")),s=o("3388"),c=n(o("3f12")),d=r(o("8d73")),h=o("fae5"),g=o("a506"),u=r(o("724d")),p=r(o("ea5c")),f=r(o("2611")),m=r(o("2e61")),b=(0,g.extend2)({foregroundcolor:"333333",foregroundalpha:"100",foregrounddarkcolor:"111111",foregrounddarkalpha:"100",foregroundlightcolor:"666666",foregroundlightalpha:"100",backgroundlightcolor:"FFFFFF",backgroundlightalpha:"100",backgroundlightangle:90,backgroundlightratio:"",backgroundcolor:"FFFFCC",backgroundalpha:"100",backgrounddarkcolor:"ffcc66",backgrounddarkalpha:"100",backgrounddarkangle:270,backgrounddarkratio:"",shadow:1},c),v="0,100",y="Map",k="maps",C="geo",w="right",x={basefontcolor:"foregroundcolor",bordercolor:"foregrounddarkcolor",borderalpha:"foregrounddarkalpha",bgcolor:"backgroundlightcolor",bgalpha:"backgroundlightalpha",bgangle:"backgroundlightangle",bgratio:"backgroundlightratio",canvasbordercolor:"foregrounddarkcolor",canvasborderalpha:"foregrounddarkalpha",canvasbgcolor:"backgroundlightcolor",canvasbgalpha:"backgroundlightalpha",canvasbgangle:"backgroundlightangle",canvasbgratio:"backgroundlightratio",tooltipbordercolor:"foregrounddarkcolor",tooltipborderalpha:"foregrounddarkalpha",tooltipbgcolor:"backgroundlightcolor",tooltipbgalpha:"backgroundlightalpha",tooltipfontcolor:"foregroundcolor",legendbordercolor:"foregrounddarkcolor",legendborderalpha:"foregrounddarkalpha",markerbordercolor:"foregroundlightcolor",markerborderalpha:"foregroundlightalpha",markerfillcolor:"backgrounddarkcolor",markerfillalpha:"backgrounddarkalpha",markerfillangle:"backgrounddarkangle",markerfillratio:"backgrounddarkratio",plotfillcolor:"backgroundcolor",plotfillalpha:"backgroundalpha",plotfillangle:"backgroundangle",plotfillratio:"backgroundratio",plothoverfillcolor:"backgrounddarkcolor",plothoverfillalpha:"backgrounddarkalpha",plothoverfillangle:"backgrounddarkangle",plothoverfillratio:"backgrounddarkratio",plotbordercolor:"foregroundcolor",plotborderalpha:"foregroundalpha",shadow:"shadow"},S={getMapName:function(){var e=this,t=e.jsVars.instanceAPI,o=t.getName().toLowerCase();return o},getEntityList:function(){var e,t,o,n,r,a,i,l=this,s=l.jsVars.instanceAPI,c=s.getDatasets()||[],d=c.length,h=[];for(e=0;e<d;e++)if(o=c[e]||[],i=o.getName(),"entities"===i){t=o;break}for(e in n=t.components.data,d=n.length,n)n.hasOwnProperty(e)&&(r=n[e]||{},a=r.config||{},h.push({id:a.id,originalId:a.originalId||a.id,label:a.label,shortlabel:a.shortLabel,value:a.value,formattedValue:a.formattedValue,toolText:a.toolText}));return h},getMapAttribute:function(){var e=this;return(0,h.raiseWarning)(this,"12061210581","run","JavaScriptRenderer~getMapAttribute()",'Use of deprecated "getMapAttribute()". Replace with "getChartAttribute()".'),e.getChartAttribute.apply(e,arguments)},exportMap:function(){var e=this;return(0,h.raiseWarning)(this,"12061210581","run","JavaScriptRenderer~exportMap()",'Use of deprecated "exportMap()". Replace with "exportChart()".'),e.exportChart&&e.exportChart.apply(e,arguments)},addMarker:function(e){var t,o,n,r,a=this.jsVars.instanceAPI,i=a.getDatasets()||[],l=i.length;for(t=0;t<l;t++)if(o=i[t]||[],r=o.getName(),"markers"===r){n=o;break}n&&!n.addMarkerItem(e)&&(0,h.raiseWarning)(this,"1309264086","run","MapsRenderer~addMarker()","Failed to add marker. Check the options and try again.")},updateMarker:function(e,t){var o,n,r,a,i,l=this.jsVars.instanceAPI,s=l.getDatasets()||[],c=s.length;for(n=0;n<c;n++)if(r=s[n]||[],i=r.getName(),"markers"===i){a=r;break}a&&e&&(o=(e+E).toLowerCase(),a.updateMarkerItem(o,t))},removeMarker:function(e){var t,o,n,r,a,i=this.jsVars.instanceAPI,l=i.getDatasets()||[],s=l.length;for(o=0;o<s;o++)if(n=l[o]||[],a=n.getName(),"markers"===a){r=n;break}e&&(t=(e+E).toLowerCase(),r._removeMarkerItem(t))}},L="none",T=", ",E="",F="bottom",_="circle",N=window.Math,A=N.min,I=N.max,P=function(e,t){var o=(0,g.getMouseCoordinate)(t.getFromEnv("chart-container"),e,t),n=o.chartX,r=o.chartY,a=t.config,i=a.canvasLeft,l=a.canvasTop,s=a.canvasLeft+a.canvasWidth,c=a.canvasHeight+a.canvasTop;return o.insideCanvas=!1,o.originalEvent=e,n>i&&n<s&&r>l&&r<c&&(o.insideCanvas=!0),o},O=function(e){function t(t,o){var n,r;for(r in n=e.call(this)||this,n.subpalette=g.BLANKSTRING,n.key=g.BLANKSTRING,n.index=o,t)n.subpalette=b[t[r]],n[r]=n.subpalette instanceof Array?n.subpalette[o]:n.subpalette,n.key=r;return n}return(0,i.default)(t,e),t}(s.ComponentInterface),M=function(e){function t(){var t;return t=e.call(this)||this,t.friendlyName=y,t.revision=1,t.hasCanvas=!0,t.standaloneInit=!1,t.defaultDatasetType=k,t.defaultSeriesType=C,t.fireGroupEvent=!0,t.legendposition=w,t.hasGradientLegend=!0,t.isMap=!0,t.defaultPaletteOptions={paletteColors:[["A6A6A6","CCCCCC","E1E1E1","F0F0F0"],["A7AA95","C4C6B7","DEDFD7","F2F2EE"],["04C2E3","66E7FD","9CEFFE","CEF8FF"],["FA9101","FEB654","FED7A0","FFEDD5"],["FF2B60","FF6C92","FFB9CB","FFE8EE"]],bgColor:["FFFFFF","CFD4BE,F3F5DD","C5DADD,EDFBFE","A86402,FDC16D","FF7CA0,FFD1DD"],bgAngle:[270,270,270,270,270],bgRatio:[v,v,v,v,v],bgAlpha:["100","60,50","40,20","20,10","30,30"],toolTipBgColor:["FFFFFF","FFFFFF","FFFFFF","FFFFFF","FFFFFF"],toolTipBorderColor:["545454","545454","415D6F","845001","68001B"],baseFontColor:["555555","60634E","025B6A","A15E01","68001B"],tickColor:["333333","60634E","025B6A","A15E01","68001B"],trendColor:["545454","60634E","415D6F","845001","68001B"],plotFillColor:["545454","60634E","415D6F","845001","68001B"],borderColor:["767575","545454","415D6F","845001","68001B"],borderAlpha:[50,50,50,50,50]},t.colorPaletteMap=x,t.eiMethods=S,t.registerFactory("legend",m.default,["canvas"]),t.registerFactory("axis",g.stubFN,["canvas"]),t.registerFactory("colormanager-decider",f.default,["legend"]),t.registerFactory("dataset",u.default,["colormanager-decider"]),t.registerFactory("canvas",p.default),t}(0,i.default)(t,e);var o=t.prototype;return o._checkInvalidSpecificData=function(){return this.config.invalid=!1,!1},o.__setDefaultConfig=function(){e.prototype.__setDefaultConfig.call(this);var t=this.config;!t.baseWidth&&(t.baseWidth=400),!t.baseHeight&&(t.baseHeight=300),!t.baseScaleFactor&&(t.baseScaleFactor=1)},t.getName=function(){return"maps"},t.getType=function(){return"chartAPI"},o.getName=function(){return this.config.name||"GEO"},o.getType=function(){return"chartAPI"},o.configureAttributes=function(t){var o,n=this,r=n.getChildren("colorPalette")&&n.getChildren("colorPalette")[0];o=t.chart=t.chart||t.graph||t.map||{},n.jsonData=t,r||(r=new O(this.colorPaletteMap,(o.palette>0&&o.palette<6?o.palette:(0,g.pluckNumber)(n.paletteIndex,1))-1),n.attachChild(r,"colorPalette")),n.config.skipCanvasDrawing=!0,e.prototype.configureAttributes.call(this,t),n._parseBackgroundCosmetics()},o.parseChartAttr=function(t){var o,n,r,a,i,l=this,s=l.jsonData,c=s.chart||s.map,d=s.markers,h=new O(this.colorPaletteMap,(c.palette>0&&c.palette<6?c.palette:(0,g.pluckNumber)(l.paletteIndex,1))-1),u=(0,g.pluck)(c.entitybordercolor,c.bordercolor,h.plotbordercolor),p=(0,g.pluck)(c.entityfillcolor,c.fillcolor,h.plotfillcolor),f=(0,g.pluck)(c.entityfillalpha,c.fillalpha,h.plotfillalpha),m=(0,g.pluck)(c.entityfillratio,c.fillratio,h.plotfillratio),b=(0,g.pluck)(c.entityfillangle,c.fillangle,h.plotfillangle),v=(0,g.pluck)(c.nullentityfillcolor,c.nullentitycolor,p),y=(0,g.pluckNumber)(c.usevaluesformarkers,s.markers&&s.markers.items&&s.markers.items.length,!(s.markers&&s.markers.application&&s.markers.application.length&&s.markers.definition&&s.markers.definition.length));e.prototype.parseChartAttr.call(this,t),o=l.config,o.origMarginTop=(0,g.pluckNumber)(c.charttopmargin,c.maptopmargin,11),o.origMarginLeft=(0,g.pluckNumber)(c.chartleftmargin,c.mapleftmargin,11),o.origMarginBottom=(0,g.pluckNumber)(c.chartbottommargin,c.mapbottommargin,11),o.origMarginRight=(0,g.pluckNumber)(c.chartrightmargin,c.maprightmargin,11),o.labelsOnTop=(0,g.pluckNumber)(c.entitylabelsontop,1),i=o.style,n=i.inCancolor,r=i.inCanfontFamily,a=i.inCanfontSize,o.entityOpts={baseScaleFactor:o.baseScaleFactor,dataLabels:{style:{fontFamily:r,fontSize:a,lineHeight:i.inCanLineHeight,color:(0,g.pluck)(c.entitylabelcolor,i.inCancolor),bgColor:(0,g.pluck)(c.entitylabelbgcolor)||E,borderColor:(0,g.pluck)(c.entitylabelbordercolor)||E}},fillColor:p,fillAlpha:f,fillRatio:m,fillAngle:b,borderColor:u,borderAlpha:(0,g.pluck)(c.entityborderalpha,c.borderalpha,l.borderAlpha,"100"),borderThickness:(0,g.pluckNumber)(c.showentityborder,c.showborder,1)?(0,g.pluckNumber)(c.entityborderthickness,c.borderthickness,1):0,scaleBorder:(0,g.pluckNumber)(c.scaleentityborder,c.scaleborder,0),hoverFillColor:(0,g.pluck)(c.entityfillhovercolor,c.hoverfillcolor,c.hovercolor,h.plothoverfillcolor),hoverFillAlpha:(0,g.pluck)(c.entityfillhoveralpha,c.hoverfillalpha,c.hoveralpha,h.plothoverfillalpha),hoverFillRatio:(0,g.pluck)(c.entityfillhoverratio,c.hoverfillratio,c.hoverratio,h.plothoverfillratio),hoverFillAngle:(0,g.pluck)(c.entityfillhoverangle,c.hoverfillangle,c.hoverangle,h.plothoverfillangle),hoverBorderThickness:(0,g.pluck)(c.entityborderhoverthickness,c.hoverborderthickness),hoverBorderColor:(0,g.pluck)(c.entityborderhovercolor,u,h.plotbordercolor),hoverBorderAlpha:(0,g.pluck)(c.entityborderhoveralpha,h.plotborderalpha),nullEntityColor:v,nullEntityAlpha:(0,g.pluck)(c.nullentityfillalpha,c.nullentityalpha,f),nullEntityRatio:(0,g.pluck)(c.nullentityfillratio,c.nullentityratio,m),nullEntityAngle:(0,g.pluck)(c.nullentityfillangle,c.nullentityangle,b),connectorColor:(0,g.pluck)(c.labelconnectorcolor,c.connectorcolor,n),connectorAlpha:(0,g.pluck)(c.labelconnectoralpha,c.connectoralpha,"100"),connectorThickness:(0,g.pluckNumber)(c.labelconnectorthickness,c.borderthickness,1),showHoverEffect:(0,g.pluckNumber)(c.showentityhovereffect,c.usehovercolor,c.showhovereffect,1),hoverOnNull:(0,g.pluckNumber)(c.hoveronnull,c.entityhoveronnull,1),labelPadding:(0,g.pluckNumber)(c.labelpadding,5),showLabels:(0,g.pluckNumber)(c.showlabels,1),labelsOnTop:(0,g.pluckNumber)(c.entitylabelsontop,1),includeNameInLabels:(0,g.pluckNumber)(c.includenameinlabels,1),includeValueInLabels:(0,g.pluckNumber)(c.includevalueinlabels,0),useSNameInTooltip:(0,g.pluckNumber)(c.usesnameintooltip,0),useShortName:(0,g.pluckNumber)(c.usesnameinlabels,1),labelSepChar:(0,g.pluck)(c.labelsepchar,T),showTooltip:(0,g.pluckNumber)(c.showentitytooltip,c.showtooltip,1),tooltipSepChar:(0,g.pluck)(c.tooltipsepchar,", "),tooltext:c.entitytooltext,hideNullEntities:(0,g.pluckNumber)(c.hidenullentities,0),showHiddenEntityBorder:(0,g.pluckNumber)(c.showhiddenentityborder,1),showNullEntityBorder:(0,g.pluckNumber)(c.shownullentityborder,1),hiddenEntityColor:(0,g.pluck)(c.hiddenentitycolor,c.hiddenentityfillcolor,c.hiddenentityalpha||c.hiddenentityfillalpha?v:"ffffff"),hiddenEntityAlpha:(0,g.pluck)(c.hiddenentityalpha,c.hiddenentityfillalpha,.001),shadow:(0,g.pluckNumber)(c.showshadow,l.defaultPlotShadow,h.shadow)},o.markerOpts={dataLabels:{style:{fontFamily:(0,g.pluck)(c.markerfont,r),fontSize:(0,g.pluckNumber)(c.markerfontsize,parseInt(a,10)),fontColor:(0,g.pluck)(c.markerlabelcolor,c.markerfontcolor,n),labelBgColor:(0,g.pluck)(c.markerlabelbgcolor)||E,labelBorderColor:(0,g.pluck)(c.markerlabelbordercolor)||E}},showTooltip:(0,g.pluckNumber)(c.showmarkertooltip,c.showtooltip,1),showLabels:(0,g.pluckNumber)(c.showmarkerlabels,c.showlabels,1),showHoverEffect:(0,g.pluckNumber)(c.showmarkerhovereffect,1),labelPadding:(0,g.pluck)(c.markerlabelpadding,"5"),labelWrapWidth:(0,g.pluckNumber)(c.markerlabelwrapwidth,0),labelWrapHeight:(0,g.pluckNumber)(c.markerlabelwrapheight,0),fillColor:(0,g.pluck)(c.markerfillcolor,c.markerbgcolor,h.markerfillcolor),fillAlpha:(0,g.pluck)(c.markerfillalpha,h.markerfillalpha),fillAngle:(0,g.pluck)(c.markerfillangle,h.markerfillangle),fillRatio:(0,g.pluck)(c.markerfillratio,h.markerfillratio),fillPattern:(0,g.pluck)(c.markerfillpattern,h.markerbgpattern),hoverFillColor:c.markerfillhovercolor,hoverFillAlpha:c.markerfillhoveralpha,hoverFillRatio:c.markerfillhoverratio,hoverFillAngle:c.markerfillhoverangle,borderThickness:(0,g.pluck)(c.markerborderthickness,1),borderColor:(0,g.pluck)(c.markerbordercolor,h.markerbordercolor),borderAlpha:(0,g.pluckNumber)(c.markerborderalpha,h.markerborderalpha),hoverBorderThickness:c.markerborderhoverthickness,hoverBorderColor:c.markerborderhovercolor,hoverBorderAlpha:c.markerborderhoveralpha,radius:(0,g.pluckNumber)(c.markerradius&&(0,g.trimString)(c.markerradius),7),shapeId:(0,g.pluck)(c.defaultmarkershape,_),labelSepChar:(0,g.pluck)(c.labelsepchar,T),tooltipSepChar:(0,g.pluck)(c.tooltipsepchar,", "),autoScale:(0,g.pluckNumber)(c.autoscalemarkers,0),tooltext:(0,g.pluck)(d&&d.tooltext,c.markertooltext),dataEnabled:y,valueToRadius:(0,g.pluckNumber)(c.markerradiusfromvalue,1),valueMarkerAlpha:(0,g.pluck)(c.valuemarkeralpha,"75"),hideNull:(0,g.pluckNumber)(c.hidenullmarkers,0),nullRadius:(0,g.pluckNumber)(c.nullmarkerradius,c.markerradius,7),adjustViewPort:(0,g.pluckNumber)(c.adjustviewportformarkers,0),startAngle:(0,g.pluckNumber)(c.markerstartangle,90),maxRadius:(0,g.pluckNumber)(c.maxmarkerradius,0),minRadius:(0,g.pluckNumber)(c.minmarkerradius,0),applyAll:(0,g.pluckNumber)(c.applyallmarkers,0),shadow:(0,g.pluckNumber)(c.showmarkershadow,c.showshadow,0)},o.connectorOpts={showHoverEffect:(0,g.pluckNumber)(c.showconnectorhovereffect,1),thickness:(0,g.pluckNumber)(c.connectorthickness,c.markerconnthickness,"2"),color:(0,g.pluck)(c.connectorcolor,c.markerconncolor,h.markerbordercolor),alpha:(0,g.pluck)(c.connectoralpha,c.markerconnalpha,"100"),hoverThickness:(0,g.pluckNumber)(c.connectorhoverthickness,c.connectorthickness,c.markerconnthickness,"2"),hoverColor:(0,g.pluck)(c.connectorhovercolor,c.connectorcolor,c.markerconncolor,h.markerbordercolor),hoverAlpha:(0,g.pluck)(c.connectorhoveralpha,c.connectoralpha,c.markerconnalpha,"100"),dashed:(0,g.pluckNumber)(c.connectordashed,c.markerconndashed,0),dashLen:(0,g.pluckNumber)(c.connectordashlen,c.markerconndashlen,3),dashGap:(0,g.pluckNumber)(c.connectordashgap,c.markerconndashgap,2),font:(0,g.pluck)(c.connectorfont,c.markerconnfont,r),fontColor:(0,g.pluck)(c.connectorlabelcolor,c.connectorfontcolor,c.markerconnfontcolor,n),fontSize:(0,g.pluckNumber)(c.connectorfontsize,c.markerconnfontsize,parseInt(a,10)),showLabels:(0,g.pluckNumber)(c.showconnectorlabels,c.showmarkerlabels,c.showlabels,1),labelBgColor:(0,g.pluck)(c.connectorlabelbgcolor,c.markerconnlabelbgcolor,h.plotfillcolor),labelBorderColor:(0,g.pluck)(c.connectorlabelbordercolor,c.markerconnlabelbordercolor,h.markerbordercolor),shadow:(0,g.pluckNumber)(c.showconnectorshadow,c.showmarkershadow,c.showshadow,0),showTooltip:(0,g.pluckNumber)(c.showconnectortooltip,c.showmarkertooltip,c.showtooltip,1),tooltext:(0,g.pluck)(d&&d.connectortooltext,c.connectortooltext),hideOpen:(0,g.pluckNumber)(c.hideopenconnectors,1)},o.adjustViewPortForMarkers=(0,g.pluckNumber)(c.adjustviewportformarkers,y)},o._attachMouseEvents=function(){var e=this,o=e.getFromEnv("eventListeners"),n=e.getFromEnv("chart-container");o.push(d.default.listen(n,g.hasTouch?"touchstart":"click",t.searchMouseMove,e)),o.push(d.default.listen(window.document,g.hasTouch?"touchstart":"mousemove",t.searchMouseMove,e))},o._dispose=function(){var o=this,n=o.getFromEnv("chart-container");g.hasTouch&&(d.default.unlisten(n,"touchstart",t.searchMouseMove),d.default.unlisten(window.document,"touchstart",t.searchMouseMove)),d.default.unlisten(n,"click",t.searchMouseMove),d.default.unlisten(window.document,"mousemove",t.searchMouseMove),e.prototype._dispose.call(this)},t.searchMouseMove=function(e){var t,o=e.data,n=o.config,r=o.getDatasets(),a=r[1],i=a&&a.getFromEnv("toolTipController"),l=a&&a.config.currentToolTip,s=o.config.lastHoveredPoint,c={};o.getFromEnv("chart-container")&&o.config.lastInteractionEvent!==e.originalEvent&&(o.config.lastInteractionEvent=e.originalEvent,(t=P(e,o))&&t.insideCanvas?(n.lastMouseEvent=e,c={x:t.chartX,y:t.chartY},o._searchNearestNeighbour(c,e)):(s&&a&&a.hoverOutFn(s.element),o.config.lastHoveredPoint=null,i&&i.hide(l)))},o._searchNearestNeighbour=function(e,t){var o,n=this,r=n.getDatasets(),a=r[1];if(a){if(!a.components.kDTree)return;o=a.getElement(e),o?a.highlightPoint(o,t):a.highlightPoint(!1,t)}},o._createLayers=function(){e.prototype._createLayers.call(this),this._attachMouseEvents()},o._parseBackgroundCosmetics=function(){var e,t=this,o=t.getChildren("background")[0],n=o.config,r=t.getChildren("colorPalette")[0],a=t.getFromEnv("chart-attrib");e=n.showBorder=(0,g.pluckNumber)(a.showcanvasborder,1),n.borderWidth=e?(0,g.pluckNumber)(a.canvasborderthickness,1):0,n.borderRadius=n.borderRadius=(0,g.pluckNumber)(a.canvasborderradius,0),n.borderDashStyle=n.borderDashStyle=(0,g.pluckNumber)(a.borderdashed,0)?(0,g.getDashStyle)((0,g.pluckNumber)(a.borderdashlen,4),(0,g.pluckNumber)(a.borderdashgap,2)):L,n.borderAlpha=(0,g.pluck)(a.canvasborderalpha,r.borderAlpha),n.borderColor=n.borderColor=(0,g.convertColor)((0,g.pluck)(a.canvasbordercolor,r&&r.borderColor),n.borderAlpha)},o._getBackgroundCosmetics=function(){var e=this,t=e.getFromEnv("chart-attrib")||e.jsonData.map,o=e.getChildren("colorPalette")[0];return{FCcolor:{color:(0,g.pluck)(t.bgcolor,t.canvasbgcolor,o.bgcolor),alpha:(0,g.pluck)(t.bgalpha,t.canvasbgalpha,o.bgalpha),angle:(0,g.pluck)(t.bgangle,t.canvasbgangle,o.bgangle),ratio:(0,g.pluck)(t.bgratio,t.canvasbgratio,o.bgratio)}}},o._parseCanvasCosmetics=function(){e.prototype._parseCanvasCosmetics.call(this);var t=this,o=t.config,n=t.getFromEnv("chart-attrib")||t.jsonData.map,r=t.getChildren("canvas")[0].config;o.origMarginTop=(0,g.pluckNumber)(n.maptopmargin,11),o.origMarginLeft=(0,g.pluckNumber)(n.mapleftmargin,11),o.origMarginBottom=(0,g.pluckNumber)(n.mapbottommargin,11),o.origMarginRight=(0,g.pluckNumber)(n.maprightmargin,11),o.origCanvasLeftMargin=(0,g.pluckNumber)(n.canvasleftmargin,0),o.origCanvasRightMargin=(0,g.pluckNumber)(n.canvasrightmargin,0),o.origCanvasTopMargin=(0,g.pluckNumber)(n.canvastopmargin,0),o.origCanvasBottomMargin=(0,g.pluckNumber)(n.canvasbottommargin,0),r.canvasBorderRadius=(0,g.pluckNumber)(n.canvasborderradius,0),r.origCanvasTopPad=(0,g.pluckNumber)(n.canvastoppadding,0),r.origCanvasBottomPad=(0,g.pluckNumber)(n.canvasbottompadding,0),r.origCanvasLeftPad=(0,g.pluckNumber)(n.canvasleftpadding,0),r.origCanvasRightPad=(0,g.pluckNumber)(n.canvasrightpadding,0)},o.preliminaryScaling=function(){var e,t,o,n=this,r=n.jsonData,a=r.markers&&r.markers.items||[],i=a&&a.length||0,l=1/0,s=1/0,c=-1/0,d=-1/0;while(i--)o=a[i],e=Number(o.x),t=Number(o.y),l=A(l,e),s=A(s,t),c=I(c,e),d=I(d,t);return{x:l,y:s,x1:c,y1:d}},o.getScalingParameters=function(e,t,o,n){var r,a,i=this,l=e/t,s=o/(e*i.config.baseScaleFactor),c=n/(t*i.config.baseScaleFactor),d=0,h=0;return s>c?(r=c,d+=(o-n*l)/2,a=200/(t*r)):(r=s,h+=(n-o/l)/2,a=200/(e*r)),{scaleFactor:r,strokeWidth:a,translateX:d,translateY:h}},o.calculateMarkerBounds=function(e,t,o){var n,r,i,l,s,c,d,h,g,u,p,f,m,b,v=this,y=v.config,k=y.markerOpts,C=v.getDatasets(),w=v.getDataLimits(),x=w.dataMin,S=w.dataMax,L=k.hideNull,T=k.nullRadius,E=k.valueToRadius,F=1/0,_=1/0,N=-1/0,P=-1/0;for(c=0,g=C.length;c<g;c++)h=C[c],d=h.getName(),"markers"===d&&(n=h);if(n)for(c in n.calculateMarkerRadiusLimits(),r=n.config||{},i=r.minRadius,l=r.maxRadius,s=n.components&&n.components.markerObjs||{},s)b=s[c],y=b.config,m=y.definition||{},null!==y.cleanValue?(E&&m.radius===a&&(y.radius=i+(l-i)*(y.cleanValue-x)/(S-x)),f=Number(y.radius),u=(Number(m.x)+t)*e,p=(Number(m.y)+o)*e,F=A(F,u-f),_=A(_,p-f),N=I(N,u+f),P=I(P,p+f)):L?y.__hideMarker=!0:null===y.radius&&(y.radius=T);return{x:F,y:_,x1:N,y1:P}},o._spaceManager=function(){var e,t,o,n,r,a,i,l,s,c,d=this,h=d.config,u=d.getChildren("legend")&&d.getChildren("legend")[0],p=d.getChildren("gLegend")&&d.getChildren("gLegend")[0],f=u&&u.config.legendPos?u.config.legendPos.split("-"):p&&p.conf.legendPosition?p.conf.legendPosition.split("-"):[],m=d.getFromEnv("chart-attrib"),b=h.showBorder,v=h.origMarginLeft,y=h.origMarginTop,k=d.config.baseWidth,C=d.config.baseHeight,w={},x=0,S=0,L=h.markerOpts,T=h.borderWidth=b?(0,g.pluckNumber)(m.borderthickness,1):0;d._allocateSpace({top:T,bottom:T,left:T,right:T}),d._allocateSpace(d._manageActionBarSpace&&d._manageActionBarSpace(.225*h.availableHeight)||{}),s="right"===f[0]||"left"===f[0]?.3*h.canvasWidth:.3*h.canvasHeight,t=f[0]===g.POSITION_TOP||f[0]===F?h.canvasHeight:h.canvasWidth,h.showLegend&&d._manageLegendSpace(s),e=f[0]===F||f[0]===g.POSITION_TOP?.225*h.canvasHeight:.225*h.canvasWidth,"top"===f[0]&&(y+=t-h.canvasHeight),c=d._manageChartMenuBar(e),"left"===f[0]&&(v+=t-h.canvasWidth),n=h.canvasWidth,r=h.canvasHeight,L.dataEnabled?(h.adjustViewPortForMarkers?(w=d.preliminaryScaling(),w.x1>k&&(k=w.x1),w.x<0&&(k+=-w.x,x=-w.x),w.y1>C&&(C=w.y1),w.y<0&&(C+=-w.y,S=-w.y),o=d.getScalingParameters(k,C,n,r),w=d.calculateMarkerBounds(o.scaleFactor*d.config.baseScaleFactor,x,S),i=r,l=n,w.x<0&&(v+=-w.x,n+=w.x),w.y<0&&(y+=-w.y,r+=w.y),w.x1>l&&(n-=w.x1-l),w.y1>i&&(r-=w.y1-i)):(o=d.getScalingParameters(k,C,n,r),d.calculateMarkerBounds(o.scaleFactor*d.config.baseScaleFactor,x,S)),o=d.getScalingParameters(k,C,n,r),v+=x*o.scaleFactor*d.config.baseScaleFactor,y+=S*o.scaleFactor*d.config.baseScaleFactor):o=d.getScalingParameters(k,C,n,r),d.config.scalingParams=o,a=o.scaleFactor,o.translateX=o.translateX+v,o.translateY=o.translateY+y+c.top||0,o.sFactor=a*d.config.baseScaleFactor*100/100,o.transformStr=["t",o.translateX,",",o.translateY,"s",a,",",a,",0,0"].join(""),d.config.annotationConfig={id:"Geo",showbelow:0,autoscale:0,grpxshift:o.translateX?o.translateX:0,grpyshift:o.translateY?o.translateY:0,xscale:100*(a?a*d.config.baseScaleFactor:1),yscale:100*(a?a*d.config.baseScaleFactor:1),scaletext:1,options:{useTracker:!0}}},o.getDataLimits=function(){var e,t,o,n=this,r=n.getDatasets(),a=r.length,i=1/0,l=-1/0;for(o=0;o<a;o++)e=r[o],t=e.getDataLimits(),i=A(i,t.min),l=I(l,t.max);return{dataMin:i,dataMax:l}},o.getEntityPaths=function(e){var t,o={},n=this.config.entities;if(e){for(t in n)o[t]=n[t];return o}return n},o.checkComplete=function(){var e=this;e.config.entityFlag&&e.config.entitiesReady&&(e.config.entityFlag=!1,e.config.markersDrawn=!0,e.fireChartInstanceEvent("internal.mapdrawingcomplete",{renderer:e}))},t}(l.default),R=M;t.default=R},d3bc:function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r=n(o("55b5")),a=o("3388"),i=o("a506"),l=o("2813"),s=n(o("42a1")),c=function(e){e.configure&&e.configure()};(0,l.addDep)({name:"mapsAnimation",type:"animationRule",extension:s.default});var d=function(e){function t(){return e.apply(this,arguments)||this}(0,r.default)(t,e);var o=t.prototype;return o.getType=function(){return"group"},o.getName=function(){return"mapGroup"},o.configure=function(){var e=this;e._mapChildren(c)},o.createContainer=function(){var e,t=this,o=t.getLinkedParent(),n=t.getFromEnv("animationManager"),r=o.getChildContainer();e=r.plotGroup,!t.getChildContainer("plotShadow")&&t.addChildContainer("plotShadow",n.setAnimation({el:"group",attr:{name:"manager-plot-shadow",opacity:1},container:e,component:t,label:"group"})),!t.getChildContainer("plot")&&t.addChildContainer("plot",n.setAnimation({el:"group",attr:{name:"manager-plot",opacity:1},container:e,component:t,label:"group"})),!t.getChildContainer("layer0")&&t.addChildContainer("layer0",n.setAnimation({el:"group",attr:{name:"ann-layer0",opacity:1},container:r.abovePlotGroup,component:t,label:"group"})),!t.getChildContainer("layer1")&&t.addChildContainer("layer1",n.setAnimation({el:"group",attr:{name:"ann-layer1",opacity:1},container:r.abovePlotGroup,component:t,label:"group"})),o.config.labelsOnTop?t.getChildContainer("layer0").toFront():t.getChildContainer("layer0").toBack()},o._transformGroup=function(){var e=this,t=this.getFromEnv("chart"),o=t.getFromEnv("chartInstance"),n=e.getFromEnv("animationManager"),r=t.jsonData,a=e.getChildContainer("plot"),l=e.getChildContainer("plotShadow"),s=t.config.scalingParams,c=function(){return function(t){t.detachHandler(),i.hasSVG&&(o.args.link&&o.args.clickedEntityBox&&r.chart.linkedcharttransition,a&&n.setAnimation({el:a,attr:{transform:s.transformStr},component:e,label:"group"}),l&&n.setAnimation({el:l,attr:{transform:s.transformStr},component:e,label:"group"})),a.show(),l.show()}};a.hide(),l.hide(),t.config.entitiesReady=!1,o.addEventListener("internal.mapdrawingcomplete",c()),t.checkComplete()},o.draw=function(){this.createContainer(),this._transformGroup()},o.getDataLimits=function(e){var t,o=this,n=1/0,r=-1/0,a=0,i=function(e){r=Math.max(r,e.max),n=Math.min(n,e.min)};return o._mapChildren((function(o){o.getState("removed")||!1===o.getState("visible")?e&&(t=o.getDataLimits(e),i(t)):(a++,t=o.getDataLimits(e),i(t))})),a?o.setState("visible",!0):o.setState("visible",!1),this.config.range||(this.config.range={},this.config.range.min=this.config.dataMin,this.config.range.max=this.config.dataMax),{max:r,min:n}},t}(a.ComponentInterface),h=d;t.default=h},d9c1:function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r=n(o("d276"));t.Maps=r.default;var a={name:"maps",type:"package",requiresFusionCharts:!0,extension:function(e){return e.addDep(r.default)}};t.default=a},f0dd:function(e,t,o){"use strict";t.__esModule=!0,t.default=r;var n=o("a506");function r(e){var t,o,r,a,i=e.getFromEnv("dataSource"),l=i.dataset,s=e.getChildren(),c=s.canvas[0],d=t=c.getChildren("vCanvas")[0],h=e.config.defaultDatasetType||"";l?(r=e.getDSGroupdef(),r&&((0,n.componentFactory)(t,r,"datasetGroup_"+h,1,[l]),a=t.getChildren("datasetGroup_"+h)),a&&(d=a[0]),o=e.getDSdef(),(0,n.datasetFactory)(d,o,"dataset",l.length,l)):e.setChartMessage()}},f36a:function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r=n(o("55b5")),a=o("3388"),i=n(o("0a7a")),l=n(o("0abb")),s=o("a506"),c="gradient",d="icon",h="none";function g(e){return(0,s.getLightColor)(e,1)}function u(e){var t=e||b;return(0,s.getValidColor)(t)||b}var p,f="rgba(192,192,192,"+(s.isIE?.002:1e-6)+")",m="%",b="#000000",v=function(){var e,t={};function o(t){var o,n,r,a=e.getFromEnv("number-formatter");for(o=0,n=t.length;o<n;o++)r=t[o].maxvalue,r&&(t[o].maxvalue=a.getCleanValue(r))}return t.legendCarpetConf={spreadFactor:.85,allowDrag:!1,captionAlignment:"center",padding:{v:3,h:3},style:{fill:"#e4d9c1",stroke:"#c4b89d"}},t.legendCaptionConf={spreadFactor:.2,padding:{v:2,h:2},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"bold",fontStyle:"normal"},bound:{style:{stroke:"none"}}},t.legendBodyConf={spreadFactor:.8,padding:{v:2,h:2},bound:{style:{stroke:"none"}}},t.legendAxisConf={legendAxisHeight:11,spreadFactor:.4,padding:{v:1,h:1},style:{stroke:"none","stroke-opacity":0,"stroke-width":1},line:{grooveLength:3,offset:8,style:{stroke:"rgba(255, 255, 255, 0.65)","stroke-width":1.5}},shadow:{style:{stroke:"none",fill:(0,s.toRaphaelColor)({FCcolor:{alpha:"25,0,0",angle:360,color:"000000,FFFFFF,FFFFFF",ratio:"0,30,40"}})}},bound:{style:{stroke:"none"}}},t.sliderGroupConf={showTooltip:1,outerCircle:{rFactor:1.4,style:{fill:f,stroke:"#757575","stroke-width":3}},innerCircle:{rFactor:.65,style:{fill:f,stroke:"#FFFFFF"}}},t.axisTextItemConf={spreadFactor:.3,padding:{v:1,h:1},style:{fill:"#786B50",fontFamily:"sans-serif",fontSize:"12px",fontWeight:"normal",fontStyle:"normal"}},{init:function(t){e=t.chart},legacyDataParser:function(t,n){var r,a,i,l,c,d,h,f,b,v,y,k,C={},w=e.getFromEnv("number-formatter"),x=e.getFromEnv("dataSource"),S=x.data,L=n||{};if(!t)return!1;for("maps"!==e.defaultDatasetType||L.min!==p&&L.max!==p?"HeatMap"!==e.getName()||L.min!==p&&L.max!==p||(L={min:1/0,max:-1/0},x.dataset.forEach((function(e){e.data&&e.data.forEach((function(e){L.min=Math.min(L.min,(0,s.pluckNumber)(e.value,L.min)),L.max=Math.max(L.max,(0,s.pluckNumber)(e.value,L.max))}))}))):(L={min:1/0,max:-1/0},S&&S.forEach((function(e){L.min=Math.min(L.min,(0,s.pluckNumber)(e.value,L.min)),L.max=Math.max(L.max,(0,s.pluckNumber)(e.value,L.min))}))),C.mapByPercent=y=!!(0,s.pluckNumber)(t.mapbypercent,0),r=t.color||[],t.minvalue===p&&(t.minvalue=L.min!==p?y?0:L.min:0),t.maxvalue===p&&(t.maxvalue=L.max!==p?y?100:L.max:100),t.maxvalue!==t.minvalue&&L.min!==1/0&&L.max!==-1/0||(t.minvalue=0,t.maxvalue=100),k=!1,c=0,h=r.length;c<h;c++)if(r[c].maxvalue){k=!0;break}for(k||(r=[]),i=t.code,f=C.colorRange=[],C.gradient=!!(0,s.pluckNumber)(t.gradient,1),r.length?i=u(i):(i?(l=u(i),i=u()):(i=u(),l=g(i)),r.push({code:l,maxvalue:t.maxvalue,label:p})),o(r),r=r.sort((function(e,t){return e.maxvalue-t.maxvalue})),b=v=t.minvalue&&w.getCleanValue(t.minvalue),v=(b!==p||null!==b)&&(y?b+m:w.legendValue(b)),f.push({code:(0,s.dehashify)(i),value:b,displayValue:v,label:t.startlabel}),c=0,h=r.length;c<h;c++)a=r[c],d=u(a.code||a.color),b=v=a.maxvalue,isNaN(parseInt(b,10))||(v=(b!==p||null!==b)&&(y?b+m:w.legendValue(b)),f.push({code:(0,s.dehashify)(d),value:b,displayValue:v,label:a.label||a.displayvalue}));return f[f.length-1].label=t.endlabel||a.label,C},getDefaultConf:function(e){return t[e]}}}(),y=function(e){function t(){var t;return t=e.call(this)||this,t.datasource={},t.config.legendItemIds=[],t}(0,r.default)(t,e);var o=t.prototype;return o.configure=function(){var e,t,o,n=this,r=this.getFromEnv("chart"),a=this.getFromEnv("dataSource").chart.mapbycategory,g=r.config.showLegend,u=r.getChildren("colorRange")&&r.getChildren("colorRange")[0];switch(r.addToEnv("colorManager",n),n.datasource=r.getFromEnv("dataSource"),e=n.datasource.colorrange,u&&u.remove({instant:!0}),g||(n.config.legendItemIds=[]),t="maps"===r.defaultDatasetType?e.gradient&&Number(e.gradient)?c:e.color?d:h:"TreeMap"===r.getName()||e.gradient&&"0"!==e.gradient&&!Number(a)?c:d,t){case c:v.init({chart:r}),o=v.legacyDataParser(e),(0,s.componentFactory)(r,l.default,"colorRange",1,[o]),u=r.getChildren("colorRange")[0],r.addToEnv("colorRange",u),o||(u._dontPlot=!0),n.config.legendItemIds=[],n._configureGradientLegend(u);break;case"icon":(0,s.componentFactory)(r,i.default,"colorRange",1,[{colorRange:e,sortLegend:0,mapByCategory:(0,s.pluckNumber)(a,0),defaultColor:"cccccc",numberFormatter:r.getFromEnv("number-formatter")}]),r.addToEnv("colorRange",r.getChildren("colorRange")[0]),g&&n._addLegendItems();break;case"none":r.deleteFromEnv("colorManager"),n.config.legendItemIds=[]}},o._configureGradientLegend=function(e){var t=this,o=t.getFromEnv("chart").getFromEnv("gLegend");o&&(o.setColorRange(e),t.addExtEventListener("rangeUpdated",(function(e,o){t.fireEvent("legendUpdate",{"original-event":e,maxMinArray:o,component:"gradientlegend"})}),o))},o._addLegendItems=function(){var e,t,o,n,r,a=this,i=a.config,l=a.getFromEnv("chart"),c=l.getChildren("legend")[0],d=l.getFromEnv("colorRange").colorArr,h=d.length;for(n=0;n<h;n++)r={label:(0,s.pluck)(d[n].label,d[n].displayvalue),datasetObj:d[n],index:n},t=(0,s.getLightColor)(d[n].code,40),e={FCcolor:{color:d[n].code+","+d[n].code+","+t,ratio:"0,70,30",angle:270,alpha:"100,100,100"}},o=c.getItem(i.legendItemIds[n]),o||(i.legendItemIds.push(c.createItem(a)),o=c.getItem(i.legendItemIds[n]),o.addEventListener("fc-click",o.itemClickFn)),o.removeLegendState("hidden"),d[n].legendItemId=o&&o.getId(),o.configure(r),o.setStateCosmetics("default",{symbol:{fill:(0,s.toRaphaelColor)(e),rawFillColor:d[n].code}});for(n=h;n<i.legendItemIds.length;n++)c.disposeItem(i.legendItemIds[n]);i.legendItemIds.splice(h)},o.legendInteractivity=function(e){var t=this,o=t.getFromEnv("colorRange").colorArr[e.config.index];t.fireEvent("legendUpdate",{legendItem:e,colorObj:o,component:"legend"})},o.getColor=function(e){var t=this;return!Number(t.datasource.chart.mapbycategory)&&Number(t.datasource.colorrange.gradient)?{code:t.getColorByValue(e),label:t.getLabelByValue(e)}:t.getColorObj(e)},o.getValueRatio=function(){return this.getFromEnv("colorRange").getValueRatio()},o.getCumulativeValueRatio=function(){return this.getFromEnv("colorRange").getCumulativeValueRatio()},o.getBoxFill=function(e){return this.getFromEnv("colorRange").getBoxFill(e)},o.getColorByValue=function(e){return this.getFromEnv("colorRange").getColorByValue(e)},o.getColorObj=function(e){return this.getFromEnv("colorRange").getColorObj(e)},o.getLabelByValue=function(e){return this.getFromEnv("colorRange").getLabelByValue(e)},t}(a.ComponentInterface),k=y;t.default=k},fa16:function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=i;var r=o("a506"),a=n(o("4e14"));function i(e){var t;(0,r.componentFactory)(e,a.default,"legend"),t=e.getChildren("legend")[0],t.configure(),e.addToEnv("legend",t),e.config.showLegend||t.remove()}},fdae:function(e,t,o){"use strict";var n=o("4ea4");t.__esModule=!0,t.default=void 0;var r=n(o("55b5")),a=n(o("7c2f")),i=o("c54f"),l=n(o("f0dd")),s=n(o("fa16")),c=function(e){function t(){var t;return t=e.call(this)||this,t.registerFactory("dataset",l.default,["vCanvas"]),t.registerFactory("legend",s.default),t}(0,r.default)(t,e),t.getName=function(){return"MSCartesian"};var o=t.prototype;return o.getName=function(){return"MSCartesian"},o.getType=function(){return"chartAPI"},o._manageLegendSpace=function(){i._manageLegendSpace.call(this)},o.manageGradientLegendSpace=function(e){return i.manageGradientLegendSpace.call(this,e)},t}(a.default),d=c;t.default=d}}]);
//# sourceMappingURL=fusioncharts.maps.f10b2f43.js.map